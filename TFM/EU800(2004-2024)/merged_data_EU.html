<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>TFM data analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="merged_data_EU_files/libs/clipboard/clipboard.min.js"></script>
<script src="merged_data_EU_files/libs/quarto-html/quarto.js"></script>
<script src="merged_data_EU_files/libs/quarto-html/popper.min.js"></script>
<script src="merged_data_EU_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="merged_data_EU_files/libs/quarto-html/anchor.min.js"></script>
<link href="merged_data_EU_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="merged_data_EU_files/libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="merged_data_EU_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="merged_data_EU_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="merged_data_EU_files/libs/bootstrap/bootstrap-1bc8a17f135ab3d594c857e9f48e611b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<link href="merged_data_EU_files/libs/tabwid-1.1.3/tabwid.css" rel="stylesheet">

<script src="merged_data_EU_files/libs/tabwid-1.1.3/tabwid.js"></script>

<script src="merged_data_EU_files/libs/kePrint-0.0.1/kePrint.js"></script>

<link href="merged_data_EU_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">


  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">TFM data analysis</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr) </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(purrr)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gdata)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringdist)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggcorrplot)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mice)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(missForest)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plm)  </span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fastDummies)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fixest)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringmagic)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plm)</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lpirfs)</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stargazer)</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom) </span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(modelsummary)</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(psych)</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(flextable)</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rnaturalearth)</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rnaturalearthdata)</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggrepel)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="data-input-and-data-cleaning-from-2003-to-2023" class="level2">
<h2 class="anchored" data-anchor-id="data-input-and-data-cleaning-from-2003-to-2023">Data input and Data cleaning from 2003 to 2023</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>df2003 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"SB2004_EU500.xlsx"</span>, <span class="at">skip =</span> <span class="dv">5</span>, <span class="at">na =</span> <span class="st">".."</span>) <span class="sc">%&gt;%</span> <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="dv">2003</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df2003) <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rank"</span>, <span class="st">"company"</span>, <span class="st">"icb_sector"</span>, <span class="st">"country"</span>,</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_2003_million"</span>, <span class="st">"rd_growth_03_02_percent"</span>,</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_growth_02_01_percent"</span>, <span class="st">"rd_growth_01_00_percent"</span>,</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"sales_2003_million"</span>, <span class="st">"sales_growth_03_02_percent"</span>,</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"sales_growth_02_01_percent"</span>, <span class="st">"sales_growth_01_00_percent"</span>,</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"employees_2003"</span>, <span class="st">"employees_growth_03_02_percent"</span>,</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_intensity_2003_percent"</span>, <span class="st">"rd_intensity_2002_percent"</span>,</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">"profitability_2003_percent"</span>,</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_per_employee_2003_keuro"</span>, <span class="st">"rd_per_employee_2002_keuro"</span>,</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_per_employee_cagr_3y_percent"</span>,</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>  <span class="st">"market_cap_2003_million"</span>, <span class="st">"market_cap_growth_03_02_percent"</span>,</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>  <span class="st">"market_cap_cagr_3y_percent"</span>,</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>  <span class="st">"year"</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>df2004 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"SB2005_EU700.xlsx"</span>, <span class="at">skip =</span> <span class="dv">4</span>, <span class="at">na =</span> <span class="st">".."</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="dv">2004</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df2004) <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rank"</span>, <span class="st">"company"</span>, <span class="st">"icb_sector"</span>, <span class="st">"country"</span>,</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_investment_2004_million"</span>, </span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_investment_change_04_03_percent"</span>,</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_investment_change_03_02_percent"</span>,</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_investment_change_02_01_percent"</span>,</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"net_sales_2004_million"</span>, </span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">"net_sales_change_04_03_percent"</span>,</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"net_sales_change_03_02_percent"</span>,</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">"net_sales_change_02_01_percent"</span>,</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">"employees_2004"</span>, </span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>  <span class="st">"employees_change_04_03_percent"</span>,</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_sales_ratio_2004_percent"</span>, </span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_sales_ratio_2003_percent"</span>,</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>  <span class="st">"operating_profit_2004_percent_of_sales"</span>,</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_per_employee_2004_k_euro"</span>, </span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_per_employee_2003_k_euro"</span>,</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>  <span class="st">"market_cap_2004_million"</span>, </span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>  <span class="st">"market_cap_change_04_03_percent"</span>,</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>  <span class="st">"capex_2004_percent_of_sales"</span>,</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>  <span class="st">"capex_change_04_03_percent_of_sales"</span>,</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>  <span class="st">"year"</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>df2005 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"SB2006_EU1000.xlsx"</span>, <span class="at">skip =</span> <span class="dv">4</span>, <span class="at">na =</span> <span class="st">" "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="dv">2005</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df2005) <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rank"</span>, <span class="st">"company"</span>, <span class="st">"icb_sector"</span>, <span class="st">"country"</span>,</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_investment_2005_million"</span>, </span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_investment_change_05_04_%"</span>, </span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_investment_change_04_03_%"</span>, </span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_investment_change_03_02_%"</span>,</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"net_sales_2005_million"</span>, </span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">"net_sales_change_05_04_%"</span>, </span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"net_sales_change_04_03_%"</span>, </span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">"net_sales_change_03_02_%"</span>,</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">"employees_2005"</span>, </span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>  <span class="st">"employees_change_05_04_%"</span>, </span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_sales_ratio_2005_%"</span>, </span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_sales_ratio_2004_%"</span>,</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>  <span class="st">"operating_profit_2005_%_of_sales"</span>,</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_per_employee_2005_ke"</span>, </span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_per_employee_2004_ke"</span>,</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>  <span class="st">"market_cap_2005_million"</span>, </span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>  <span class="st">"market_cap_change_05_04_%"</span>,</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>  <span class="st">"capex_2005_%_of_sales"</span>, </span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>  <span class="st">"capex_2004_%_of_sales"</span>,</span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>  <span class="st">"year"</span></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>df2006 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"SB2007_EU1000.xlsx"</span>, <span class="at">skip =</span> <span class="dv">4</span>, <span class="at">na =</span> <span class="st">" "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="dv">2006</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df2006) <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rank"</span>, <span class="st">"company"</span>, <span class="st">"icb_sector"</span>, <span class="st">"country"</span>,</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_investment_2006_million"</span>, <span class="st">"rd_investment_change_06_05_percent"</span>,</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_investment_change_05_04_percent"</span>, <span class="st">"rd_investment_change_04_03_percent"</span>,</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"net_sales_2006_million"</span>, <span class="st">"net_sales_change_06_05_percent"</span>,</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"net_sales_change_05_04_percent"</span>, <span class="st">"net_sales_change_04_03_percent"</span>,</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">"employees_2006"</span>, <span class="st">"employees_change_06_05_percent"</span>,</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_sales_ratio_2006_percent"</span>, <span class="st">"rd_sales_ratio_2005_percent"</span>,</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">"operating_profit_2006_percent_of_sales"</span>,</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_per_employee_2006_k_euro"</span>, <span class="st">"rd_per_employee_2005_k_euro"</span>,</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>  <span class="st">"market_cap_2006_million"</span>, <span class="st">"market_cap_change_06_05_percent"</span>,</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>  <span class="st">"capex_2006_percent_of_sales"</span>, <span class="st">"capex_2005_percent_of_sales"</span>,</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>  <span class="st">"year"</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>df2007 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"SB2008_EU1000.xlsx"</span>, <span class="at">skip =</span> <span class="dv">4</span>, <span class="at">na =</span> <span class="st">" "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="dv">2007</span>)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df2007) <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rank"</span>, <span class="st">"company"</span>, <span class="st">"icb_sector"</span>, <span class="st">"country"</span>,</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_investment_2007_million"</span>, </span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_investment_change_07_06_percent"</span>, </span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_investment_change_06_05_percent"</span>, </span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_investment_change_05_04_percent"</span>,</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"net_sales_2007_million"</span>, </span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">"net_sales_change_07_06_percent"</span>, </span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"net_sales_change_06_05_percent"</span>, </span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">"net_sales_change_05_04_percent"</span>,</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">"employees_2007"</span>, </span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>  <span class="st">"employees_change_07_06_percent"</span>, </span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_sales_ratio_2007_percent"</span>, </span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_sales_ratio_2006_percent"</span>,</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>  <span class="st">"operating_profit_2007_percent_of_sales"</span>,</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_per_employee_2007_ke"</span>, </span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_per_employee_2006_ke"</span>,</span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>  <span class="st">"market_cap_2007_million"</span>,<span class="st">"market_cap_change_07_06_percent_of_sales"</span>,</span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>  <span class="st">"capex_2007_percent_of_sales"</span>,</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>  <span class="st">"capex_2006_percent_of_sales"</span>,</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>  <span class="st">"year"</span></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>df2008 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"SB2009_EU1000.xlsx"</span>, <span class="at">skip =</span> <span class="dv">4</span>, <span class="at">na =</span> <span class="st">" "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="dv">2008</span>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df2008) <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rank"</span>, <span class="st">"company"</span>, <span class="st">"icb_sector"</span>, <span class="st">"country"</span>,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_investment_2008_million"</span>, <span class="st">"rd_investment_change_08_07_percent"</span>,</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_investment_change_07_06_percent"</span>, <span class="st">"rd_investment_change_06_05_percent"</span>,</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"net_sales_2008_million"</span>, <span class="st">"net_sales_change_08_07_percent"</span>,</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"net_sales_change_07_06_percent"</span>, <span class="st">"net_sales_change_06_05_percent"</span>,</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">"employees_2008"</span>, <span class="st">"employees_change_08_07_percent"</span>,</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_sales_ratio_2008_percent"</span>, <span class="st">"rd_sales_ratio_2007_percent"</span>,</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">"operating_profit_2008_percent_of_sales"</span>,</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_per_employee_2008_ke"</span>, <span class="st">"rd_per_employee_2007_ke"</span>,</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>  <span class="st">"market_cap_2008_million"</span>,<span class="st">"market_cap_change_08_07_percent"</span>, <span class="st">"capex_2008_percent_of_sales"</span>,</span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>  <span class="st">"capex_2007_percent_of_sales"</span>,</span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>  <span class="st">"year"</span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>df2009 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"SB2010_EU1000.xlsx"</span>, <span class="at">skip =</span> <span class="dv">4</span>, <span class="at">na =</span> <span class="st">" "</span>) <span class="sc">%&gt;%</span> <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">year =</span> <span class="dv">2009</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df2009) <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rank"</span>, <span class="st">"company"</span>, <span class="st">"icb_sector"</span>, <span class="st">"country"</span>,</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_investment_2009_million"</span>, <span class="st">"rd_investment_change_09_08_percent"</span>, </span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_investment_change_08_07_percent"</span>, <span class="st">"rd_investment_change_07_06_percent"</span>,</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"net_sales_2009_million"</span>, <span class="st">"net_sales_change_09_08_percent"</span>, </span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"net_sales_change_08_07_percent"</span>, <span class="st">"net_sales_change_07_06_percent"</span>,</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"employees_2009"</span>, <span class="st">"employees_change_09_08_percent"</span>,</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_sales_ratio_2009_percent"</span>, <span class="st">"rd_sales_ratio_2008_percent"</span>,</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"operating_profit_2009_percent_of_sales"</span>,</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_per_employee_2009_k_euro"</span>, <span class="st">"rd_per_employee_2008_k_euro"</span>,</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>  <span class="st">"market_cap_2009_million"</span>, <span class="st">"market_cap_change_09_08_percent"</span>,</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>  <span class="st">"capex_2009_percent_of_sales"</span>, <span class="st">"capex_2008_percent_of_sales"</span>,</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>  <span class="st">"year"</span></span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>df2010 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"SB2011_EU1000.xlsx"</span>, <span class="at">skip =</span> <span class="dv">4</span>, <span class="at">na =</span> <span class="st">" "</span>) <span class="sc">%&gt;%</span> <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">year =</span> <span class="dv">2010</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df2010) <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rank"</span>, <span class="st">"company"</span>, <span class="st">"icb_sector"</span>, <span class="st">"country"</span>,</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_2010_million"</span>, <span class="st">"rd_growth_1y_percent"</span>,</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_investment_change_09_08_percent"</span>, <span class="st">"rd_investment_change_08_07_percent"</span>,</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"sales_2010_million"</span>, <span class="st">"sales_growth_1y_percent"</span>,</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"sales_change_09_08_percent"</span>, <span class="st">"sales_change_08_07_percent"</span>,</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"employees_2010"</span>, <span class="st">"employees_growth_1y_percent"</span>,</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_intensity_percent"</span>, <span class="st">"rd_sales_ratio_2009_percent"</span>,</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"profitability_percent"</span>,</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_per_employee_2010_k_euro"</span>, <span class="st">"rd_per_employee_2009_k_euro"</span>,</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>  <span class="st">"market_cap_2010_million"</span>, <span class="st">"market_cap_growth_1y_percent"</span>,</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>  <span class="st">"capex_intensity_percent"</span>, <span class="st">"capex_2009_percent_of_sales"</span>,</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>  <span class="st">"year"</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>df2011 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"SB2012_EU1000.xlsx"</span>, <span class="at">skip =</span> <span class="dv">2</span>, <span class="at">na =</span> <span class="st">" "</span>) <span class="sc">%&gt;%</span> <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">year =</span> <span class="dv">2011</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df2011) <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rank"</span>, <span class="st">"company"</span>, <span class="st">"country"</span>, <span class="st">"icb_sector"</span>,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_2011_million"</span>, <span class="st">"rd_growth_1y_percent"</span>, <span class="st">"rd_cagr_3y_percent"</span>,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"sales_2011_million"</span>, <span class="st">"sales_growth_1y_percent"</span>, <span class="st">"sales_cagr_3y_percent"</span>,</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_intensity_percent"</span>,</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"capex_2011_million"</span>, <span class="st">"capex_growth_1y_percent"</span>, <span class="st">"capex_cagr_3y_percent"</span>,</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"capex_intensity_percent"</span>,</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">"profit_2011_million"</span>, <span class="st">"profit_growth_1y_percent"</span>, <span class="st">"profit_cagr_3y_percent"</span>,</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"profitability_percent"</span>,</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">"employees_2011"</span>, <span class="st">"employees_growth_1y_percent"</span>, <span class="st">"employees_cagr_3y_percent"</span>,</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>  <span class="st">"year"</span></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>df2012 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"SB2013_EU1000.xlsx"</span>, <span class="at">skip =</span> <span class="dv">3</span>, <span class="at">na =</span> <span class="st">" "</span>) <span class="sc">%&gt;%</span> <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">year =</span> <span class="dv">2012</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df2012) <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rank"</span>, <span class="st">"company"</span>, <span class="st">"country"</span>, <span class="st">"icb_sector"</span>,</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_2012_million"</span>, <span class="st">"rd_growth_1y_percent"</span>, <span class="st">"rd_cagr_3y_percent"</span>,</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_intensity_percent"</span>,</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"sales_2012_million"</span>, <span class="st">"sales_growth_1y_percent"</span>, <span class="st">"sales_cagr_3y_percent"</span>,</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"capex_2012_million"</span>, <span class="st">"capex_growth_1y_percent"</span>, <span class="st">"capex_cagr_3y_percent"</span>,</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"capex_intensity_percent"</span>,</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"profit_2012_million"</span>, <span class="st">"profit_growth_1y_percent"</span>, <span class="st">"profit_cagr_3y_percent"</span>,</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">"profitability_percent"</span>,</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">"employees_2012"</span>, <span class="st">"employees_growth_1y_percent"</span>, <span class="st">"employees_cagr_3y_percent"</span>,</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">"year"</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>df2013 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"SB2014_EU1000.xlsx"</span>, <span class="at">skip =</span> <span class="dv">1</span>, <span class="at">na =</span> <span class="st">" "</span>) <span class="sc">%&gt;%</span> <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">year =</span> <span class="dv">2013</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df2013) <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rank"</span>, <span class="st">"company"</span>, <span class="st">"country"</span>, <span class="st">"icb_sector"</span>,</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_2013_million"</span>, <span class="st">"rd_growth_1y_percent"</span>, <span class="st">"rd_cagr_3y_percent"</span>,</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_intensity_percent"</span>,</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"sales_2013_million"</span>, <span class="st">"sales_growth_1y_percent"</span>, <span class="st">"sales_cagr_3y_percent"</span>,</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"capex_2013_million"</span>, <span class="st">"capex_growth_1y_percent"</span>, <span class="st">"capex_cagr_3y_percent"</span>,</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"capex_intensity_percent"</span>,</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"profit_2013_million"</span>, <span class="st">"profit_growth_1y_percent"</span>, <span class="st">"profit_cagr_3y_percent"</span>,</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">"profitability_percent"</span>,</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">"employees_2013"</span>, <span class="st">"employees_growth_1y_percent"</span>, <span class="st">"employees_cagr_3y_percent"</span>,</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">"year"</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>df2014 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"SB2015_EU1000.xlsx"</span>, <span class="at">skip =</span> <span class="dv">2</span>, <span class="at">na =</span> <span class="st">" "</span>) <span class="sc">%&gt;%</span> <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">year =</span> <span class="dv">2014</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df2014) <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rank"</span>, <span class="st">"company"</span>, <span class="st">"country"</span>, <span class="st">"icb_sector"</span>,</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_2014_million"</span>, <span class="st">"rd_growth_1y_percent"</span>, <span class="st">"rd_cagr_3y_percent"</span>,</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"sales_2014_million"</span>, <span class="st">"sales_growth_1y_percent"</span>, <span class="st">"sales_cagr_3y_percent"</span>,</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_intensity_percent"</span>,</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"capex_2014_million"</span>, <span class="st">"capex_growth_1y_percent"</span>, <span class="st">"capex_cagr_3y_percent"</span>, <span class="st">"capex_intensity_percent"</span>,</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"profit_2014_million"</span>, <span class="st">"profit_growth_1y_percent"</span>, <span class="st">"profit_cagr_3y_percent"</span>,</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">"profitability_percent"</span>,</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">"employees_2014"</span>, <span class="st">"employees_growth_1y_percent"</span>, <span class="st">"employees_cagr_3y_percent"</span>,</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">"year"</span></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>df2015 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"SB2016_EU1000.xlsx"</span>, <span class="at">skip =</span> <span class="dv">2</span>, <span class="at">na =</span> <span class="st">" "</span>) <span class="sc">%&gt;%</span> <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">year =</span> <span class="dv">2015</span>)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df2015) <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rank"</span>, <span class="st">"company"</span>, <span class="st">"country"</span>, <span class="st">"icb_sector"</span>,</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_2015_million"</span>, <span class="st">"rd_growth_1y_percent"</span>, <span class="st">"rd_cagr_3y_percent"</span>,</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"sales_2015_million"</span>, <span class="st">"sales_growth_1y_percent"</span>, <span class="st">"sales_cagr_3y_percent"</span>,</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_intensity_percent"</span>,</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"capex_2015_million"</span>, <span class="st">"capex_growth_1y_percent"</span>, <span class="st">"capex_cagr_3y_percent"</span>, <span class="st">"capex_intensity_percent"</span>,</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"profit_2015_million"</span>, <span class="st">"profit_growth_1y_percent"</span>, <span class="st">"profit_cagr_3y_percent"</span>,</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">"profitability_percent"</span>,</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">"employees_2015"</span>, <span class="st">"employees_growth_1y_percent"</span>, <span class="st">"employees_cagr_3y_percent"</span>,</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">"year"</span></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>df2016 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"SB2017_EU1000.xlsx"</span>,  <span class="at">na =</span> <span class="st">" "</span>) <span class="sc">%&gt;%</span> <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">year =</span> <span class="dv">2016</span>)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df2016) <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rank"</span>, <span class="st">"company"</span>, <span class="st">"country"</span>, <span class="st">"icb_sector"</span>,</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_2016_million"</span>, <span class="st">"rd_growth_1y_percent"</span>,</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"sales_2016_million"</span>, <span class="st">"sales_growth_1y_percent"</span>,</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_intensity_percent"</span>,</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"capex_2016_million"</span>, <span class="st">"capex_growth_1y_percent"</span>, <span class="st">"capex_intensity_percent"</span>,</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"profit_2016_million"</span>, <span class="st">"profit_growth_1y_percent"</span>, <span class="st">"profitability_percent"</span>,</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"employees_2016_thousand"</span>, <span class="st">"employees_growth_1y_percent"</span>,</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">"market_cap_2016_million"</span>, <span class="st">"market_cap_growth_1y_percent"</span>,</span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>  <span class="st">"year"</span></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>df2016 <span class="ot">&lt;-</span> df2016 <span class="sc">%&gt;%</span></span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">employees_2016 =</span> employees_2016_thousand) <span class="sc">%&gt;%</span>  </span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">employees_2016 =</span> employees_2016 <span class="sc">*</span> <span class="dv">1000</span>)        </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>df2017 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"SB2018_EU1000.xlsx"</span>,  <span class="at">na =</span> <span class="st">" "</span>) <span class="sc">%&gt;%</span> <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">year =</span> <span class="dv">2017</span>)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df2017) <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rank"</span>, <span class="st">"company"</span>, <span class="st">"country"</span>, <span class="st">"icb_sector"</span>,</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_2017_million"</span>, <span class="st">"rd_growth_1y_percent"</span>,</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"sales_2017_million"</span>, <span class="st">"sales_growth_1y_percent"</span>,</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_intensity_percent"</span>,</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"capex_2017_million"</span>, <span class="st">"capex_growth_1y_percent"</span>, <span class="st">"capex_intensity_percent"</span>,</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"profit_2017_million"</span>, <span class="st">"profit_growth_1y_percent"</span>, <span class="st">"profitability_percent"</span>,</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"employees_2017"</span>, <span class="st">"employees_growth_1y_percent"</span>,</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">"market_cap_2017_million"</span>, <span class="st">"market_cap_growth_1y_percent"</span>,</span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>  <span class="st">"year"</span></span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>df2018 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"SB2019_EU1000.xlsx"</span>,  <span class="at">na =</span> <span class="st">" "</span>) <span class="sc">%&gt;%</span> <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">year =</span> <span class="dv">2018</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df2018) <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rank"</span>, <span class="st">"company"</span>, <span class="st">"country"</span>, <span class="st">"icb_sector"</span>,</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_2018_million"</span>, <span class="st">"rd_growth_1y_percent"</span>,</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"sales_2018_million"</span>, <span class="st">"sales_growth_1y_percent"</span>,</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_intensity_percent"</span>,</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"capex_2018_million"</span>, <span class="st">"capex_growth_1y_percent"</span>, <span class="st">"capex_intensity_percent"</span>,</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"profit_2018_million"</span>, <span class="st">"profit_growth_1y_percent"</span>, <span class="st">"profitability_percent"</span>,</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"employees_2018"</span>, <span class="st">"employees_growth_1y_percent"</span>,</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">"market_cap_2018_million"</span>, <span class="st">"market_cap_growth_1y_percent"</span>,</span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>  <span class="st">"year"</span></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>df2019 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"SB2020_EU+UK1000.xlsx"</span>,  <span class="at">na =</span> <span class="st">" "</span>) <span class="sc">%&gt;%</span> <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">year =</span> <span class="dv">2019</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df2019) <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rank"</span>, <span class="st">"company"</span>, <span class="st">"country"</span>, <span class="st">"region"</span>, <span class="st">"icb_sector"</span>,</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_2019_million"</span>, <span class="st">"rd_growth_1y_percent"</span>,</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"sales_2019_million"</span>, <span class="st">"sales_growth_1y_percent"</span>,</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_intensity_percent"</span>,</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"capex_2019_million"</span>, <span class="st">"capex_growth_1y_percent"</span>, <span class="st">"capex_intensity_percent"</span>,</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"profit_2019_million"</span>, <span class="st">"profit_growth_1y_percent"</span>, <span class="st">"profitability_percent"</span>,</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"employees_2019"</span>, <span class="st">"employees_growth_1y_percent"</span>,</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">"market_cap_2019_million"</span>, <span class="st">"market_cap_growth_1y_percent"</span>,</span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>  <span class="st">"year"</span></span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>df2020 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"SB2021_EU1000.xlsx"</span>,  <span class="at">na =</span> <span class="st">" "</span>) <span class="sc">%&gt;%</span> <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">year =</span> <span class="dv">2020</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df2020) <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rank"</span>, <span class="st">"company"</span>, <span class="st">"country"</span>, <span class="st">"region"</span>, <span class="st">"icb_sector"</span>,</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_2020_million"</span>, <span class="st">"rd_growth_1y_percent"</span>,</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"sales_2020_million"</span>, <span class="st">"sales_growth_1y_percent"</span>,</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_intensity_percent"</span>,</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"capex_2020_million"</span>, <span class="st">"capex_growth_1y_percent"</span>, <span class="st">"capex_intensity_percent"</span>,</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"profit_2020_million"</span>, <span class="st">"profit_growth_1y_percent"</span>, <span class="st">"profitability_percent"</span>,</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"employees_2020"</span>, <span class="st">"employees_growth_1y_percent"</span>,</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">"market_cap_2020_million"</span>, <span class="st">"market_cap_growth_1y_percent"</span>,</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>  <span class="st">"year"</span></span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>df2021 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"SB2022_EU1000.xlsx"</span>,  <span class="at">na =</span> <span class="st">" "</span>) <span class="sc">%&gt;%</span> <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">year =</span> <span class="dv">2021</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df2021) <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rank"</span>, <span class="st">"company"</span>, <span class="st">"country"</span>, <span class="st">"region"</span>, <span class="st">"icb_sector"</span>,</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_2021_million"</span>, <span class="st">"rd_growth_1y_percent"</span>,</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"sales_2021_million"</span>, <span class="st">"sales_growth_1y_percent"</span>,</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_intensity_percent"</span>,</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"capex_2021_million"</span>, <span class="st">"capex_growth_1y_percent"</span>, <span class="st">"capex_intensity_percent"</span>,</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"profit_2021_million"</span>, <span class="st">"profit_growth_1y_percent"</span>, <span class="st">"profitability_percent"</span>,</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"employees_2021"</span>, <span class="st">"employees_growth_1y_percent"</span>,</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">"market_cap_2021_million"</span>, <span class="st">"market_cap_growth_1y_percent"</span>,</span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>  <span class="st">"year"</span></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>df2022 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"SB2023_EU1000.xlsx"</span>,  <span class="at">na =</span> <span class="st">" "</span>) <span class="sc">%&gt;%</span> <span class="fu">clean_names</span>()</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df2022) <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rank"</span>, <span class="st">"company"</span>, <span class="st">"year"</span>, <span class="st">"country"</span>, <span class="st">"region"</span>, <span class="st">"icb_sector"</span>,</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_2022_million"</span>, <span class="st">"rd_growth_1y_percent"</span>,</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"sales_2022_million"</span>, <span class="st">"sales_growth_1y_percent"</span>,</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_intensity_percent"</span>,</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"capex_2022_million"</span>, <span class="st">"capex_growth_1y_percent"</span>, <span class="st">"capex_intensity_percent"</span>,</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"profit_2022_million"</span>, <span class="st">"profit_growth_1y_percent"</span>, <span class="st">"profitability_percent"</span>,</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"employees_2022"</span>, <span class="st">"employees_growth_1y_percent"</span>,</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">"market_cap_2022_million"</span>, <span class="st">"market_cap_growth_1y_percent"</span></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>df2023 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"SB2024_EU800.xlsx"</span>,  <span class="at">na =</span> <span class="st">" "</span>) <span class="sc">%&gt;%</span> <span class="fu">clean_names</span>() </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df2023) <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rank"</span>, <span class="st">"company"</span>, <span class="st">"year"</span>, <span class="st">"country"</span>, <span class="st">"region"</span>, <span class="st">"icb_sector"</span>,</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_2023_million"</span>, <span class="st">"rd_growth_1y_percent"</span>,</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"sales_2023_million"</span>, <span class="st">"sales_growth_1y_percent"</span>,</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_intensity_percent"</span>,</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"capex_2023_million"</span>, <span class="st">"capex_growth_1y_percent"</span>, <span class="st">"capex_intensity_percent"</span>,</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"profit_2023_million"</span>, <span class="st">"profit_growth_1y_percent"</span>, <span class="st">"profitability_percent"</span>,</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"market_cap_2023_million"</span>, <span class="st">"market_cap_growth_1y_percent"</span>,</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">"employees_2023"</span>, <span class="st">"employees_growth_1y_percent"</span></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="check-the-company" class="level2">
<h2 class="anchored" data-anchor-id="check-the-company">Check the company</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>list_of_dfs <span class="ot">&lt;-</span> <span class="fu">list</span>( df2003,df2004,df2005, df2006, df2007, df2008, df2009,</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>                    df2010, df2011, df2012, df2013, df2014, df2015, df2016,</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>                    df2017, df2018, df2019, df2020, df2021, df2022, df2023)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>list_of_dfs <span class="ot">&lt;-</span> <span class="fu">lapply</span>(list_of_dfs, <span class="cf">function</span>(df) {</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">company =</span> <span class="fu">toupper</span>(company))</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>company_years <span class="ot">&lt;-</span> <span class="fu">lapply</span>(list_of_dfs, <span class="cf">function</span>(df) {</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span> <span class="fu">select</span>(company, year) <span class="sc">%&gt;%</span> <span class="fu">distinct</span>()</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>}) <span class="sc">%&gt;%</span> <span class="fu">bind_rows</span>()</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>company_counts <span class="ot">&lt;-</span> company_years <span class="sc">%&gt;%</span></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(company) <span class="sc">%&gt;%</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n_years =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n_years))</span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>consistent_companies <span class="ot">&lt;-</span> company_counts <span class="sc">%&gt;%</span></span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n_years <span class="sc">==</span> <span class="dv">21</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To identify firms consistently present in the R&amp;D rankings from 2003 to 2023, I merged annual datasets and standardized company names. Only 124 companies appeared in all 21 years. This small sample size limits the feasibility of in-depth statistical or econometric analysis, especially when further segmented by country, industry, or other variables.</p>
</section>
<section id="company-persistence-analysis" class="level2">
<h2 class="anchored" data-anchor-id="company-persistence-analysis">Company Persistence Analysis</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>company_by_year <span class="ot">&lt;-</span> <span class="fu">lapply</span>(list_of_dfs, <span class="cf">function</span>(df) {</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">company =</span> <span class="fu">toupper</span>(company)) <span class="sc">%&gt;%</span> <span class="fu">select</span>(company, year) <span class="sc">%&gt;%</span> <span class="fu">distinct</span>()</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>}) <span class="sc">%&gt;%</span> <span class="fu">bind_rows</span>()</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>all_years <span class="ot">&lt;-</span> <span class="fu">sort</span>(<span class="fu">unique</span>(company_by_year<span class="sc">$</span>year))</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>window_size <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>results <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>(<span class="fu">length</span>(all_years) <span class="sc">-</span> window_size <span class="sc">+</span> <span class="dv">1</span>)) {</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>  years_window <span class="ot">&lt;-</span> all_years[i<span class="sc">:</span>(i <span class="sc">+</span> window_size <span class="sc">-</span> <span class="dv">1</span>)]</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>  filtered <span class="ot">&lt;-</span> company_by_year <span class="sc">%&gt;%</span> <span class="fu">filter</span>(year <span class="sc">%in%</span> years_window)</span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>  common_companies <span class="ot">&lt;-</span> filtered <span class="sc">%&gt;%</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(company) <span class="sc">%&gt;%</span></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">n_years =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(n_years <span class="sc">==</span> window_size)</span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>  results[[i]] <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">start_year =</span> years_window[<span class="dv">1</span>],</span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">end_year =</span> years_window[window_size],</span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">common_company_count =</span> <span class="fu">nrow</span>(common_companies)</span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a>window_stats <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(results)</span>
<span id="cb24-28"><a href="#cb24-28" aria-hidden="true" tabindex="-1"></a>window_stats <span class="sc">%&gt;%</span> <span class="fu">filter</span>(common_company_count <span class="sc">&gt;=</span> <span class="dv">400</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-29"><a href="#cb24-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(common_company_count))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3  3
  start_year end_year common_company_count
       &lt;dbl&gt;    &lt;dbl&gt;                &lt;int&gt;
1       2010     2019                  417
2       2009     2018                  412
3       2008     2017                  400</code></pre>
</div>
</div>
<p>To identify a robust analysis window, I applied a 10-year rolling window to the data from 2003 to 2023. For each window, I counted the number of companies consistently present in all 10 years. Among the options, the period 20102019 had the highest count with 417 consistent companies, providing a sufficiently large and stable sample. Therefore, I selected 20102019 as the target window for further analysis.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>target_years <span class="ot">&lt;-</span> <span class="dv">2010</span><span class="sc">:</span><span class="dv">2019</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>company_years_target <span class="ot">&lt;-</span> company_by_year <span class="sc">%&gt;%</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">%in%</span> target_years)</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>common_companies_10y <span class="ot">&lt;-</span> company_years_target <span class="sc">%&gt;%</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(company) <span class="sc">%&gt;%</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n_years =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n_years <span class="sc">==</span> <span class="fu">length</span>(target_years)) <span class="sc">%&gt;%</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(company)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To identify firms consistently present from 2010 to 2019, I filtered the data to include only those years and counted the number of appearances for each company. Companies with records in all 10 years were selected as the final sample for analysis.</p>
</section>
<section id="merged-data" class="level2">
<h2 class="anchored" data-anchor-id="merged-data">Merged data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>dfs <span class="ot">&lt;-</span> <span class="fu">list</span>(df2010, df2011, df2012, df2013, df2014,</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>            df2015, df2016, df2017, df2018, df2019)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>dfs <span class="ot">&lt;-</span> <span class="fu">lapply</span>(dfs, <span class="cf">function</span>(df) {</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">company =</span> <span class="fu">toupper</span>(company)) <span class="sc">%&gt;%</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(company <span class="sc">%in%</span> common_companies_10y) <span class="sc">|&gt;</span> </span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>year) </span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>dfs_named <span class="ot">&lt;-</span> <span class="fu">map2</span>(dfs, target_years, <span class="cf">function</span>(df, y) {</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename_with</span>(<span class="sc">~</span> <span class="fu">paste0</span>(., <span class="st">"_"</span>, y), <span class="at">.cols =</span> <span class="sc">-</span>company)</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>wide_data <span class="ot">&lt;-</span> <span class="fu">reduce</span>(dfs_named, <span class="sc">~</span> <span class="fu">left_join</span>(.x, .y, <span class="at">by =</span> <span class="st">"company"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>wide_data <span class="ot">&lt;-</span> wide_data <span class="sc">%&gt;%</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">where</span>(<span class="sc">~</span> <span class="sc">!</span><span class="fu">is.factor</span>(.)), as.character)) <span class="sc">%&gt;%</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  { meta <span class="ot">&lt;-</span> <span class="fu">select</span>(., company, <span class="fu">matches</span>(<span class="st">"^(rank|country|icb_sector|region|rd_growth_1y_percent|sales_growth_1y_percent|rd_intensity_percent|capex_intensity_percent|profitability_percent|employees_growth_1y_percent)_</span><span class="sc">\\</span><span class="st">d{4}$"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">pivot_longer</span>(</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">cols =</span> <span class="sc">-</span>company,</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">"variable"</span>, <span class="st">"year"</span>),</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">names_pattern =</span> <span class="st">"^(.*)_(</span><span class="sc">\\</span><span class="st">d{4})$"</span>,</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">values_to =</span> <span class="st">"value"</span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">%&gt;%</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>      <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> variable, <span class="at">values_from =</span> value) <span class="sc">%&gt;%</span></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">as.integer</span>(year))</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>    rd <span class="ot">&lt;-</span> <span class="fu">select</span>(., company, <span class="fu">matches</span>(<span class="st">"^rd_</span><span class="sc">\\</span><span class="st">d{4}_million_</span><span class="sc">\\</span><span class="st">d{4}$"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">pivot_longer</span>(</span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">cols =</span> <span class="sc">-</span>company,</span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">names_to =</span> <span class="st">"year"</span>,</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">names_pattern =</span> <span class="st">"^rd_</span><span class="sc">\\</span><span class="st">d{4}_million_(</span><span class="sc">\\</span><span class="st">d{4})$"</span>,</span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">values_to =</span> <span class="st">"rd_million"</span></span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">%&gt;%</span></span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">as.integer</span>(year))</span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a>    sales <span class="ot">&lt;-</span> <span class="fu">select</span>(., company, <span class="fu">matches</span>(<span class="st">"^sales_</span><span class="sc">\\</span><span class="st">d{4}_million_</span><span class="sc">\\</span><span class="st">d{4}$"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a>      <span class="fu">pivot_longer</span>(</span>
<span id="cb28-24"><a href="#cb28-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">cols =</span> <span class="sc">-</span>company,</span>
<span id="cb28-25"><a href="#cb28-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">names_to =</span> <span class="st">"year"</span>,</span>
<span id="cb28-26"><a href="#cb28-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">names_pattern =</span> <span class="st">"^sales_</span><span class="sc">\\</span><span class="st">d{4}_million_(</span><span class="sc">\\</span><span class="st">d{4})$"</span>,</span>
<span id="cb28-27"><a href="#cb28-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">values_to =</span> <span class="st">"sales_million"</span></span>
<span id="cb28-28"><a href="#cb28-28" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">%&gt;%</span></span>
<span id="cb28-29"><a href="#cb28-29" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">as.integer</span>(year))</span>
<span id="cb28-30"><a href="#cb28-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-31"><a href="#cb28-31" aria-hidden="true" tabindex="-1"></a>    employees <span class="ot">&lt;-</span> <span class="fu">select</span>(., company, <span class="fu">matches</span>(<span class="st">"^employees_</span><span class="sc">\\</span><span class="st">d{4}_</span><span class="sc">\\</span><span class="st">d{4}$"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb28-32"><a href="#cb28-32" aria-hidden="true" tabindex="-1"></a>      <span class="fu">pivot_longer</span>(</span>
<span id="cb28-33"><a href="#cb28-33" aria-hidden="true" tabindex="-1"></a>        <span class="at">cols =</span> <span class="sc">-</span>company,</span>
<span id="cb28-34"><a href="#cb28-34" aria-hidden="true" tabindex="-1"></a>        <span class="at">names_to =</span> <span class="st">"year"</span>,</span>
<span id="cb28-35"><a href="#cb28-35" aria-hidden="true" tabindex="-1"></a>        <span class="at">names_pattern =</span> <span class="st">"^employees_</span><span class="sc">\\</span><span class="st">d{4}_(</span><span class="sc">\\</span><span class="st">d{4})$"</span>,</span>
<span id="cb28-36"><a href="#cb28-36" aria-hidden="true" tabindex="-1"></a>        <span class="at">values_to =</span> <span class="st">"employees"</span></span>
<span id="cb28-37"><a href="#cb28-37" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">%&gt;%</span></span>
<span id="cb28-38"><a href="#cb28-38" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">as.integer</span>(year))</span>
<span id="cb28-39"><a href="#cb28-39" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb28-40"><a href="#cb28-40" aria-hidden="true" tabindex="-1"></a>    capex <span class="ot">&lt;-</span> <span class="fu">select</span>(., company, <span class="fu">matches</span>(<span class="st">"^capex_</span><span class="sc">\\</span><span class="st">d{4}_million_</span><span class="sc">\\</span><span class="st">d{4}$"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb28-41"><a href="#cb28-41" aria-hidden="true" tabindex="-1"></a>      <span class="fu">pivot_longer</span>(</span>
<span id="cb28-42"><a href="#cb28-42" aria-hidden="true" tabindex="-1"></a>        <span class="at">cols =</span> <span class="sc">-</span>company,</span>
<span id="cb28-43"><a href="#cb28-43" aria-hidden="true" tabindex="-1"></a>        <span class="at">names_to =</span> <span class="st">"year"</span>,</span>
<span id="cb28-44"><a href="#cb28-44" aria-hidden="true" tabindex="-1"></a>        <span class="at">names_pattern =</span> <span class="st">"^capex_</span><span class="sc">\\</span><span class="st">d{4}_million_(</span><span class="sc">\\</span><span class="st">d{4})$"</span>,</span>
<span id="cb28-45"><a href="#cb28-45" aria-hidden="true" tabindex="-1"></a>        <span class="at">values_to =</span> <span class="st">"capex_million"</span></span>
<span id="cb28-46"><a href="#cb28-46" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">%&gt;%</span></span>
<span id="cb28-47"><a href="#cb28-47" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">as.integer</span>(year))</span>
<span id="cb28-48"><a href="#cb28-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-49"><a href="#cb28-49" aria-hidden="true" tabindex="-1"></a>    capex_growth <span class="ot">&lt;-</span> <span class="fu">select</span>(., company, <span class="fu">matches</span>(<span class="st">"^capex_growth_1y_percent_</span><span class="sc">\\</span><span class="st">d{4}$"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb28-50"><a href="#cb28-50" aria-hidden="true" tabindex="-1"></a>      <span class="fu">pivot_longer</span>(</span>
<span id="cb28-51"><a href="#cb28-51" aria-hidden="true" tabindex="-1"></a>        <span class="at">cols =</span> <span class="sc">-</span>company,</span>
<span id="cb28-52"><a href="#cb28-52" aria-hidden="true" tabindex="-1"></a>        <span class="at">names_to =</span> <span class="st">"year"</span>,</span>
<span id="cb28-53"><a href="#cb28-53" aria-hidden="true" tabindex="-1"></a>        <span class="at">names_pattern =</span> <span class="st">"^capex_growth_1y_percent_(</span><span class="sc">\\</span><span class="st">d{4})$"</span>,</span>
<span id="cb28-54"><a href="#cb28-54" aria-hidden="true" tabindex="-1"></a>        <span class="at">values_to =</span> <span class="st">"capex_growth_1y_percent"</span></span>
<span id="cb28-55"><a href="#cb28-55" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">%&gt;%</span></span>
<span id="cb28-56"><a href="#cb28-56" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">as.integer</span>(year))</span>
<span id="cb28-57"><a href="#cb28-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-58"><a href="#cb28-58" aria-hidden="true" tabindex="-1"></a>    profit <span class="ot">&lt;-</span> <span class="fu">select</span>(., company, <span class="fu">matches</span>(<span class="st">"^profit_</span><span class="sc">\\</span><span class="st">d{4}_million_</span><span class="sc">\\</span><span class="st">d{4}$"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb28-59"><a href="#cb28-59" aria-hidden="true" tabindex="-1"></a>      <span class="fu">pivot_longer</span>(</span>
<span id="cb28-60"><a href="#cb28-60" aria-hidden="true" tabindex="-1"></a>        <span class="at">cols =</span> <span class="sc">-</span>company,</span>
<span id="cb28-61"><a href="#cb28-61" aria-hidden="true" tabindex="-1"></a>        <span class="at">names_to =</span> <span class="st">"year"</span>,</span>
<span id="cb28-62"><a href="#cb28-62" aria-hidden="true" tabindex="-1"></a>        <span class="at">names_pattern =</span> <span class="st">"^profit_</span><span class="sc">\\</span><span class="st">d{4}_million_(</span><span class="sc">\\</span><span class="st">d{4})$"</span>,</span>
<span id="cb28-63"><a href="#cb28-63" aria-hidden="true" tabindex="-1"></a>        <span class="at">values_to =</span> <span class="st">"profit_million"</span></span>
<span id="cb28-64"><a href="#cb28-64" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">%&gt;%</span></span>
<span id="cb28-65"><a href="#cb28-65" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">as.integer</span>(year))</span>
<span id="cb28-66"><a href="#cb28-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-67"><a href="#cb28-67" aria-hidden="true" tabindex="-1"></a>    profit_growth <span class="ot">&lt;-</span> <span class="fu">select</span>(., company, <span class="fu">matches</span>(<span class="st">"^profit_growth_1y_percent_</span><span class="sc">\\</span><span class="st">d{4}$"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb28-68"><a href="#cb28-68" aria-hidden="true" tabindex="-1"></a>      <span class="fu">pivot_longer</span>(</span>
<span id="cb28-69"><a href="#cb28-69" aria-hidden="true" tabindex="-1"></a>        <span class="at">cols =</span> <span class="sc">-</span>company,</span>
<span id="cb28-70"><a href="#cb28-70" aria-hidden="true" tabindex="-1"></a>        <span class="at">names_to =</span> <span class="st">"year"</span>,</span>
<span id="cb28-71"><a href="#cb28-71" aria-hidden="true" tabindex="-1"></a>        <span class="at">names_pattern =</span> <span class="st">"^profit_growth_1y_percent_(</span><span class="sc">\\</span><span class="st">d{4})$"</span>,</span>
<span id="cb28-72"><a href="#cb28-72" aria-hidden="true" tabindex="-1"></a>        <span class="at">values_to =</span> <span class="st">"profit_growth_1y_percent"</span></span>
<span id="cb28-73"><a href="#cb28-73" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">%&gt;%</span></span>
<span id="cb28-74"><a href="#cb28-74" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">as.integer</span>(year))</span>
<span id="cb28-75"><a href="#cb28-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-76"><a href="#cb28-76" aria-hidden="true" tabindex="-1"></a>    market_cap <span class="ot">&lt;-</span> <span class="fu">select</span>(., company, <span class="fu">matches</span>(<span class="st">"^market_cap_</span><span class="sc">\\</span><span class="st">d{4}_million_</span><span class="sc">\\</span><span class="st">d{4}$"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb28-77"><a href="#cb28-77" aria-hidden="true" tabindex="-1"></a>      <span class="fu">pivot_longer</span>(</span>
<span id="cb28-78"><a href="#cb28-78" aria-hidden="true" tabindex="-1"></a>        <span class="at">cols =</span> <span class="sc">-</span>company,</span>
<span id="cb28-79"><a href="#cb28-79" aria-hidden="true" tabindex="-1"></a>        <span class="at">names_to =</span> <span class="st">"year"</span>,</span>
<span id="cb28-80"><a href="#cb28-80" aria-hidden="true" tabindex="-1"></a>        <span class="at">names_pattern =</span> <span class="st">"^market_cap_</span><span class="sc">\\</span><span class="st">d{4}_million_(</span><span class="sc">\\</span><span class="st">d{4})$"</span>,</span>
<span id="cb28-81"><a href="#cb28-81" aria-hidden="true" tabindex="-1"></a>        <span class="at">values_to =</span> <span class="st">"market_cap_million"</span></span>
<span id="cb28-82"><a href="#cb28-82" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">%&gt;%</span></span>
<span id="cb28-83"><a href="#cb28-83" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">as.integer</span>(year))</span>
<span id="cb28-84"><a href="#cb28-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-85"><a href="#cb28-85" aria-hidden="true" tabindex="-1"></a>    market_cap_growth <span class="ot">&lt;-</span> <span class="fu">select</span>(., company, <span class="fu">matches</span>(<span class="st">"^market_cap_growth_1y_percent_</span><span class="sc">\\</span><span class="st">d{4}$"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb28-86"><a href="#cb28-86" aria-hidden="true" tabindex="-1"></a>      <span class="fu">pivot_longer</span>(</span>
<span id="cb28-87"><a href="#cb28-87" aria-hidden="true" tabindex="-1"></a>        <span class="at">cols =</span> <span class="sc">-</span>company,</span>
<span id="cb28-88"><a href="#cb28-88" aria-hidden="true" tabindex="-1"></a>        <span class="at">names_to =</span> <span class="st">"year"</span>,</span>
<span id="cb28-89"><a href="#cb28-89" aria-hidden="true" tabindex="-1"></a>        <span class="at">names_pattern =</span> <span class="st">"^market_cap_growth_1y_percent_(</span><span class="sc">\\</span><span class="st">d{4})$"</span>,</span>
<span id="cb28-90"><a href="#cb28-90" aria-hidden="true" tabindex="-1"></a>        <span class="at">values_to =</span> <span class="st">"market_cap_growth_1y_percent"</span></span>
<span id="cb28-91"><a href="#cb28-91" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">%&gt;%</span></span>
<span id="cb28-92"><a href="#cb28-92" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">as.integer</span>(year))</span>
<span id="cb28-93"><a href="#cb28-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-94"><a href="#cb28-94" aria-hidden="true" tabindex="-1"></a>    others <span class="ot">&lt;-</span> <span class="fu">select</span>(., <span class="sc">-</span><span class="fu">matches</span>(<span class="st">"^(rank|country|icb_sector|region|rd_</span><span class="sc">\\</span><span class="st">d{4}_million|sales_</span><span class="sc">\\</span><span class="st">d{4}_million|employees_</span><span class="sc">\\</span><span class="st">d{4}|rd_growth_1y_percent|sales_growth_1y_percent|rd_intensity_percent|capex_intensity_percent|profitability_percent|employees_growth_1y_percent|capex_</span><span class="sc">\\</span><span class="st">d{4}_million|capex_growth_1y_percent|profit_</span><span class="sc">\\</span><span class="st">d{4}_million|profit_growth_1y_percent|market_cap_</span><span class="sc">\\</span><span class="st">d{4}_million|market_cap_growth_1y_percent)_</span><span class="sc">\\</span><span class="st">d{4}$"</span>))</span>
<span id="cb28-95"><a href="#cb28-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-96"><a href="#cb28-96" aria-hidden="true" tabindex="-1"></a>    long_data <span class="ot">&lt;-</span> <span class="fu">reduce</span>(</span>
<span id="cb28-97"><a href="#cb28-97" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(meta, rd, sales, employees, capex, capex_growth, profit, profit_growth, market_cap, market_cap_growth),</span>
<span id="cb28-98"><a href="#cb28-98" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">full_join</span>(.x, .y, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"company"</span>, <span class="st">"year"</span>))</span>
<span id="cb28-99"><a href="#cb28-99" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb28-100"><a href="#cb28-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-101"><a href="#cb28-101" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(long_data, others, <span class="at">by =</span> <span class="st">"company"</span>)</span>
<span id="cb28-102"><a href="#cb28-102" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb28-103"><a href="#cb28-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-104"><a href="#cb28-104" aria-hidden="true" tabindex="-1"></a>wide_data <span class="ot">&lt;-</span> wide_data <span class="sc">%&gt;%</span></span>
<span id="cb28-105"><a href="#cb28-105" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb28-106"><a href="#cb28-106" aria-hidden="true" tabindex="-1"></a>    <span class="sc">-</span><span class="fu">all_of</span>(<span class="fu">c</span>(</span>
<span id="cb28-107"><a href="#cb28-107" aria-hidden="true" tabindex="-1"></a>      <span class="st">"rd_investment_change_09_08_percent_2010"</span>,</span>
<span id="cb28-108"><a href="#cb28-108" aria-hidden="true" tabindex="-1"></a>      <span class="st">"rd_investment_change_08_07_percent_2010"</span>,</span>
<span id="cb28-109"><a href="#cb28-109" aria-hidden="true" tabindex="-1"></a>      <span class="st">"sales_change_09_08_percent_2010"</span>,</span>
<span id="cb28-110"><a href="#cb28-110" aria-hidden="true" tabindex="-1"></a>      <span class="st">"sales_change_08_07_percent_2010"</span>,</span>
<span id="cb28-111"><a href="#cb28-111" aria-hidden="true" tabindex="-1"></a>      <span class="st">"rd_per_employee_2010_k_euro_2010"</span>,</span>
<span id="cb28-112"><a href="#cb28-112" aria-hidden="true" tabindex="-1"></a>      <span class="st">"rd_per_employee_2009_k_euro_2010"</span>,</span>
<span id="cb28-113"><a href="#cb28-113" aria-hidden="true" tabindex="-1"></a>      <span class="st">"rd_sales_ratio_2009_percent_2010"</span>,</span>
<span id="cb28-114"><a href="#cb28-114" aria-hidden="true" tabindex="-1"></a>      <span class="st">"capex_2009_percent_of_sales_2010"</span> </span>
<span id="cb28-115"><a href="#cb28-115" aria-hidden="true" tabindex="-1"></a>    )),</span>
<span id="cb28-116"><a href="#cb28-116" aria-hidden="true" tabindex="-1"></a>    <span class="sc">-</span><span class="fu">matches</span>(<span class="st">"^(rd|sales|capex|profit|employees)_cagr_3y_percent_</span><span class="sc">\\</span><span class="st">d{4}$"</span>)</span>
<span id="cb28-117"><a href="#cb28-117" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>wide_data <span class="ot">&lt;-</span> wide_data <span class="sc">%&gt;%</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">region =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(region), <span class="st">"EU"</span>, region)) <span class="sc">%&gt;%</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>    company, year, region, country, icb_sector, rank,</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>    rd_million, rd_growth_1y_percent, rd_intensity_percent,</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>    sales_million, sales_growth_1y_percent,</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>    employees, employees_growth_1y_percent,</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>    capex_million, capex_growth_1y_percent, capex_intensity_percent,</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>    profit_million, profit_growth_1y_percent, profitability_percent,</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>    market_cap_million, market_cap_growth_1y_percent</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>wide_data <span class="ot">&lt;-</span> wide_data <span class="sc">%&gt;%</span></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">company =</span> <span class="fu">as.character</span>(company),</span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">region =</span> <span class="fu">as.factor</span>(region),</span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">country =</span> <span class="fu">as.factor</span>(country),</span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">icb_sector =</span> <span class="fu">as.factor</span>(icb_sector),</span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>      <span class="at">.cols =</span> <span class="fu">c</span>(</span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a>        rank,</span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a>        rd_million, rd_growth_1y_percent, rd_intensity_percent,</span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a>        sales_million, sales_growth_1y_percent,</span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a>        employees, employees_growth_1y_percent,</span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a>        capex_million, capex_growth_1y_percent, capex_intensity_percent,</span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a>        profit_million, profit_growth_1y_percent, profitability_percent,</span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a>        market_cap_million, market_cap_growth_1y_percent</span>
<span id="cb29-29"><a href="#cb29-29" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb29-30"><a href="#cb29-30" aria-hidden="true" tabindex="-1"></a>      <span class="at">.fns =</span> <span class="sc">~</span> <span class="fu">as.numeric</span>(.)</span>
<span id="cb29-31"><a href="#cb29-31" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb29-32"><a href="#cb29-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">year =</span> <span class="fu">as.integer</span>(year)</span>
<span id="cb29-33"><a href="#cb29-33" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb29-34"><a href="#cb29-34" aria-hidden="true" tabindex="-1"></a>wide_data <span class="ot">&lt;-</span> wide_data <span class="sc">%&gt;%</span></span>
<span id="cb29-35"><a href="#cb29-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb29-36"><a href="#cb29-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">icb_sector =</span> <span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">s*</span><span class="sc">\\</span><span class="st">([^</span><span class="sc">\\</span><span class="st">)]+</span><span class="sc">\\</span><span class="st">)"</span>, <span class="st">""</span>, icb_sector), </span>
<span id="cb29-37"><a href="#cb29-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">icb_sector =</span> <span class="fu">str_trim</span>(icb_sector) </span>
<span id="cb29-38"><a href="#cb29-38" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb29-39"><a href="#cb29-39" aria-hidden="true" tabindex="-1"></a>wide_data <span class="ot">&lt;-</span> wide_data <span class="sc">%&gt;%</span></span>
<span id="cb29-40"><a href="#cb29-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">icb_sector =</span> icb_sector <span class="sc">%&gt;%</span></span>
<span id="cb29-41"><a href="#cb29-41" aria-hidden="true" tabindex="-1"></a>           <span class="fu">str_to_title</span>() <span class="sc">%&gt;%</span></span>
<span id="cb29-42"><a href="#cb29-42" aria-hidden="true" tabindex="-1"></a>           <span class="fu">str_trim</span>() <span class="sc">%&gt;%</span></span>
<span id="cb29-43"><a href="#cb29-43" aria-hidden="true" tabindex="-1"></a>           <span class="fu">str_squish</span>())</span>
<span id="cb29-44"><a href="#cb29-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-45"><a href="#cb29-45" aria-hidden="true" tabindex="-1"></a>wide_data <span class="ot">&lt;-</span> wide_data <span class="sc">%&gt;%</span></span>
<span id="cb29-46"><a href="#cb29-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">icb_sector =</span> <span class="fu">case_when</span>(</span>
<span id="cb29-47"><a href="#cb29-47" aria-hidden="true" tabindex="-1"></a>    icb_sector <span class="sc">==</span> <span class="st">"Aerospace &amp; Defence"</span> <span class="sc">~</span> <span class="st">"Aerospace &amp; Defense"</span>,</span>
<span id="cb29-48"><a href="#cb29-48" aria-hidden="true" tabindex="-1"></a>    icb_sector <span class="sc">==</span> <span class="st">"Gas, Water &amp; Multiutilities"</span> <span class="sc">~</span> <span class="st">"Gas, Water &amp; Multi-Utilities"</span>,</span>
<span id="cb29-49"><a href="#cb29-49" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> icb_sector</span>
<span id="cb29-50"><a href="#cb29-50" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb29-51"><a href="#cb29-51" aria-hidden="true" tabindex="-1"></a>wide_data<span class="sc">$</span>country <span class="ot">&lt;-</span> <span class="fu">as.character</span>(wide_data<span class="sc">$</span>country)  </span>
<span id="cb29-52"><a href="#cb29-52" aria-hidden="true" tabindex="-1"></a>wide_data<span class="sc">$</span>country <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(wide_data<span class="sc">$</span>country <span class="sc">==</span> <span class="st">"The Netherlands"</span>, </span>
<span id="cb29-53"><a href="#cb29-53" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"Netherlands"</span>, </span>
<span id="cb29-54"><a href="#cb29-54" aria-hidden="true" tabindex="-1"></a>                            wide_data<span class="sc">$</span>country)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>I constructed a balanced panel dataset for the period 20102019 by selecting companies that appeared in all ten years. I merged company-level data across years and reshaped key variables (e.g., R&amp;D, sales, employees) into long format. I removed redundant or irrelevant columns, set missing region values to EU, and reordered the variables to facilitate further analysis.</p>
</section>
<section id="descriptive-analysia" class="level2">
<h2 class="anchored" data-anchor-id="descriptive-analysia">Descriptive analysia</h2>
<p>1.Number of companies by country</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>company_count_country <span class="ot">&lt;-</span> wide_data <span class="sc">%&gt;%</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(country) <span class="sc">%&gt;%</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n_companies =</span> <span class="fu">n_distinct</span>(company)) <span class="sc">%&gt;%</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n_companies))</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(company_count_country, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(country, n_companies), <span class="at">y =</span> n_companies)) <span class="sc">+</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"steelblue"</span>) <span class="sc">+</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> n_companies), <span class="at">hjust =</span> <span class="sc">-</span><span class="fl">0.1</span>, <span class="at">size =</span> <span class="fl">3.5</span>) <span class="sc">+</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Number of Companies by Country"</span>,</span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Country"</span>,</span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Number of Companies"</span></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>)) <span class="sc">+</span>  </span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.1</span>)))  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="merged_data_EU_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>europe_map <span class="ot">&lt;-</span> <span class="fu">ne_countries</span>(<span class="at">scale =</span> <span class="st">"medium"</span>, <span class="at">returnclass =</span> <span class="st">"sf"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(region_un <span class="sc">==</span> <span class="st">"Europe"</span>)</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>company_count_country <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">country =</span> <span class="fu">c</span>(<span class="st">"Germany"</span>, <span class="st">"United Kingdom"</span>, <span class="st">"France"</span>, <span class="st">"Sweden"</span>, <span class="st">"Italy"</span>,</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Finland"</span>, <span class="st">"Denmark"</span>, <span class="st">"Netherlands"</span>, <span class="st">"Belgium"</span>, <span class="st">"Austria"</span>,</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Spain"</span>, <span class="st">"Ireland"</span>, <span class="st">"Luxembourg"</span>, <span class="st">"Portugal"</span>,</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Slovenia"</span>, <span class="st">"Greece"</span>, <span class="st">"Czechia"</span>),</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">n_companies =</span> <span class="fu">c</span>(<span class="dv">107</span>, <span class="dv">77</span>, <span class="dv">56</span>, <span class="dv">34</span>, <span class="dv">26</span>, <span class="dv">22</span>, <span class="dv">22</span>, <span class="dv">17</span>, <span class="dv">17</span>, <span class="dv">14</span>, <span class="dv">12</span>, <span class="dv">9</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>europe_map_data <span class="ot">&lt;-</span> europe_map <span class="sc">%&gt;%</span></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(company_count_country, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"name"</span> <span class="ot">=</span> <span class="st">"country"</span>))</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>europe_map_data <span class="ot">&lt;-</span> europe_map_data <span class="sc">%&gt;%</span></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">centroid =</span> <span class="fu">st_point_on_surface</span>(geometry),</span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">lon =</span> <span class="fu">st_coordinates</span>(centroid)[, <span class="dv">1</span>],</span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">lat =</span> <span class="fu">st_coordinates</span>(centroid)[, <span class="dv">2</span>],</span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">text_color =</span> <span class="fu">ifelse</span>(n_companies <span class="sc">&gt;=</span> <span class="dv">50</span>, <span class="st">"#c6dbef"</span>, <span class="st">"black"</span>)</span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(europe_map_data) <span class="sc">+</span></span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> n_companies), <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">size =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient</span>(</span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">low =</span> <span class="st">"#c6dbef"</span>, <span class="at">high =</span> <span class="st">"#08306b"</span>, <span class="at">na.value =</span> <span class="st">"gray90"</span>, <span class="at">name =</span> <span class="st">"Company Count"</span></span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(</span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> europe_map_data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(n_companies)),</span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> lon, <span class="at">y =</span> lat, <span class="at">label =</span> <span class="fu">paste0</span>(n_companies, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, name), <span class="at">color =</span> text_color),</span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">2.8</span>, <span class="at">lineheight =</span> <span class="fl">0.9</span>,</span>
<span id="cb31-29"><a href="#cb31-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">show.legend =</span> <span class="cn">FALSE</span></span>
<span id="cb31-30"><a href="#cb31-30" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb31-31"><a href="#cb31-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_identity</span>() <span class="sc">+</span>  </span>
<span id="cb31-32"><a href="#cb31-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_sf</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">25</span>, <span class="dv">45</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">34</span>, <span class="dv">72</span>), <span class="at">expand =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb31-33"><a href="#cb31-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Number of Companies by Country in Europe"</span>) <span class="sc">+</span></span>
<span id="cb31-34"><a href="#cb31-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">13</span>) <span class="sc">+</span></span>
<span id="cb31-35"><a href="#cb31-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb31-36"><a href="#cb31-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb31-37"><a href="#cb31-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb31-38"><a href="#cb31-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb31-39"><a href="#cb31-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb31-40"><a href="#cb31-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb31-41"><a href="#cb31-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.ticks =</span> <span class="fu">element_blank</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="merged_data_EU_files/figure-html/unnamed-chunk-29-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The bar chart shows the number of companies per country that consistently appeared in the EU R&amp;D ranking from 2010 to 2019. Germany leads with 107 firms, followed by the UK (77), France (56), and Sweden (34). These top contributors reflect the strong and stable innovation presence of these countries in the EU during this decade. Other countries like Italy, Finland, and Denmark also maintain a noticeable presence, while the remaining countries contribute relatively fewer consistent players.</p>
<p>2.Number of companies by industry (ICB sector)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>wide_data<span class="sc">$</span>icb_sector <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">recode</span>(wide_data<span class="sc">$</span>icb_sector,</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Telecommunications Equipment"</span> <span class="ot">=</span> <span class="st">"Technology Hardware &amp; Equipment"</span>,</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Computer Hardware"</span>              <span class="ot">=</span> <span class="st">"Technology Hardware &amp; Equipment"</span>,</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Semiconductors"</span>                 <span class="ot">=</span> <span class="st">"Technology Hardware &amp; Equipment"</span>,</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Electrical Components &amp; Equipment"</span> <span class="ot">=</span> <span class="st">"Electronic &amp; Electrical Equipment"</span>,</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Electronic Equipment"</span>              <span class="ot">=</span> <span class="st">"Electronic &amp; Electrical Equipment"</span>,</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Pharmaceuticals"</span> <span class="ot">=</span> <span class="st">"Pharmaceuticals &amp; Biotechnology"</span>,</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Biotechnology"</span>   <span class="ot">=</span> <span class="st">"Pharmaceuticals &amp; Biotechnology"</span>,</span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Commercial Vehicles &amp; Trucks"</span> <span class="ot">=</span> <span class="st">"Industrial Engineering"</span>,</span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Industrial Machinery"</span>         <span class="ot">=</span> <span class="st">"Industrial Engineering"</span>,</span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Software"</span>         <span class="ot">=</span> <span class="st">"Software &amp; Computer Services"</span>,</span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Computer Services"</span> <span class="ot">=</span> <span class="st">"Software &amp; Computer Services"</span>,</span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Other Financials"</span> <span class="ot">=</span> <span class="st">"Financial Services"</span>)</span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a>company_count_industry <span class="ot">&lt;-</span> wide_data <span class="sc">%&gt;%</span></span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(icb_sector) <span class="sc">%&gt;%</span></span>
<span id="cb32-21"><a href="#cb32-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n_companies =</span> <span class="fu">n_distinct</span>(company)) <span class="sc">%&gt;%</span></span>
<span id="cb32-22"><a href="#cb32-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n_companies))</span>
<span id="cb32-23"><a href="#cb32-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-24"><a href="#cb32-24" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(company_count_industry, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(icb_sector, n_companies), <span class="at">y =</span> n_companies)) <span class="sc">+</span></span>
<span id="cb32-25"><a href="#cb32-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">xend =</span> icb_sector, <span class="at">y =</span> <span class="dv">0</span>, <span class="at">yend =</span> n_companies), <span class="at">color =</span> <span class="st">"gray70"</span>) <span class="sc">+</span></span>
<span id="cb32-26"><a href="#cb32-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"darkgreen"</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb32-27"><a href="#cb32-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> n_companies), <span class="at">hjust =</span> <span class="sc">-</span><span class="fl">0.8</span>, <span class="at">size =</span> <span class="fl">3.2</span>) <span class="sc">+</span> </span>
<span id="cb32-28"><a href="#cb32-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb32-29"><a href="#cb32-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb32-30"><a href="#cb32-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Number of Companies by Industry (ICB Sector)"</span>,</span>
<span id="cb32-31"><a href="#cb32-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"ICB Sector"</span>,</span>
<span id="cb32-32"><a href="#cb32-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Number of Companies"</span></span>
<span id="cb32-33"><a href="#cb32-33" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb32-34"><a href="#cb32-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb32-35"><a href="#cb32-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb32-36"><a href="#cb32-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb32-37"><a href="#cb32-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>)</span>
<span id="cb32-38"><a href="#cb32-38" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb32-39"><a href="#cb32-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.2</span>)))  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="merged_data_EU_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The dot plot illustrates the number of companies in each ICB sector that consistently appeared in the EU R&amp;D rankings from 2010 to 2019. The leading sectors are Industrial Engineering (57 firms), Industrial Machinery (47), and Pharmaceuticals &amp; Biotechnology (44), highlighting the central role of these sectors in sustained innovation.</p>
<p>3.Average number of employees and net sales over time</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>avg_stats <span class="ot">&lt;-</span> wide_data <span class="sc">%&gt;%</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_employees =</span> <span class="fu">mean</span>(employees, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_sales =</span> <span class="fu">mean</span>(sales_million, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(avg_stats, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> avg_employees)) <span class="sc">+</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"blue"</span>, <span class="at">size =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Average Number of Employees Over Time"</span>, <span class="at">x =</span> <span class="st">"Year"</span>, <span class="at">y =</span> <span class="st">"Employees"</span>) <span class="sc">+</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> avg_stats<span class="sc">$</span>year) <span class="sc">+</span>  </span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="merged_data_EU_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(avg_stats, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> avg_sales)) <span class="sc">+</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"purple"</span>, <span class="at">size =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Average Net Sales Over Time"</span>, <span class="at">x =</span> <span class="st">"Year"</span>, <span class="at">y =</span> <span class="st">"Net Sales (Million )"</span>) <span class="sc">+</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> avg_stats<span class="sc">$</span>year) <span class="sc">+</span> </span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="merged_data_EU_files/figure-html/unnamed-chunk-31-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Employees: The average number of employees remained relatively stable until around 2015, with minor fluctuations. From 2016 onwards, there was a noticeable increase in employment, indicating that firms were scaling up operations. This may reflect not just recovery but also structural growth in the industries covered.</p>
<p>Net Sales: The average net sales showed steady growth from 2010 to 2012, followed by fluctuations between 2013 and 2016. After 2016, net sales increased consistently and significantly, peaking in 2019. This trend suggests a post-crisis recovery and a likely expansion period in the EU corporate landscape during the late 2010s.</p>
<p>4.Analyze Rank Stability Across Companies (20102019):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>wide_data <span class="ot">&lt;-</span> wide_data <span class="sc">%&gt;%</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rank =</span> <span class="fu">as.numeric</span>(rank))</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>rank_stability <span class="ot">&lt;-</span> wide_data <span class="sc">%&gt;%</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(company) <span class="sc">%&gt;%</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_rank =</span> <span class="fu">mean</span>(rank, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),  </span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_rank =</span> <span class="fu">sd</span>(rank, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)     </span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(sd_rank)  </span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(rank_stability, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10  3
   company         avg_rank sd_rank
   &lt;chr&gt;              &lt;dbl&gt;   &lt;dbl&gt;
 1 VOLKSWAGEN           1     0    
 2 DAIMLER              2.1   0.316
 3 SIEMENS              5.8   0.789
 4 ROBERT BOSCH         4.5   1.51 
 5 BANCO SANTANDER     28.5   1.96 
 6 GLAXOSMITHKLINE      7.8   2.04 
 7 NOVO NORDISK        24.9   2.28 
 8 BAYER                9.3   2.31 
 9 ERICSSON            11.3   2.41 
10 BASF                23.4   2.41 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>top_stable <span class="ot">&lt;-</span> rank_stability <span class="sc">%&gt;%</span> <span class="fu">slice_min</span>(sd_rank, <span class="at">n =</span> <span class="dv">20</span>)</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(top_stable, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(company, sd_rank), <span class="at">y =</span> sd_rank)) <span class="sc">+</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"orange"</span>) <span class="sc">+</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Top 20 Most Stable Companies by Rank (20102019)"</span>,</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Company"</span>,</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Standard Deviation of Rank"</span></span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="merged_data_EU_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>As shown in the chart, Volkswagen stands out with the most stable position, consistently ranked first across the entire period (SD = 0). Other firms like Daimler, Siemens, and Robert Bosch also show strong rank stability, indicating sustained investment and leadership in R&amp;D.</p>
<p>On the other hand, companies such as Nokia, Evonik Industries, and LOral demonstrate relatively higher rank variability, reflecting either fluctuations in R&amp;D spending or changes in their relative position in the European innovation landscape.</p>
<p>This analysis highlights a core group of firms with long-term commitment to R&amp;D, which can be important for further modeling or policy discussion regarding consistent innovation performance.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>cor_data <span class="ot">&lt;-</span> wide_data <span class="sc">%&gt;%</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>    rd_million, rd_growth_1y_percent, rd_intensity_percent,</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>    sales_million, sales_growth_1y_percent,</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>    employees, employees_growth_1y_percent,</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>    capex_million, capex_growth_1y_percent, capex_intensity_percent,</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>    profit_million, profit_growth_1y_percent, profitability_percent,</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>    market_cap_million, market_cap_growth_1y_percent,rank</span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>()  </span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>cor_matrix <span class="ot">&lt;-</span> <span class="fu">cor</span>(cor_data, <span class="at">use =</span> <span class="st">"complete.obs"</span>)</span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ggcorrplot</span>(</span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>  cor_matrix,</span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">method =</span> <span class="st">"circle"</span>,</span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">"lower"</span>,</span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">lab =</span> <span class="cn">TRUE</span>,</span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">lab_size =</span> <span class="dv">3</span>,</span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">"red"</span>, <span class="st">"white"</span>, <span class="st">"blue"</span>),</span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">"Correlation Matrix of Key Firm-Level Variables"</span>,</span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">ggtheme =</span> <span class="fu">theme_minimal</span>()</span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="merged_data_EU_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>R&amp;D and Net Sales: There is a moderate positive correlation between R&amp;D expenditure (rd_million) and net sales (sales_million) at 0.58, suggesting that firms with higher R&amp;D investment tend to achieve higher sales revenue. Similarly, R&amp;D is positively correlated with the number of employees (employees, 0.61), indicating that R&amp;D-intensive firms typically have larger workforces.</p>
<p>Profit and Market Capitalization: The correlation between profit (profit_million) and market capitalization (market_cap_million) is 0.75, showing that more profitable firms generally have higher market value.</p>
<p>Capital Expenditure and Sales: Capital expenditure (capex_million) shows a strong positive correlation with net sales (sales_million) at 0.88, suggesting that firms with higher sales volumes are also more likely to make substantial capital investments.</p>
<p>Negative Correlations with Rank: The variable rank (where a lower number indicates a better ranking) is negatively correlated with key performance indicators like R&amp;D, sales, and employees. This aligns with expectationstop-ranked firms tend to have more resources, higher output, and greater investment in R&amp;D.</p>
</section>
<section id="input-datasets" class="level2">
<h2 class="anchored" data-anchor-id="input-datasets">Input datasets</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>patents_data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"patents count.csv"</span>)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>long_patents_data <span class="ot">&lt;-</span> patents_data <span class="sc">%&gt;%</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">starts_with</span>(<span class="st">"X"</span>),</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"year"</span>,</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_prefix =</span> <span class="st">"X"</span>,</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"patent_count"</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">as.integer</span>(year))  </span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>merged_data <span class="ot">&lt;-</span> <span class="fu">left_join</span>(wide_data, long_patents_data, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"company"</span>, <span class="st">"year"</span>))</span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>merged_data <span class="ot">&lt;-</span> merged_data <span class="sc">%&gt;%</span></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rd_intensity_per =</span> (rd_million <span class="sc">/</span> sales_million) <span class="sc">*</span> <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="missing-value-analysis" class="level2">
<h2 class="anchored" data-anchor-id="missing-value-analysis">Missing value analysis</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>missing_percent <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">colMeans</span>(<span class="fu">is.na</span>(merged_data)) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">2</span>)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>missing_percent</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                     company                         year 
                        0.00                         0.00 
                      region                      country 
                        0.00                         0.00 
                  icb_sector                         rank 
                        0.00                         0.00 
                  rd_million         rd_growth_1y_percent 
                        0.00                         0.10 
        rd_intensity_percent                sales_million 
                        1.70                         0.84 
     sales_growth_1y_percent                    employees 
                        1.68                         1.68 
 employees_growth_1y_percent                capex_million 
                        2.59                        19.59 
     capex_growth_1y_percent      capex_intensity_percent 
                       23.12                         5.30 
              profit_million     profit_growth_1y_percent 
                       11.22                        12.11 
       profitability_percent           market_cap_million 
                        2.23                        56.81 
market_cap_growth_1y_percent                 patent_count 
                       57.34                         0.00 
            rd_intensity_per 
                        0.84 </code></pre>
</div>
</div>
<p>Due to the fact that the variable market_cap_growth_1y_percent (one-year market capitalization growth rate) has a high proportion of missing values (57.34%) and is a derived metric based on market_cap_million (market capitalization in million euros), it was excluded from further analysis. Including a variable with such a large amount of missing data could compromise the robustness of the analysis, and since the growth rate can be calculated from existing market cap values, retaining it was deemed unnecessary. Removing this variable helps simplify the dataset and maintain analytical clarity.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>merged_data <span class="ot">&lt;-</span> merged_data <span class="sc">|&gt;</span> </span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>market_cap_growth_1y_percent,<span class="sc">-</span>market_cap_million)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Given the presence of missing values across several key financial variablessuch as capex_growth_1y_percent (23.12%), capex_million (19.59%), profit_million (11.22%), and profit_growth_1y_percent (12.11%)I decided to perform imputation rather than removing the affected observations or variables. Since many of these indicators are important for the analysis, imputing missing values helps preserve the datasets completeness and analytical value.</p>
<p>To address the 19.59% missing rate in capex_million, imputation was applied in order to preserve analytical integrity and avoid unnecessary data loss:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(merged_data, <span class="fu">aes</span>(<span class="fu">log10</span>(capex_million <span class="sc">+</span> <span class="dv">1</span>))) <span class="sc">+</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="fl">0.1</span>, <span class="at">color =</span> <span class="st">"skyblue3"</span>, <span class="at">fill =</span> <span class="st">"skyblue"</span>) <span class="sc">+</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Log-transformed Capex Distribution"</span>) <span class="sc">+</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Log10(Capex + 1)"</span>) <span class="sc">+</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">18</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="merged_data_EU_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Among several variables with missing values, capex_million (capital expenditure) was selected as a representative example for imputation comparison due to its relatively high missing rate (19.59%) and its importance as a financial indicator of corporate innovation investment. By focusing on this variable, I aim to evaluate and compare the effectiveness of different imputation strategies and their implications for subsequent data modeling and analysis.</p>
</section>
<section id="selection-of-imputation-strategy" class="level2">
<h2 class="anchored" data-anchor-id="selection-of-imputation-strategy">Selection of imputation strategy</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>value_imputation <span class="ot">&lt;-</span> merged_data <span class="sc">|&gt;</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">original =</span> capex_million,</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">imputed_zero =</span> <span class="fu">if_else</span>(<span class="fu">is.na</span>(capex_million), <span class="dv">0</span>, capex_million),</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">imputed_mean =</span> <span class="fu">if_else</span>(<span class="fu">is.na</span>(capex_million), <span class="fu">mean</span>(capex_million, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), capex_million),</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">imputed_median =</span> <span class="fu">if_else</span>(<span class="fu">is.na</span>(capex_million), <span class="fu">median</span>(capex_million, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), capex_million)</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>variables <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"original"</span>, <span class="st">"imputed_zero"</span>, <span class="st">"imputed_mean"</span>, <span class="st">"imputed_median"</span>)</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>titles <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Original Capex Distribution"</span>, <span class="st">"Zero Imputation"</span>, <span class="st">"Mean Imputation"</span>, <span class="st">"Median Imputation"</span>)</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>colors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"skyblue3"</span>, <span class="st">"#15ad4f"</span>, <span class="st">"#6a6ad9"</span>, <span class="st">"#e65100"</span>)</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>value_imputation_long <span class="ot">&lt;-</span> value_imputation <span class="sc">%&gt;%</span></span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">all_of</span>(variables), <span class="at">names_to =</span> <span class="st">"method"</span>, <span class="at">values_to =</span> <span class="st">"value"</span>)</span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a>plots <span class="ot">&lt;-</span> value_imputation_long <span class="sc">%&gt;%</span></span>
<span id="cb44-17"><a href="#cb44-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">title =</span> <span class="fu">factor</span>(method, <span class="at">levels =</span> variables, <span class="at">labels =</span> titles)) <span class="sc">%&gt;%</span></span>
<span id="cb44-18"><a href="#cb44-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log10</span>(value <span class="sc">+</span> <span class="dv">1</span>), <span class="at">fill =</span> title)) <span class="sc">+</span></span>
<span id="cb44-19"><a href="#cb44-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="fl">0.1</span>, <span class="at">color =</span> <span class="st">"#808080"</span>) <span class="sc">+</span></span>
<span id="cb44-20"><a href="#cb44-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>title, <span class="at">scales =</span> <span class="st">"free_y"</span>) <span class="sc">+</span></span>
<span id="cb44-21"><a href="#cb44-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> colors) <span class="sc">+</span></span>
<span id="cb44-22"><a href="#cb44-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Log10(Capex + 1)"</span>, <span class="at">y =</span> <span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb44-23"><a href="#cb44-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb44-24"><a href="#cb44-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>, <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">18</span>))</span>
<span id="cb44-25"><a href="#cb44-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-26"><a href="#cb44-26" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(plots)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="merged_data_EU_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>These imputation methods differ significantly from the original distribution of capex_million. Zero imputation artificially creates a large number of zero values, severely distorting the distribution. Mean and median imputations, while simple and commonly used, concentrate the imputed values at a single point, resulting in unnatural peaks and a loss of the original distribution shape. Therefore, these methods are not suitable for highly skewed financial data.</p>
<p>Mice imputation:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>merged_numeric <span class="ot">&lt;-</span> merged_data <span class="sc">%&gt;%</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(capex_million, rd_million, sales_million, employees, profit_million)</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>mice_imputed <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">original =</span> merged_data<span class="sc">$</span>capex_million,</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">imputed_pmm =</span> <span class="fu">complete</span>(<span class="fu">mice</span>(merged_numeric, <span class="at">m =</span> <span class="dv">5</span>, <span class="at">method =</span> <span class="st">"pmm"</span>, <span class="at">seed =</span> <span class="dv">123</span>))<span class="sc">$</span>capex_million,</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">imputed_cart =</span> <span class="fu">complete</span>(<span class="fu">mice</span>(merged_numeric, <span class="at">m =</span> <span class="dv">5</span>, <span class="at">method =</span> <span class="st">"cart"</span>, <span class="at">seed =</span> <span class="dv">123</span>))<span class="sc">$</span>capex_million,</span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">imputed_lasso =</span> <span class="fu">complete</span>(<span class="fu">mice</span>(merged_numeric, <span class="at">m =</span> <span class="dv">5</span>, <span class="at">method =</span> <span class="st">"lasso.norm"</span>, <span class="at">seed =</span> <span class="dv">123</span>))<span class="sc">$</span>capex_million</span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 iter imp variable
  1   1  capex_million  sales_million  employees  profit_million
  1   2  capex_million  sales_million  employees  profit_million
  1   3  capex_million  sales_million  employees  profit_million
  1   4  capex_million  sales_million  employees  profit_million
  1   5  capex_million  sales_million  employees  profit_million
  2   1  capex_million  sales_million  employees  profit_million
  2   2  capex_million  sales_million  employees  profit_million
  2   3  capex_million  sales_million  employees  profit_million
  2   4  capex_million  sales_million  employees  profit_million
  2   5  capex_million  sales_million  employees  profit_million
  3   1  capex_million  sales_million  employees  profit_million
  3   2  capex_million  sales_million  employees  profit_million
  3   3  capex_million  sales_million  employees  profit_million
  3   4  capex_million  sales_million  employees  profit_million
  3   5  capex_million  sales_million  employees  profit_million
  4   1  capex_million  sales_million  employees  profit_million
  4   2  capex_million  sales_million  employees  profit_million
  4   3  capex_million  sales_million  employees  profit_million
  4   4  capex_million  sales_million  employees  profit_million
  4   5  capex_million  sales_million  employees  profit_million
  5   1  capex_million  sales_million  employees  profit_million
  5   2  capex_million  sales_million  employees  profit_million
  5   3  capex_million  sales_million  employees  profit_million
  5   4  capex_million  sales_million  employees  profit_million
  5   5  capex_million  sales_million  employees  profit_million

 iter imp variable
  1   1  capex_million  sales_million  employees  profit_million
  1   2  capex_million  sales_million  employees  profit_million
  1   3  capex_million  sales_million  employees  profit_million
  1   4  capex_million  sales_million  employees  profit_million
  1   5  capex_million  sales_million  employees  profit_million
  2   1  capex_million  sales_million  employees  profit_million
  2   2  capex_million  sales_million  employees  profit_million
  2   3  capex_million  sales_million  employees  profit_million
  2   4  capex_million  sales_million  employees  profit_million
  2   5  capex_million  sales_million  employees  profit_million
  3   1  capex_million  sales_million  employees  profit_million
  3   2  capex_million  sales_million  employees  profit_million
  3   3  capex_million  sales_million  employees  profit_million
  3   4  capex_million  sales_million  employees  profit_million
  3   5  capex_million  sales_million  employees  profit_million
  4   1  capex_million  sales_million  employees  profit_million
  4   2  capex_million  sales_million  employees  profit_million
  4   3  capex_million  sales_million  employees  profit_million
  4   4  capex_million  sales_million  employees  profit_million
  4   5  capex_million  sales_million  employees  profit_million
  5   1  capex_million  sales_million  employees  profit_million
  5   2  capex_million  sales_million  employees  profit_million
  5   3  capex_million  sales_million  employees  profit_million
  5   4  capex_million  sales_million  employees  profit_million
  5   5  capex_million  sales_million  employees  profit_million

 iter imp variable
  1   1  capex_million  sales_million  employees  profit_million
  1   2  capex_million  sales_million  employees  profit_million
  1   3  capex_million  sales_million  employees  profit_million
  1   4  capex_million  sales_million  employees  profit_million
  1   5  capex_million  sales_million  employees  profit_million
  2   1  capex_million  sales_million  employees  profit_million
  2   2  capex_million  sales_million  employees  profit_million
  2   3  capex_million  sales_million  employees  profit_million
  2   4  capex_million  sales_million  employees  profit_million
  2   5  capex_million  sales_million  employees  profit_million
  3   1  capex_million  sales_million  employees  profit_million
  3   2  capex_million  sales_million  employees  profit_million
  3   3  capex_million  sales_million  employees  profit_million
  3   4  capex_million  sales_million  employees  profit_million
  3   5  capex_million  sales_million  employees  profit_million
  4   1  capex_million  sales_million  employees  profit_million
  4   2  capex_million  sales_million  employees  profit_million
  4   3  capex_million  sales_million  employees  profit_million
  4   4  capex_million  sales_million  employees  profit_million
  4   5  capex_million  sales_million  employees  profit_million
  5   1  capex_million  sales_million  employees  profit_million
  5   2  capex_million  sales_million  employees  profit_million
  5   3  capex_million  sales_million  employees  profit_million
  5   4  capex_million  sales_million  employees  profit_million
  5   5  capex_million  sales_million  employees  profit_million</code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>mice_imputed<span class="sc">$</span>imputed_rf <span class="ot">&lt;-</span> <span class="fu">complete</span>(<span class="fu">mice</span>(merged_numeric, <span class="at">m =</span> <span class="dv">5</span>, <span class="at">method =</span> <span class="st">"rf"</span>, <span class="at">seed =</span> <span class="dv">123</span>))<span class="sc">$</span>capex_million</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 iter imp variable
  1   1  capex_million  sales_million  employees  profit_million
  1   2  capex_million  sales_million  employees  profit_million
  1   3  capex_million  sales_million  employees  profit_million
  1   4  capex_million  sales_million  employees  profit_million
  1   5  capex_million  sales_million  employees  profit_million
  2   1  capex_million  sales_million  employees  profit_million
  2   2  capex_million  sales_million  employees  profit_million
  2   3  capex_million  sales_million  employees  profit_million
  2   4  capex_million  sales_million  employees  profit_million
  2   5  capex_million  sales_million  employees  profit_million
  3   1  capex_million  sales_million  employees  profit_million
  3   2  capex_million  sales_million  employees  profit_million
  3   3  capex_million  sales_million  employees  profit_million
  3   4  capex_million  sales_million  employees  profit_million
  3   5  capex_million  sales_million  employees  profit_million
  4   1  capex_million  sales_million  employees  profit_million
  4   2  capex_million  sales_million  employees  profit_million
  4   3  capex_million  sales_million  employees  profit_million
  4   4  capex_million  sales_million  employees  profit_million
  4   5  capex_million  sales_million  employees  profit_million
  5   1  capex_million  sales_million  employees  profit_million
  5   2  capex_million  sales_million  employees  profit_million
  5   3  capex_million  sales_million  employees  profit_million
  5   4  capex_million  sales_million  employees  profit_million
  5   5  capex_million  sales_million  employees  profit_million</code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>variables <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"original"</span>, <span class="st">"imputed_pmm"</span>, <span class="st">"imputed_cart"</span>, <span class="st">"imputed_lasso"</span>, <span class="st">"imputed_rf"</span>)</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>titles <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Original Capex Distribution"</span>,</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"PMM-imputed Distribution"</span>,</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"CART-imputed Distribution"</span>,</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Lasso-imputed Distribution"</span>,</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"RF-imputed Distribution"</span></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>colors_fill <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"skyblue"</span>, <span class="st">"#15ad4f"</span>, <span class="st">"#6a6ad9"</span>, <span class="st">"#e65100"</span>, <span class="st">"#ffc107"</span>)</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>mice_imputed_long <span class="ot">&lt;-</span> mice_imputed <span class="sc">%&gt;%</span></span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">all_of</span>(variables), <span class="at">names_to =</span> <span class="st">"method"</span>, <span class="at">values_to =</span> <span class="st">"value"</span>)</span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>plots <span class="ot">&lt;-</span> mice_imputed_long <span class="sc">%&gt;%</span></span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">title =</span> <span class="fu">factor</span>(method, <span class="at">levels =</span> variables, <span class="at">labels =</span> titles)) <span class="sc">%&gt;%</span></span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log10</span>(value <span class="sc">+</span> <span class="dv">1</span>), <span class="at">fill =</span> title)) <span class="sc">+</span></span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="fl">0.1</span>, <span class="at">color =</span> <span class="st">"#808080"</span>, <span class="at">position =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>title, <span class="at">scales =</span> <span class="st">"free_y"</span>) <span class="sc">+</span></span>
<span id="cb49-19"><a href="#cb49-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> colors_fill) <span class="sc">+</span></span>
<span id="cb49-20"><a href="#cb49-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Log10(Capex + 1)"</span>, <span class="at">y =</span> <span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb49-21"><a href="#cb49-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb49-22"><a href="#cb49-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>, <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">18</span>))</span>
<span id="cb49-23"><a href="#cb49-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-24"><a href="#cb49-24" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(plots)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="merged_data_EU_files/figure-html/unnamed-chunk-39-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Miss Random Forest :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>missForest_result <span class="ot">&lt;-</span> <span class="fu">missForest</span>(<span class="fu">as.data.frame</span>(merged_numeric), <span class="at">ntree =</span> <span class="dv">15</span>)</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>missForest_imputed <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">original =</span> merged_numeric<span class="sc">$</span>capex_million,</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">imputed_missForest =</span> missForest_result<span class="sc">$</span>ximp<span class="sc">$</span>capex_million)</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>variables <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"original"</span>, <span class="st">"imputed_missForest"</span>)</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>titles <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Original Capex Distribution"</span>, <span class="st">"MissForest-imputed Distribution"</span>)</span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>colors_fill <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"skyblue"</span>, <span class="st">"#FFD700"</span>)</span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>colors_border <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"skyblue3"</span>, <span class="st">"#808080"</span>)</span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a>missForest_imputed_long <span class="ot">&lt;-</span> missForest_imputed <span class="sc">%&gt;%</span></span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">all_of</span>(variables), <span class="at">names_to =</span> <span class="st">"method"</span>, <span class="at">values_to =</span> <span class="st">"value"</span>)</span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-15"><a href="#cb50-15" aria-hidden="true" tabindex="-1"></a>plots <span class="ot">&lt;-</span> missForest_imputed_long <span class="sc">%&gt;%</span></span>
<span id="cb50-16"><a href="#cb50-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">title =</span> <span class="fu">factor</span>(method, <span class="at">levels =</span> variables, <span class="at">labels =</span> titles)) <span class="sc">%&gt;%</span></span>
<span id="cb50-17"><a href="#cb50-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log10</span>(value <span class="sc">+</span> <span class="dv">1</span>), <span class="at">fill =</span> title)) <span class="sc">+</span></span>
<span id="cb50-18"><a href="#cb50-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="fl">0.1</span>, <span class="at">color =</span> <span class="st">"#808080"</span>, <span class="at">position =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb50-19"><a href="#cb50-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>title, <span class="at">scales =</span> <span class="st">"free_y"</span>) <span class="sc">+</span></span>
<span id="cb50-20"><a href="#cb50-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> colors_fill) <span class="sc">+</span></span>
<span id="cb50-21"><a href="#cb50-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb50-22"><a href="#cb50-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb50-23"><a href="#cb50-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-24"><a href="#cb50-24" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(plots)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="merged_data_EU_files/figure-html/unnamed-chunk-40-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>We applied and compared several imputation methods to handle the missing values in the capex_million variable, including Zero imputation, Mean imputation, Median imputation, Predictive Mean Matching (PMM), CART (Classification and Regression Trees), Lasso regression, Random Forest (RF), and MissForest.</p>
<p>The simpler methodsZero, Mean, and Median imputationintroduced noticeable distortion. Zero imputation artificially inflated the frequency of zero values, while mean and median imputation caused unrealistic peaks at single values, which misrepresents the true underlying distribution.</p>
<p>Advanced methods such as PMM, CART, and Lasso performed better, but still introduced some smoothing or loss of variance compared to the original data. While these approaches attempt to model relationships between variables, they may not fully capture the complex, non-linear structure of financial data.</p>
<p>Among all, Random Forest (RF) imputation stood out as the most effective. It maintained the skewness, variability, and distribution shape of the original capex_million variable most accurately. This is likely due to RFs ensemble learning approach, which can model interactions and non-linearities effectively without overfitting.</p>
<p>Therefore, RF was selected as the most appropriate imputation method for this analysis, especially considering the financial nature and skewed distribution of the variable.</p>
</section>
<section id="data-imputation" class="level2">
<h2 class="anchored" data-anchor-id="data-imputation">Data imputation</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>vars_to_impute <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rd_growth_1y_percent"</span>, <span class="st">"rd_intensity_percent"</span>, <span class="st">"sales_million"</span>, </span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"sales_growth_1y_percent"</span>, <span class="st">"employees"</span>, <span class="st">"employees_growth_1y_percent"</span>, </span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"capex_million"</span>, <span class="st">"capex_growth_1y_percent"</span>, <span class="st">"capex_intensity_percent"</span>, </span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"profit_million"</span>, <span class="st">"profit_growth_1y_percent"</span>, <span class="st">"profitability_percent"</span></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>merged_numeric <span class="ot">&lt;-</span> merged_data <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">all_of</span>(vars_to_impute))</span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>imputed_rf <span class="ot">&lt;-</span> <span class="fu">mice</span>(merged_numeric, <span class="at">m =</span> <span class="dv">5</span>, <span class="at">method =</span> <span class="st">"rf"</span>, <span class="at">seed =</span> <span class="dv">123</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 iter imp variable
  1   1  rd_growth_1y_percent  rd_intensity_percent  sales_million  sales_growth_1y_percent  employees  employees_growth_1y_percent  capex_million  capex_growth_1y_percent  capex_intensity_percent  profit_million  profit_growth_1y_percent  profitability_percent
  1   2  rd_growth_1y_percent  rd_intensity_percent  sales_million  sales_growth_1y_percent  employees  employees_growth_1y_percent  capex_million  capex_growth_1y_percent  capex_intensity_percent  profit_million  profit_growth_1y_percent  profitability_percent
  1   3  rd_growth_1y_percent  rd_intensity_percent  sales_million  sales_growth_1y_percent  employees  employees_growth_1y_percent  capex_million  capex_growth_1y_percent  capex_intensity_percent  profit_million  profit_growth_1y_percent  profitability_percent
  1   4  rd_growth_1y_percent  rd_intensity_percent  sales_million  sales_growth_1y_percent  employees  employees_growth_1y_percent  capex_million  capex_growth_1y_percent  capex_intensity_percent  profit_million  profit_growth_1y_percent  profitability_percent
  1   5  rd_growth_1y_percent  rd_intensity_percent  sales_million  sales_growth_1y_percent  employees  employees_growth_1y_percent  capex_million  capex_growth_1y_percent  capex_intensity_percent  profit_million  profit_growth_1y_percent  profitability_percent
  2   1  rd_growth_1y_percent  rd_intensity_percent  sales_million  sales_growth_1y_percent  employees  employees_growth_1y_percent  capex_million  capex_growth_1y_percent  capex_intensity_percent  profit_million  profit_growth_1y_percent  profitability_percent
  2   2  rd_growth_1y_percent  rd_intensity_percent  sales_million  sales_growth_1y_percent  employees  employees_growth_1y_percent  capex_million  capex_growth_1y_percent  capex_intensity_percent  profit_million  profit_growth_1y_percent  profitability_percent
  2   3  rd_growth_1y_percent  rd_intensity_percent  sales_million  sales_growth_1y_percent  employees  employees_growth_1y_percent  capex_million  capex_growth_1y_percent  capex_intensity_percent  profit_million  profit_growth_1y_percent  profitability_percent
  2   4  rd_growth_1y_percent  rd_intensity_percent  sales_million  sales_growth_1y_percent  employees  employees_growth_1y_percent  capex_million  capex_growth_1y_percent  capex_intensity_percent  profit_million  profit_growth_1y_percent  profitability_percent
  2   5  rd_growth_1y_percent  rd_intensity_percent  sales_million  sales_growth_1y_percent  employees  employees_growth_1y_percent  capex_million  capex_growth_1y_percent  capex_intensity_percent  profit_million  profit_growth_1y_percent  profitability_percent
  3   1  rd_growth_1y_percent  rd_intensity_percent  sales_million  sales_growth_1y_percent  employees  employees_growth_1y_percent  capex_million  capex_growth_1y_percent  capex_intensity_percent  profit_million  profit_growth_1y_percent  profitability_percent
  3   2  rd_growth_1y_percent  rd_intensity_percent  sales_million  sales_growth_1y_percent  employees  employees_growth_1y_percent  capex_million  capex_growth_1y_percent  capex_intensity_percent  profit_million  profit_growth_1y_percent  profitability_percent
  3   3  rd_growth_1y_percent  rd_intensity_percent  sales_million  sales_growth_1y_percent  employees  employees_growth_1y_percent  capex_million  capex_growth_1y_percent  capex_intensity_percent  profit_million  profit_growth_1y_percent  profitability_percent
  3   4  rd_growth_1y_percent  rd_intensity_percent  sales_million  sales_growth_1y_percent  employees  employees_growth_1y_percent  capex_million  capex_growth_1y_percent  capex_intensity_percent  profit_million  profit_growth_1y_percent  profitability_percent
  3   5  rd_growth_1y_percent  rd_intensity_percent  sales_million  sales_growth_1y_percent  employees  employees_growth_1y_percent  capex_million  capex_growth_1y_percent  capex_intensity_percent  profit_million  profit_growth_1y_percent  profitability_percent
  4   1  rd_growth_1y_percent  rd_intensity_percent  sales_million  sales_growth_1y_percent  employees  employees_growth_1y_percent  capex_million  capex_growth_1y_percent  capex_intensity_percent  profit_million  profit_growth_1y_percent  profitability_percent
  4   2  rd_growth_1y_percent  rd_intensity_percent  sales_million  sales_growth_1y_percent  employees  employees_growth_1y_percent  capex_million  capex_growth_1y_percent  capex_intensity_percent  profit_million  profit_growth_1y_percent  profitability_percent
  4   3  rd_growth_1y_percent  rd_intensity_percent  sales_million  sales_growth_1y_percent  employees  employees_growth_1y_percent  capex_million  capex_growth_1y_percent  capex_intensity_percent  profit_million  profit_growth_1y_percent  profitability_percent
  4   4  rd_growth_1y_percent  rd_intensity_percent  sales_million  sales_growth_1y_percent  employees  employees_growth_1y_percent  capex_million  capex_growth_1y_percent  capex_intensity_percent  profit_million  profit_growth_1y_percent  profitability_percent
  4   5  rd_growth_1y_percent  rd_intensity_percent  sales_million  sales_growth_1y_percent  employees  employees_growth_1y_percent  capex_million  capex_growth_1y_percent  capex_intensity_percent  profit_million  profit_growth_1y_percent  profitability_percent
  5   1  rd_growth_1y_percent  rd_intensity_percent  sales_million  sales_growth_1y_percent  employees  employees_growth_1y_percent  capex_million  capex_growth_1y_percent  capex_intensity_percent  profit_million  profit_growth_1y_percent  profitability_percent
  5   2  rd_growth_1y_percent  rd_intensity_percent  sales_million  sales_growth_1y_percent  employees  employees_growth_1y_percent  capex_million  capex_growth_1y_percent  capex_intensity_percent  profit_million  profit_growth_1y_percent  profitability_percent
  5   3  rd_growth_1y_percent  rd_intensity_percent  sales_million  sales_growth_1y_percent  employees  employees_growth_1y_percent  capex_million  capex_growth_1y_percent  capex_intensity_percent  profit_million  profit_growth_1y_percent  profitability_percent
  5   4  rd_growth_1y_percent  rd_intensity_percent  sales_million  sales_growth_1y_percent  employees  employees_growth_1y_percent  capex_million  capex_growth_1y_percent  capex_intensity_percent  profit_million  profit_growth_1y_percent  profitability_percent
  5   5  rd_growth_1y_percent  rd_intensity_percent  sales_million  sales_growth_1y_percent  employees  employees_growth_1y_percent  capex_million  capex_growth_1y_percent  capex_intensity_percent  profit_million  profit_growth_1y_percent  profitability_percent</code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>imputed_data_rf <span class="ot">&lt;-</span> <span class="fu">complete</span>(imputed_rf, <span class="dv">1</span>)</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>merged_data[vars_to_impute] <span class="ot">&lt;-</span> imputed_data_rf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">colMeans</span>(<span class="fu">is.na</span>(merged_data)) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                    company                        year 
                       0.00                        0.00 
                     region                     country 
                       0.00                        0.00 
                 icb_sector                        rank 
                       0.00                        0.00 
                 rd_million        rd_growth_1y_percent 
                       0.00                        0.00 
       rd_intensity_percent               sales_million 
                       0.00                        0.00 
    sales_growth_1y_percent                   employees 
                       0.00                        0.00 
employees_growth_1y_percent               capex_million 
                       0.00                        0.00 
    capex_growth_1y_percent     capex_intensity_percent 
                       0.00                        0.00 
             profit_million    profit_growth_1y_percent 
                       0.00                        0.00 
      profitability_percent                patent_count 
                       0.00                        0.00 
           rd_intensity_per 
                       0.84 </code></pre>
</div>
</div>
<p>After imputation, we confirmed that all target variables no longer contain missing values, ensuring the dataset is complete and ready for subsequent analysis.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>merged_data <span class="ot">&lt;-</span> merged_data <span class="sc">%&gt;%</span> </span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(company, year) <span class="sc">%&gt;%</span> </span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">patent_intensity_sales =</span> patent_count <span class="sc">/</span> sales_million)</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"rd_million"</span>, <span class="st">"rd_growth_1y_percent"</span>, <span class="st">"rd_intensity_percent"</span>,</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>          <span class="st">"sales_million"</span>, <span class="st">"sales_growth_1y_percent"</span>, </span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>          <span class="st">"patent_count"</span>, <span class="st">"patent_intensity_sales"</span>)</span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a>clean_data <span class="ot">&lt;-</span> merged_data <span class="sc">%&gt;%</span></span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">all_of</span>(vars)) <span class="sc">%&gt;%</span></span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter_all</span>(<span class="fu">all_vars</span>(<span class="fu">is.finite</span>(.)))</span>
<span id="cb56-12"><a href="#cb56-12" aria-hidden="true" tabindex="-1"></a>desc <span class="ot">&lt;-</span> psych<span class="sc">::</span><span class="fu">describe</span>(clean_data)[, <span class="fu">c</span>(<span class="st">"mean"</span>, <span class="st">"sd"</span>, <span class="st">"min"</span>, <span class="st">"median"</span>, <span class="st">"max"</span>, <span class="st">"n"</span>)]</span>
<span id="cb56-13"><a href="#cb56-13" aria-hidden="true" tabindex="-1"></a>desc <span class="ot">&lt;-</span> <span class="fu">round</span>(desc, <span class="dv">2</span>)</span>
<span id="cb56-14"><a href="#cb56-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-15"><a href="#cb56-15" aria-hidden="true" tabindex="-1"></a>desc<span class="sc">$</span>Variable <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"R&amp;D Expenditure (million)"</span>, </span>
<span id="cb56-16"><a href="#cb56-16" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"R&amp;D Growth Rate (%)"</span>,</span>
<span id="cb56-17"><a href="#cb56-17" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"R&amp;D Intensity (%)"</span>,</span>
<span id="cb56-18"><a href="#cb56-18" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"Sales (million)"</span>,</span>
<span id="cb56-19"><a href="#cb56-19" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"Sales Growth Rate (%)"</span>,</span>
<span id="cb56-20"><a href="#cb56-20" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"Patent Count"</span>,</span>
<span id="cb56-21"><a href="#cb56-21" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"Patent Intensity (per 1M Sales)"</span>)</span>
<span id="cb56-22"><a href="#cb56-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-23"><a href="#cb56-23" aria-hidden="true" tabindex="-1"></a>desc <span class="ot">&lt;-</span> desc[, <span class="fu">c</span>(<span class="st">"Variable"</span>, <span class="st">"mean"</span>, <span class="st">"sd"</span>, <span class="st">"min"</span>, <span class="st">"median"</span>, <span class="st">"max"</span>, <span class="st">"n"</span>)]</span>
<span id="cb56-24"><a href="#cb56-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-25"><a href="#cb56-25" aria-hidden="true" tabindex="-1"></a><span class="fu">flextable</span>(desc) <span class="sc">%&gt;%</span></span>
<span id="cb56-26"><a href="#cb56-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_header_labels</span>(</span>
<span id="cb56-27"><a href="#cb56-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean   =</span> <span class="st">"Mean"</span>,</span>
<span id="cb56-28"><a href="#cb56-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd     =</span> <span class="st">"SD"</span>,</span>
<span id="cb56-29"><a href="#cb56-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">min    =</span> <span class="st">"Min"</span>,</span>
<span id="cb56-30"><a href="#cb56-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">median =</span> <span class="st">"Median"</span>,</span>
<span id="cb56-31"><a href="#cb56-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">max    =</span> <span class="st">"Max"</span>,</span>
<span id="cb56-32"><a href="#cb56-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">n      =</span> <span class="st">"N"</span>,</span>
<span id="cb56-33"><a href="#cb56-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">Variable =</span> <span class="st">"Variable"</span></span>
<span id="cb56-34"><a href="#cb56-34" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb56-35"><a href="#cb56-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_booktabs</span>() <span class="sc">%&gt;%</span></span>
<span id="cb56-36"><a href="#cb56-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autofit</span>() <span class="sc">%&gt;%</span></span>
<span id="cb56-37"><a href="#cb56-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bold</span>(<span class="at">part =</span> <span class="st">"header"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb56-38"><a href="#cb56-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">align</span>(<span class="at">align =</span> <span class="st">"left"</span>, <span class="at">part =</span> <span class="st">"all"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb56-39"><a href="#cb56-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">font</span>(<span class="at">fontname =</span> <span class="st">"Times New Roman"</span>, <span class="at">part =</span> <span class="st">"all"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="tabwid"><style>.cl-17d391a0{}.cl-17bd7f1e{font-family:'Times New Roman';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-17bd7f50{font-family:'Times New Roman';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-17c5e1d6{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-17c639a6{width:2.468in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17c639b0{width:0.965in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17c639ba{width:0.931in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17c639c4{width:0.88in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17c639ce{width:1.177in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17c639d8{width:0.668in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17c639d9{width:2.468in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17c639e2{width:0.965in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17c639ec{width:0.931in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17c639ed{width:0.88in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17c639f6{width:1.177in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17c63a00{width:0.668in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17c63a01{width:2.468in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17c63a0a{width:0.965in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17c63a14{width:0.931in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17c63a15{width:0.88in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17c63a1e{width:1.177in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17c63a1f{width:0.668in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17c63a28{width:2.468in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17c63a29{width:0.965in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17c63a2a{width:0.931in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17c63a32{width:0.88in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17c63a33{width:1.177in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17c63a3c{width:0.668in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-17d391a0"><thead><tr style="overflow-wrap:break-word;"><th class="cl-17c639a6"><p class="cl-17c5e1d6"><span class="cl-17bd7f1e">Variable</span></p></th><th class="cl-17c639b0"><p class="cl-17c5e1d6"><span class="cl-17bd7f1e">Mean</span></p></th><th class="cl-17c639b0"><p class="cl-17c5e1d6"><span class="cl-17bd7f1e">SD</span></p></th><th class="cl-17c639ba"><p class="cl-17c5e1d6"><span class="cl-17bd7f1e">Min</span></p></th><th class="cl-17c639c4"><p class="cl-17c5e1d6"><span class="cl-17bd7f1e">Median</span></p></th><th class="cl-17c639ce"><p class="cl-17c5e1d6"><span class="cl-17bd7f1e">Max</span></p></th><th class="cl-17c639d8"><p class="cl-17c5e1d6"><span class="cl-17bd7f1e">N</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-17c639d9"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">R&amp;D Expenditure (million)</span></p></td><td class="cl-17c639e2"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">307.66</span></p></td><td class="cl-17c639e2"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">963.22</span></p></td><td class="cl-17c639ec"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">4.74</span></p></td><td class="cl-17c639ed"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">57.45</span></p></td><td class="cl-17c639f6"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">14,306.00</span></p></td><td class="cl-17c63a00"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">4,135</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-17c639d9"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">R&amp;D Growth Rate (%)</span></p></td><td class="cl-17c639e2"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">10.69</span></p></td><td class="cl-17c639e2"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">43.28</span></p></td><td class="cl-17c639ec"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">-96.08</span></p></td><td class="cl-17c639ed"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">6.49</span></p></td><td class="cl-17c639f6"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">1,183.33</span></p></td><td class="cl-17c63a00"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">4,135</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-17c639d9"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">R&amp;D Intensity (%)</span></p></td><td class="cl-17c639e2"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">1,080.22</span></p></td><td class="cl-17c639e2"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">38,877.57</span></p></td><td class="cl-17c639ec"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">-6.28</span></p></td><td class="cl-17c639ed"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">3.40</span></p></td><td class="cl-17c639f6"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">2,088,200.00</span></p></td><td class="cl-17c63a00"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">4,135</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-17c639d9"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">Sales (million)</span></p></td><td class="cl-17c639e2"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">11,024.19</span></p></td><td class="cl-17c639e2"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">27,709.38</span></p></td><td class="cl-17c639ec"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">-4,383.00</span></p></td><td class="cl-17c639ed"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">2,429.10</span></p></td><td class="cl-17c639f6"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">363,375.06</span></p></td><td class="cl-17c63a00"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">4,135</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-17c639d9"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">Sales Growth Rate (%)</span></p></td><td class="cl-17c639e2"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">25.95</span></p></td><td class="cl-17c639e2"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">806.43</span></p></td><td class="cl-17c639ec"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">-1,038.38</span></p></td><td class="cl-17c639ed"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">4.50</span></p></td><td class="cl-17c639f6"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">44,594.20</span></p></td><td class="cl-17c63a00"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">4,135</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-17c63a01"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">Patent Count</span></p></td><td class="cl-17c63a0a"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">163.78</span></p></td><td class="cl-17c63a0a"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">579.31</span></p></td><td class="cl-17c63a14"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">0.00</span></p></td><td class="cl-17c63a15"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">18.00</span></p></td><td class="cl-17c63a1e"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">8,235.00</span></p></td><td class="cl-17c63a1f"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">4,135</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-17c63a28"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">Patent Intensity (per 1M Sales)</span></p></td><td class="cl-17c63a29"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">4.57</span></p></td><td class="cl-17c63a29"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">171.80</span></p></td><td class="cl-17c63a2a"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">-0.30</span></p></td><td class="cl-17c63a32"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">0.01</span></p></td><td class="cl-17c63a33"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">8,000.00</span></p></td><td class="cl-17c63a3c"><p class="cl-17c5e1d6"><span class="cl-17bd7f50">4,135</span></p></td></tr></tbody></table></div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a> selected_data <span class="ot">&lt;-</span> merged_data <span class="sc">%&gt;%</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>    company,</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>    year,</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>    region,</span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>    country,</span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>    icb_sector,</span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>    rank,</span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>    rd_million,</span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a>    rd_growth_1y_percent,</span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a>    rd_intensity_percent,</span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a>    sales_million,</span>
<span id="cb57-13"><a href="#cb57-13" aria-hidden="true" tabindex="-1"></a>    sales_growth_1y_percent,</span>
<span id="cb57-14"><a href="#cb57-14" aria-hidden="true" tabindex="-1"></a>    patent_count,</span>
<span id="cb57-15"><a href="#cb57-15" aria-hidden="true" tabindex="-1"></a>    patent_intensity_sales)</span>
<span id="cb57-16"><a href="#cb57-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-17"><a href="#cb57-17" aria-hidden="true" tabindex="-1"></a>variable_dict <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb57-18"><a href="#cb57-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> <span class="fu">c</span>(</span>
<span id="cb57-19"><a href="#cb57-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">"company"</span>, <span class="st">"year"</span>, <span class="st">"region"</span>, <span class="st">"country"</span>, <span class="st">"icb_sector"</span>, <span class="st">"rank"</span>,</span>
<span id="cb57-20"><a href="#cb57-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">"rd_million"</span>, <span class="st">"rd_growth_1y_percent"</span>, <span class="st">"rd_intensity_percent"</span>,</span>
<span id="cb57-21"><a href="#cb57-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">"sales_million"</span>, <span class="st">"sales_growth_1y_percent"</span>,</span>
<span id="cb57-22"><a href="#cb57-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">"patent_count"</span>, <span class="st">"patent_intensity_sales"</span>),</span>
<span id="cb57-23"><a href="#cb57-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">description =</span> <span class="fu">c</span>(</span>
<span id="cb57-24"><a href="#cb57-24" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Legal name of the firm as reported in the dataset"</span>,</span>
<span id="cb57-25"><a href="#cb57-25" aria-hidden="true" tabindex="-1"></a>  <span class="st">"calendar year corresponding to the observation"</span>,</span>
<span id="cb57-26"><a href="#cb57-26" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Broad geographic region where the firm is based"</span>,</span>
<span id="cb57-27"><a href="#cb57-27" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Country in which the firms headquarters is located"</span>,</span>
<span id="cb57-28"><a href="#cb57-28" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Industry classification based on the ICB standard"</span>,</span>
<span id="cb57-29"><a href="#cb57-29" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Rank based on R&amp;D expenditure, from high to low"</span>,</span>
<span id="cb57-30"><a href="#cb57-30" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Total R&amp;D expenditures reported by the firm for the year"</span>,</span>
<span id="cb57-31"><a href="#cb57-31" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Percentage change in R&amp;D expenditure compared to the previous year"</span>,</span>
<span id="cb57-32"><a href="#cb57-32" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Ratio of R&amp;D expenditure to total sales revenue"</span>,</span>
<span id="cb57-33"><a href="#cb57-33" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Total annual firm sales revenue"</span>,</span>
<span id="cb57-34"><a href="#cb57-34" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Percentage change in firm sales compared to the previous year"</span>,</span>
<span id="cb57-35"><a href="#cb57-35" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Total number of patents collected from Espacenet"</span>,</span>
<span id="cb57-36"><a href="#cb57-36" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Patent applications scaled by sales"</span>)</span>
<span id="cb57-37"><a href="#cb57-37" aria-hidden="true" tabindex="-1"></a>,</span>
<span id="cb57-38"><a href="#cb57-38" aria-hidden="true" tabindex="-1"></a>  <span class="at">unit =</span> <span class="fu">c</span>(</span>
<span id="cb57-39"><a href="#cb57-39" aria-hidden="true" tabindex="-1"></a>    <span class="st">"-"</span>, <span class="st">"Year"</span>, <span class="st">"-"</span>, <span class="st">"-"</span>, <span class="st">"-"</span>, <span class="st">"Index"</span>,</span>
<span id="cb57-40"><a href="#cb57-40" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Million EUR"</span>, <span class="st">"Percent"</span>, <span class="st">"Percent"</span>,</span>
<span id="cb57-41"><a href="#cb57-41" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Million EUR"</span>, <span class="st">"Percent"</span>,</span>
<span id="cb57-42"><a href="#cb57-42" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Count"</span>, <span class="st">"Per million EUR"</span> ))</span>
<span id="cb57-43"><a href="#cb57-43" aria-hidden="true" tabindex="-1"></a>variable_dict <span class="sc">%&gt;%</span></span>
<span id="cb57-44"><a href="#cb57-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">%&gt;%</span></span>
<span id="cb57-45"><a href="#cb57-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(</span>
<span id="cb57-46"><a href="#cb57-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">name        =</span> <span class="st">"Variable Name"</span>,</span>
<span id="cb57-47"><a href="#cb57-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">description =</span> <span class="st">"Description"</span>,</span>
<span id="cb57-48"><a href="#cb57-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">unit        =</span> <span class="st">"Unit"</span></span>
<span id="cb57-49"><a href="#cb57-49" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb57-50"><a href="#cb57-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_options</span>(</span>
<span id="cb57-51"><a href="#cb57-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">table.font.names =</span> <span class="st">"Times New Roman"</span>,</span>
<span id="cb57-52"><a href="#cb57-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">column_labels.font.weight =</span> <span class="st">"bold"</span>,</span>
<span id="cb57-53"><a href="#cb57-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">table.align =</span> <span class="st">"center"</span>,</span>
<span id="cb57-54"><a href="#cb57-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">table.width =</span> <span class="fu">pct</span>(<span class="dv">100</span>),</span>
<span id="cb57-55"><a href="#cb57-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">row.striping.background_color =</span> <span class="st">"gray95"</span>,</span>
<span id="cb57-56"><a href="#cb57-56" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb57-57"><a href="#cb57-57" aria-hidden="true" tabindex="-1"></a>    <span class="at">data_row.padding =</span> <span class="fu">px</span>(<span class="dv">2</span>),        </span>
<span id="cb57-58"><a href="#cb57-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">heading.padding =</span> <span class="fu">px</span>(<span class="dv">2</span>),          </span>
<span id="cb57-59"><a href="#cb57-59" aria-hidden="true" tabindex="-1"></a>    <span class="at">column_labels.padding =</span> <span class="fu">px</span>(<span class="dv">2</span>),   </span>
<span id="cb57-60"><a href="#cb57-60" aria-hidden="true" tabindex="-1"></a>    <span class="at">table.font.size =</span> <span class="dv">12</span>              </span>
<span id="cb57-61"><a href="#cb57-61" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb57-62"><a href="#cb57-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_missing</span>(</span>
<span id="cb57-63"><a href="#cb57-63" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">everything</span>(),</span>
<span id="cb57-64"><a href="#cb57-64" aria-hidden="true" tabindex="-1"></a>    <span class="at">missing_text =</span> <span class="st">"-"</span></span>
<span id="cb57-65"><a href="#cb57-65" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb57-66"><a href="#cb57-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_style</span>(</span>
<span id="cb57-67"><a href="#cb57-67" aria-hidden="true" tabindex="-1"></a>    <span class="at">style =</span> <span class="fu">cell_text</span>(<span class="at">weight =</span> <span class="st">"bold"</span>),</span>
<span id="cb57-68"><a href="#cb57-68" aria-hidden="true" tabindex="-1"></a>    <span class="at">locations =</span> <span class="fu">cells_body</span>()</span>
<span id="cb57-69"><a href="#cb57-69" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb57-70"><a href="#cb57-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_style</span>(</span>
<span id="cb57-71"><a href="#cb57-71" aria-hidden="true" tabindex="-1"></a>    <span class="at">style =</span> <span class="fu">cell_text</span>(<span class="at">weight =</span> <span class="st">"bold"</span>),</span>
<span id="cb57-72"><a href="#cb57-72" aria-hidden="true" tabindex="-1"></a>    <span class="at">locations =</span> <span class="fu">cells_column_labels</span>(<span class="fu">everything</span>()))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="lydmsqtznh" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#lydmsqtznh table {
  font-family: 'Times New Roman';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#lydmsqtznh thead, #lydmsqtznh tbody, #lydmsqtznh tfoot, #lydmsqtznh tr, #lydmsqtznh td, #lydmsqtznh th {
  border-style: none;
}

#lydmsqtznh p {
  margin: 0;
  padding: 0;
}

#lydmsqtznh .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 12px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: 100%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#lydmsqtznh .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#lydmsqtznh .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 2px;
  padding-bottom: 2px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#lydmsqtznh .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 1px;
  padding-bottom: 3px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#lydmsqtznh .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#lydmsqtznh .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lydmsqtznh .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#lydmsqtznh .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: bold;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 2px;
  padding-bottom: 3px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#lydmsqtznh .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: bold;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#lydmsqtznh .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#lydmsqtznh .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#lydmsqtznh .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 2px;
  padding-bottom: 2px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#lydmsqtznh .gt_spanner_row {
  border-bottom-style: hidden;
}

#lydmsqtznh .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#lydmsqtznh .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#lydmsqtznh .gt_from_md > :first-child {
  margin-top: 0;
}

#lydmsqtznh .gt_from_md > :last-child {
  margin-bottom: 0;
}

#lydmsqtznh .gt_row {
  padding-top: 2px;
  padding-bottom: 2px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#lydmsqtznh .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#lydmsqtznh .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#lydmsqtznh .gt_row_group_first td {
  border-top-width: 2px;
}

#lydmsqtznh .gt_row_group_first th {
  border-top-width: 2px;
}

#lydmsqtznh .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#lydmsqtznh .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#lydmsqtznh .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#lydmsqtznh .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lydmsqtznh .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#lydmsqtznh .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#lydmsqtznh .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#lydmsqtznh .gt_striped {
  background-color: #F2F2F2;
}

#lydmsqtznh .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lydmsqtznh .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#lydmsqtznh .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#lydmsqtznh .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#lydmsqtznh .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#lydmsqtznh .gt_left {
  text-align: left;
}

#lydmsqtznh .gt_center {
  text-align: center;
}

#lydmsqtznh .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#lydmsqtznh .gt_font_normal {
  font-weight: normal;
}

#lydmsqtznh .gt_font_bold {
  font-weight: bold;
}

#lydmsqtznh .gt_font_italic {
  font-style: italic;
}

#lydmsqtznh .gt_super {
  font-size: 65%;
}

#lydmsqtznh .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#lydmsqtznh .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#lydmsqtznh .gt_indent_1 {
  text-indent: 5px;
}

#lydmsqtznh .gt_indent_2 {
  text-indent: 10px;
}

#lydmsqtznh .gt_indent_3 {
  text-indent: 15px;
}

#lydmsqtznh .gt_indent_4 {
  text-indent: 20px;
}

#lydmsqtznh .gt_indent_5 {
  text-indent: 25px;
}

#lydmsqtznh .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#lydmsqtznh div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_col_headings header">
<th id="name" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="font-weight: bold" scope="col">Variable Name</th>
<th id="description" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="font-weight: bold" scope="col">Description</th>
<th id="unit" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="font-weight: bold" scope="col">Unit</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="name" style="font-weight: bold">company</td>
<td class="gt_row gt_left" headers="description" style="font-weight: bold">Legal name of the firm as reported in the dataset</td>
<td class="gt_row gt_left" headers="unit" style="font-weight: bold">-</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="name" style="font-weight: bold">year</td>
<td class="gt_row gt_left" headers="description" style="font-weight: bold">calendar year corresponding to the observation</td>
<td class="gt_row gt_left" headers="unit" style="font-weight: bold">Year</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="name" style="font-weight: bold">region</td>
<td class="gt_row gt_left" headers="description" style="font-weight: bold">Broad geographic region where the firm is based</td>
<td class="gt_row gt_left" headers="unit" style="font-weight: bold">-</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="name" style="font-weight: bold">country</td>
<td class="gt_row gt_left" headers="description" style="font-weight: bold">Country in which the firms headquarters is located</td>
<td class="gt_row gt_left" headers="unit" style="font-weight: bold">-</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="name" style="font-weight: bold">icb_sector</td>
<td class="gt_row gt_left" headers="description" style="font-weight: bold">Industry classification based on the ICB standard</td>
<td class="gt_row gt_left" headers="unit" style="font-weight: bold">-</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="name" style="font-weight: bold">rank</td>
<td class="gt_row gt_left" headers="description" style="font-weight: bold">Rank based on R&amp;D expenditure, from high to low</td>
<td class="gt_row gt_left" headers="unit" style="font-weight: bold">Index</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="name" style="font-weight: bold">rd_million</td>
<td class="gt_row gt_left" headers="description" style="font-weight: bold">Total R&amp;D expenditures reported by the firm for the year</td>
<td class="gt_row gt_left" headers="unit" style="font-weight: bold">Million EUR</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="name" style="font-weight: bold">rd_growth_1y_percent</td>
<td class="gt_row gt_left" headers="description" style="font-weight: bold">Percentage change in R&amp;D expenditure compared to the previous year</td>
<td class="gt_row gt_left" headers="unit" style="font-weight: bold">Percent</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="name" style="font-weight: bold">rd_intensity_percent</td>
<td class="gt_row gt_left" headers="description" style="font-weight: bold">Ratio of R&amp;D expenditure to total sales revenue</td>
<td class="gt_row gt_left" headers="unit" style="font-weight: bold">Percent</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="name" style="font-weight: bold">sales_million</td>
<td class="gt_row gt_left" headers="description" style="font-weight: bold">Total annual firm sales revenue</td>
<td class="gt_row gt_left" headers="unit" style="font-weight: bold">Million EUR</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="name" style="font-weight: bold">sales_growth_1y_percent</td>
<td class="gt_row gt_left" headers="description" style="font-weight: bold">Percentage change in firm sales compared to the previous year</td>
<td class="gt_row gt_left" headers="unit" style="font-weight: bold">Percent</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="name" style="font-weight: bold">patent_count</td>
<td class="gt_row gt_left" headers="description" style="font-weight: bold">Total number of patents collected from Espacenet</td>
<td class="gt_row gt_left" headers="unit" style="font-weight: bold">Count</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="name" style="font-weight: bold">patent_intensity_sales</td>
<td class="gt_row gt_left" headers="description" style="font-weight: bold">Patent applications scaled by sales</td>
<td class="gt_row gt_left" headers="unit" style="font-weight: bold">Per million EUR</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="cross-sectional-analysis" class="level2">
<h2 class="anchored" data-anchor-id="cross-sectional-analysis">Cross sectional analysis</h2>
<section id="by-industry" class="level3">
<h3 class="anchored" data-anchor-id="by-industry">1.by industry</h3>
<p>H: Top20%  Others H: Top20% &gt; Others</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>data_2019 <span class="ot">&lt;-</span> merged_data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2019</span>)</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>data_2019 <span class="ot">&lt;-</span> data_2019 <span class="sc">%&gt;%</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">log_rd =</span> <span class="fu">log1p</span>(rd_intensity_percent))</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>industry_avg_log <span class="ot">&lt;-</span> data_2019 <span class="sc">%&gt;%</span></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(icb_sector) <span class="sc">%&gt;%</span></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_log_rd =</span> <span class="fu">mean</span>(log_rd, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>threshold <span class="ot">&lt;-</span> <span class="fu">quantile</span>(industry_avg_log<span class="sc">$</span>mean_log_rd, <span class="fl">0.80</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>top20_industries <span class="ot">&lt;-</span> industry_avg_log <span class="sc">%&gt;%</span></span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(mean_log_rd <span class="sc">&gt;=</span> threshold) <span class="sc">%&gt;%</span></span>
<span id="cb58-12"><a href="#cb58-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(icb_sector)</span>
<span id="cb58-13"><a href="#cb58-13" aria-hidden="true" tabindex="-1"></a>data_2019 <span class="ot">&lt;-</span> data_2019 <span class="sc">%&gt;%</span></span>
<span id="cb58-14"><a href="#cb58-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">industry_group =</span> <span class="fu">ifelse</span>(icb_sector <span class="sc">%in%</span> top20_industries, <span class="st">"Top20%"</span>, <span class="st">"Others"</span>))</span>
<span id="cb58-15"><a href="#cb58-15" aria-hidden="true" tabindex="-1"></a>data_2019<span class="sc">$</span>industry_group <span class="ot">&lt;-</span> <span class="fu">factor</span>(data_2019<span class="sc">$</span>industry_group, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Top20%"</span>, <span class="st">"Others"</span>))</span>
<span id="cb58-16"><a href="#cb58-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-17"><a href="#cb58-17" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(patent_intensity_sales <span class="sc">~</span> industry_group, <span class="at">data =</span> data_2019, <span class="at">alternative =</span> <span class="st">"greater"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Welch Two Sample t-test

data:  patent_intensity_sales by industry_group
t = 2.5809, df = 182.49, p-value = 0.005321
alternative hypothesis: true difference in means between group Top20% and group Others is greater than 0
95 percent confidence interval:
 0.04028729        Inf
sample estimates:
mean in group Top20% mean in group Others 
          0.12815361           0.01606342 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wilcox.test</span>(sales_growth_1y_percent <span class="sc">~</span> industry_group, <span class="at">data =</span> data_2019, <span class="at">alternative =</span> <span class="st">"greater"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Wilcoxon rank sum test with continuity correction

data:  sales_growth_1y_percent by industry_group
W = 25240, p-value = 0.0008601
alternative hypothesis: true location shift is greater than 0</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>desc_stats <span class="ot">&lt;-</span> data_2019 <span class="sc">%&gt;%</span> </span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(industry_group) <span class="sc">%&gt;%</span> </span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_firms           =</span> <span class="fu">n</span>(),</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_pat_int      =</span> <span class="fu">mean</span>(patent_intensity_sales,  <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_pat_int        =</span> <span class="fu">sd</span>(patent_intensity_sales,    <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_sales_growth =</span> <span class="fu">mean</span>(sales_growth_1y_percent, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_sales_growth   =</span> <span class="fu">sd</span>(sales_growth_1y_percent,   <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">p_value           =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-12"><a href="#cb62-12" aria-hidden="true" tabindex="-1"></a>pat_test <span class="ot">&lt;-</span> <span class="fu">t.test</span>(patent_intensity_sales <span class="sc">~</span> industry_group,</span>
<span id="cb62-13"><a href="#cb62-13" aria-hidden="true" tabindex="-1"></a>                   <span class="at">data        =</span> data_2019,</span>
<span id="cb62-14"><a href="#cb62-14" aria-hidden="true" tabindex="-1"></a>                   <span class="at">alternative =</span> <span class="st">"greater"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb62-15"><a href="#cb62-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tidy</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb62-16"><a href="#cb62-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb62-17"><a href="#cb62-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">industry_group   =</span> <span class="st">"t-test (patent intensity)"</span>,</span>
<span id="cb62-18"><a href="#cb62-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_firms          =</span> <span class="cn">NA_integer_</span>,</span>
<span id="cb62-19"><a href="#cb62-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_pat_int     =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb62-20"><a href="#cb62-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_pat_int       =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb62-21"><a href="#cb62-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_sales_growth=</span> <span class="cn">NA_real_</span>,</span>
<span id="cb62-22"><a href="#cb62-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_sales_growth  =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb62-23"><a href="#cb62-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">p_value          =</span> p.value)</span>
<span id="cb62-24"><a href="#cb62-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-25"><a href="#cb62-25" aria-hidden="true" tabindex="-1"></a>sales_test <span class="ot">&lt;-</span> <span class="fu">wilcox.test</span>(sales_growth_1y_percent <span class="sc">~</span> industry_group,</span>
<span id="cb62-26"><a href="#cb62-26" aria-hidden="true" tabindex="-1"></a>                          <span class="at">data        =</span> data_2019,</span>
<span id="cb62-27"><a href="#cb62-27" aria-hidden="true" tabindex="-1"></a>                          <span class="at">alternative =</span> <span class="st">"greater"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb62-28"><a href="#cb62-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tidy</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb62-29"><a href="#cb62-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb62-30"><a href="#cb62-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">industry_group   =</span> <span class="st">"Wilcoxon (sales growth)"</span>,</span>
<span id="cb62-31"><a href="#cb62-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_firms          =</span> <span class="cn">NA_integer_</span>,</span>
<span id="cb62-32"><a href="#cb62-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_pat_int     =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb62-33"><a href="#cb62-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_pat_int       =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb62-34"><a href="#cb62-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_sales_growth=</span> <span class="cn">NA_real_</span>,</span>
<span id="cb62-35"><a href="#cb62-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_sales_growth  =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb62-36"><a href="#cb62-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">p_value          =</span> p.value)</span>
<span id="cb62-37"><a href="#cb62-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-38"><a href="#cb62-38" aria-hidden="true" tabindex="-1"></a>results_table <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(desc_stats, pat_test, sales_test)</span>
<span id="cb62-39"><a href="#cb62-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-40"><a href="#cb62-40" aria-hidden="true" tabindex="-1"></a>results_table <span class="sc">%&gt;%</span></span>
<span id="cb62-41"><a href="#cb62-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="st">"html"</span>,</span>
<span id="cb62-42"><a href="#cb62-42" aria-hidden="true" tabindex="-1"></a>        <span class="at">caption   =</span> <span class="st">"Top-20% Industries vs. Others (2019)"</span>,</span>
<span id="cb62-43"><a href="#cb62-43" aria-hidden="true" tabindex="-1"></a>        <span class="at">col.names =</span> <span class="fu">c</span>(</span>
<span id="cb62-44"><a href="#cb62-44" aria-hidden="true" tabindex="-1"></a>          <span class="st">"Group / Test"</span>,</span>
<span id="cb62-45"><a href="#cb62-45" aria-hidden="true" tabindex="-1"></a>          <span class="st">"N firms"</span>,</span>
<span id="cb62-46"><a href="#cb62-46" aria-hidden="true" tabindex="-1"></a>          <span class="st">"Mean Patent Intensity"</span>,</span>
<span id="cb62-47"><a href="#cb62-47" aria-hidden="true" tabindex="-1"></a>          <span class="st">"SD Patent Intensity"</span>,</span>
<span id="cb62-48"><a href="#cb62-48" aria-hidden="true" tabindex="-1"></a>          <span class="st">"Mean Sales Growth (%)"</span>,</span>
<span id="cb62-49"><a href="#cb62-49" aria-hidden="true" tabindex="-1"></a>          <span class="st">"SD Sales Growth (%)"</span>,</span>
<span id="cb62-50"><a href="#cb62-50" aria-hidden="true" tabindex="-1"></a>          <span class="st">"p-value"</span>),</span>
<span id="cb62-51"><a href="#cb62-51" aria-hidden="true" tabindex="-1"></a>        <span class="at">digits    =</span> <span class="dv">3</span>,</span>
<span id="cb62-52"><a href="#cb62-52" aria-hidden="true" tabindex="-1"></a>        <span class="at">escape    =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb62-53"><a href="#cb62-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> <span class="cn">FALSE</span>, <span class="at">position =</span> <span class="st">"center"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb62-54"><a href="#cb62-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_rows</span>(<span class="st">"Descriptive Statistics"</span>, <span class="dv">1</span>, <span class="fu">nrow</span>(desc_stats), </span>
<span id="cb62-55"><a href="#cb62-55" aria-hidden="true" tabindex="-1"></a>             <span class="at">label_row_css =</span> <span class="st">"font-family: 'Times New Roman'; font-weight: bold;"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb62-56"><a href="#cb62-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_rows</span>(<span class="st">"Statistical Tests"</span>, <span class="fu">nrow</span>(desc_stats) <span class="sc">+</span> <span class="dv">1</span>, <span class="fu">nrow</span>(results_table),</span>
<span id="cb62-57"><a href="#cb62-57" aria-hidden="true" tabindex="-1"></a>             <span class="at">label_row_css =</span> <span class="st">"font-family: 'Times New Roman'; font-weight: bold;"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb62-58"><a href="#cb62-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>, </span>
<span id="cb62-59"><a href="#cb62-59" aria-hidden="true" tabindex="-1"></a>           <span class="at">extra_css =</span> <span class="st">"font-family: 'Times New Roman'; </span></span>
<span id="cb62-60"><a href="#cb62-60" aria-hidden="true" tabindex="-1"></a><span class="st">                        border-top: 2px solid black; </span></span>
<span id="cb62-61"><a href="#cb62-61" aria-hidden="true" tabindex="-1"></a><span class="st">                        border-bottom: 2px solid black;"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb62-62"><a href="#cb62-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>, <span class="at">extra_css =</span> <span class="st">"font-family: 'Times New Roman';"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<caption>Top-20% Industries vs. Others (2019)</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; font-family: 'Times New Roman'; border-top: 2px solid black; border-bottom: 2px solid black;">Group / Test</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; font-family: 'Times New Roman'; border-top: 2px solid black; border-bottom: 2px solid black;">N firms</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; font-family: 'Times New Roman'; border-top: 2px solid black; border-bottom: 2px solid black;">Mean Patent Intensity</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; font-family: 'Times New Roman'; border-top: 2px solid black; border-bottom: 2px solid black;">SD Patent Intensity</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; font-family: 'Times New Roman'; border-top: 2px solid black; border-bottom: 2px solid black;">Mean Sales Growth (%)</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; font-family: 'Times New Roman'; border-top: 2px solid black; border-bottom: 2px solid black;">SD Sales Growth (%)</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; font-family: 'Times New Roman'; border-top: 2px solid black; border-bottom: 2px solid black;">p-value</th>
</tr>
</thead>
<tbody>
<tr class="odd" data-grouplength="2">
<td colspan="7" style="font-family: 'Times New Roman'; font-weight: bold"><strong>Descriptive Statistics</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em; font-family: 'Times New Roman';" data-indentlevel="1">Top20%</td>
<td style="text-align: right; font-family: 'Times New Roman';">183</td>
<td style="text-align: right; font-family: 'Times New Roman';">0.128</td>
<td style="text-align: right; font-family: 'Times New Roman';">0.587</td>
<td style="text-align: right; font-family: 'Times New Roman';">264.611</td>
<td style="text-align: right; font-family: 'Times New Roman';">3299.557</td>
<td style="text-align: right; font-family: 'Times New Roman';">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em; font-family: 'Times New Roman';" data-indentlevel="1">Others</td>
<td style="text-align: right; font-family: 'Times New Roman';">234</td>
<td style="text-align: right; font-family: 'Times New Roman';">0.016</td>
<td style="text-align: right; font-family: 'Times New Roman';">0.024</td>
<td style="text-align: right; font-family: 'Times New Roman';">5.014</td>
<td style="text-align: right; font-family: 'Times New Roman';">19.113</td>
<td style="text-align: right; font-family: 'Times New Roman';">NA</td>
</tr>
<tr class="even" data-grouplength="2">
<td colspan="7" style="font-family: 'Times New Roman'; font-weight: bold"><strong>Statistical Tests</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em; font-family: 'Times New Roman';" data-indentlevel="1">t-test (patent intensity)</td>
<td style="text-align: right; font-family: 'Times New Roman';">NA</td>
<td style="text-align: right; font-family: 'Times New Roman';">NA</td>
<td style="text-align: right; font-family: 'Times New Roman';">NA</td>
<td style="text-align: right; font-family: 'Times New Roman';">NA</td>
<td style="text-align: right; font-family: 'Times New Roman';">NA</td>
<td style="text-align: right; font-family: 'Times New Roman';">0.005</td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em; font-family: 'Times New Roman';" data-indentlevel="1">Wilcoxon (sales growth)</td>
<td style="text-align: right; font-family: 'Times New Roman';">NA</td>
<td style="text-align: right; font-family: 'Times New Roman';">NA</td>
<td style="text-align: right; font-family: 'Times New Roman';">NA</td>
<td style="text-align: right; font-family: 'Times New Roman';">NA</td>
<td style="text-align: right; font-family: 'Times New Roman';">NA</td>
<td style="text-align: right; font-family: 'Times New Roman';">0.001</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Based on 2019 data, firms in the top 20% of R&amp;D-intensive industries show significantly stronger innovation output and growth performance compared to those in other industries. A Welch two-sample t-test indicates that their average patent intensity (patents per million in sales) is significantly higher (p = 0.005), with a mean of 0.13 versus just 0.02 in other industriesnearly an eightfold difference. Similarly, the Wilcoxon rank-sum test shows that sales growth is also significantly higher in the top 20% group (p &lt; 0.001), with an average growth rate of 265%, compared to 5% in the rest. However, the large standard deviation in sales growth (around 3300%) suggests substantial variation, likely influenced by a few extreme high-growth firms. Overall, these findings support the hypothesis that firms in more R&amp;D-intensive industries tend to be more innovative and achieve better growth outcomes.</p>
</section>
<section id="by-country" class="level3">
<h3 class="anchored" data-anchor-id="by-country">2.by country</h3>
<p>H: Top20%  Others H: Top20% &gt; Others</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>country_avg_log <span class="ot">&lt;-</span> data_2019 <span class="sc">%&gt;%</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(country) <span class="sc">%&gt;%</span></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_log_rd =</span> <span class="fu">mean</span>(log_rd, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>threshold <span class="ot">&lt;-</span> <span class="fu">quantile</span>(country_avg_log<span class="sc">$</span>mean_log_rd, <span class="fl">0.80</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>top20_countries <span class="ot">&lt;-</span> country_avg_log <span class="sc">%&gt;%</span></span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(mean_log_rd <span class="sc">&gt;=</span> threshold) <span class="sc">%&gt;%</span></span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(country)</span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-11"><a href="#cb63-11" aria-hidden="true" tabindex="-1"></a>data_2019 <span class="ot">&lt;-</span> data_2019 <span class="sc">%&gt;%</span></span>
<span id="cb63-12"><a href="#cb63-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">country_group =</span> <span class="fu">ifelse</span>(country <span class="sc">%in%</span> top20_countries, <span class="st">"Top20%"</span>, <span class="st">"Others"</span>))</span>
<span id="cb63-13"><a href="#cb63-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-14"><a href="#cb63-14" aria-hidden="true" tabindex="-1"></a>data_2019<span class="sc">$</span>country_group <span class="ot">&lt;-</span> <span class="fu">factor</span>(data_2019<span class="sc">$</span>country_group, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Top20%"</span>, <span class="st">"Others"</span>))</span>
<span id="cb63-15"><a href="#cb63-15" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(patent_intensity_sales <span class="sc">~</span> country_group, <span class="at">data =</span> data_2019, <span class="at">alternative =</span> <span class="st">"greater"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Welch Two Sample t-test

data:  patent_intensity_sales by country_group
t = 1.5565, df = 95.089, p-value = 0.06145
alternative hypothesis: true difference in means between group Top20% and group Others is greater than 0
95 percent confidence interval:
 -0.008385129          Inf
sample estimates:
mean in group Top20% mean in group Others 
          0.16196719           0.03710846 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wilcox.test</span>(sales_growth_1y_percent <span class="sc">~</span> country_group, <span class="at">data =</span> data_2019, <span class="at">alternative =</span> <span class="st">"greater"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Wilcoxon rank sum test with continuity correction

data:  sales_growth_1y_percent by country_group
W = 16363, p-value = 0.1253
alternative hypothesis: true location shift is greater than 0</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>desc_stats_ctry <span class="ot">&lt;-</span> data_2019 <span class="sc">%&gt;%</span> </span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(country_group) <span class="sc">%&gt;%</span> </span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_firms           =</span> <span class="fu">n</span>(),</span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_pat_int      =</span> <span class="fu">mean</span>(patent_intensity_sales,  <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_pat_int        =</span> <span class="fu">sd</span>(patent_intensity_sales,    <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_sales_growth =</span> <span class="fu">mean</span>(sales_growth_1y_percent, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_sales_growth   =</span> <span class="fu">sd</span>(sales_growth_1y_percent,   <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">p_value           =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a>pat_test_ctry <span class="ot">&lt;-</span> <span class="fu">t.test</span>(patent_intensity_sales <span class="sc">~</span> country_group,</span>
<span id="cb67-13"><a href="#cb67-13" aria-hidden="true" tabindex="-1"></a>                        <span class="at">data        =</span> data_2019,</span>
<span id="cb67-14"><a href="#cb67-14" aria-hidden="true" tabindex="-1"></a>                        <span class="at">alternative =</span> <span class="st">"greater"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb67-15"><a href="#cb67-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tidy</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb67-16"><a href="#cb67-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb67-17"><a href="#cb67-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">country_group      =</span> <span class="st">"t-test (patent intensity)"</span>,</span>
<span id="cb67-18"><a href="#cb67-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_firms            =</span> <span class="cn">NA_integer_</span>,</span>
<span id="cb67-19"><a href="#cb67-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_pat_int       =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb67-20"><a href="#cb67-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_pat_int         =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb67-21"><a href="#cb67-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_sales_growth  =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb67-22"><a href="#cb67-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_sales_growth    =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb67-23"><a href="#cb67-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">p_value            =</span> p.value)</span>
<span id="cb67-24"><a href="#cb67-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-25"><a href="#cb67-25" aria-hidden="true" tabindex="-1"></a>sales_test_ctry <span class="ot">&lt;-</span> <span class="fu">wilcox.test</span>(sales_growth_1y_percent <span class="sc">~</span> country_group,</span>
<span id="cb67-26"><a href="#cb67-26" aria-hidden="true" tabindex="-1"></a>                               <span class="at">data        =</span> data_2019,</span>
<span id="cb67-27"><a href="#cb67-27" aria-hidden="true" tabindex="-1"></a>                               <span class="at">alternative =</span> <span class="st">"greater"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb67-28"><a href="#cb67-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tidy</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb67-29"><a href="#cb67-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb67-30"><a href="#cb67-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">country_group      =</span> <span class="st">"Wilcoxon (sales growth)"</span>,</span>
<span id="cb67-31"><a href="#cb67-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_firms            =</span> <span class="cn">NA_integer_</span>,</span>
<span id="cb67-32"><a href="#cb67-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_pat_int       =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb67-33"><a href="#cb67-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_pat_int         =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb67-34"><a href="#cb67-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_sales_growth  =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb67-35"><a href="#cb67-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_sales_growth    =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb67-36"><a href="#cb67-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">p_value            =</span> p.value)</span>
<span id="cb67-37"><a href="#cb67-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-38"><a href="#cb67-38" aria-hidden="true" tabindex="-1"></a>results_country <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(desc_stats_ctry, pat_test_ctry, sales_test_ctry)</span>
<span id="cb67-39"><a href="#cb67-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-40"><a href="#cb67-40" aria-hidden="true" tabindex="-1"></a>results_country <span class="sc">%&gt;%</span></span>
<span id="cb67-41"><a href="#cb67-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="st">"html"</span>,</span>
<span id="cb67-42"><a href="#cb67-42" aria-hidden="true" tabindex="-1"></a>        <span class="at">caption   =</span> <span class="st">"Top-20% Countries vs. Others (2019)"</span>,</span>
<span id="cb67-43"><a href="#cb67-43" aria-hidden="true" tabindex="-1"></a>        <span class="at">col.names =</span> <span class="fu">c</span>(</span>
<span id="cb67-44"><a href="#cb67-44" aria-hidden="true" tabindex="-1"></a>          <span class="st">"Group / Test"</span>,</span>
<span id="cb67-45"><a href="#cb67-45" aria-hidden="true" tabindex="-1"></a>          <span class="st">"N firms"</span>,</span>
<span id="cb67-46"><a href="#cb67-46" aria-hidden="true" tabindex="-1"></a>          <span class="st">"Mean Patent Intensity"</span>,</span>
<span id="cb67-47"><a href="#cb67-47" aria-hidden="true" tabindex="-1"></a>          <span class="st">"SD Patent Intensity"</span>,</span>
<span id="cb67-48"><a href="#cb67-48" aria-hidden="true" tabindex="-1"></a>          <span class="st">"Mean Sales Growth (%)"</span>,</span>
<span id="cb67-49"><a href="#cb67-49" aria-hidden="true" tabindex="-1"></a>          <span class="st">"SD Sales Growth (%)"</span>,</span>
<span id="cb67-50"><a href="#cb67-50" aria-hidden="true" tabindex="-1"></a>          <span class="st">"p-value"</span></span>
<span id="cb67-51"><a href="#cb67-51" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb67-52"><a href="#cb67-52" aria-hidden="true" tabindex="-1"></a>        <span class="at">digits    =</span> <span class="dv">3</span>,</span>
<span id="cb67-53"><a href="#cb67-53" aria-hidden="true" tabindex="-1"></a>        <span class="at">escape    =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb67-54"><a href="#cb67-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> <span class="cn">FALSE</span>, <span class="at">position =</span> <span class="st">"center"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb67-55"><a href="#cb67-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>, </span>
<span id="cb67-56"><a href="#cb67-56" aria-hidden="true" tabindex="-1"></a>           <span class="at">extra_css =</span> <span class="st">"font-family: 'Times New Roman'; </span></span>
<span id="cb67-57"><a href="#cb67-57" aria-hidden="true" tabindex="-1"></a><span class="st">                        border-top: 2px solid black; </span></span>
<span id="cb67-58"><a href="#cb67-58" aria-hidden="true" tabindex="-1"></a><span class="st">                        border-bottom: 2px solid black;"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb67-59"><a href="#cb67-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_rows</span>(<span class="st">"Descriptive Statistics"</span>, <span class="dv">1</span>, <span class="fu">nrow</span>(desc_stats_ctry), </span>
<span id="cb67-60"><a href="#cb67-60" aria-hidden="true" tabindex="-1"></a>             <span class="at">label_row_css =</span> <span class="st">"font-family: 'Times New Roman'; font-weight: bold;"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb67-61"><a href="#cb67-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_rows</span>(<span class="st">"Statistical Tests"</span>, <span class="fu">nrow</span>(desc_stats_ctry) <span class="sc">+</span> <span class="dv">1</span>, <span class="fu">nrow</span>(results_country), </span>
<span id="cb67-62"><a href="#cb67-62" aria-hidden="true" tabindex="-1"></a>             <span class="at">label_row_css =</span> <span class="st">"font-family: 'Times New Roman'; font-weight: bold;"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb67-63"><a href="#cb67-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>, <span class="at">extra_css =</span> <span class="st">"font-family: 'Times New Roman';"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<caption>Top-20% Countries vs. Others (2019)</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; font-family: 'Times New Roman'; border-top: 2px solid black; border-bottom: 2px solid black;">Group / Test</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; font-family: 'Times New Roman'; border-top: 2px solid black; border-bottom: 2px solid black;">N firms</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; font-family: 'Times New Roman'; border-top: 2px solid black; border-bottom: 2px solid black;">Mean Patent Intensity</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; font-family: 'Times New Roman'; border-top: 2px solid black; border-bottom: 2px solid black;">SD Patent Intensity</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; font-family: 'Times New Roman'; border-top: 2px solid black; border-bottom: 2px solid black;">Mean Sales Growth (%)</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; font-family: 'Times New Roman'; border-top: 2px solid black; border-bottom: 2px solid black;">SD Sales Growth (%)</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; font-family: 'Times New Roman'; border-top: 2px solid black; border-bottom: 2px solid black;">p-value</th>
</tr>
</thead>
<tbody>
<tr class="odd" data-grouplength="2">
<td colspan="7" style="font-family: 'Times New Roman'; font-weight: bold"><strong>Descriptive Statistics</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em; font-family: 'Times New Roman';" data-indentlevel="1">Top20%</td>
<td style="text-align: right; font-family: 'Times New Roman';">94</td>
<td style="text-align: right; font-family: 'Times New Roman';">0.162</td>
<td style="text-align: right; font-family: 'Times New Roman';">0.773</td>
<td style="text-align: right; font-family: 'Times New Roman';">480.371</td>
<td style="text-align: right; font-family: 'Times New Roman';">4598.948</td>
<td style="text-align: right; font-family: 'Times New Roman';">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em; font-family: 'Times New Roman';" data-indentlevel="1">Others</td>
<td style="text-align: right; font-family: 'Times New Roman';">323</td>
<td style="text-align: right; font-family: 'Times New Roman';">0.037</td>
<td style="text-align: right; font-family: 'Times New Roman';">0.152</td>
<td style="text-align: right; font-family: 'Times New Roman';">13.753</td>
<td style="text-align: right; font-family: 'Times New Roman';">132.108</td>
<td style="text-align: right; font-family: 'Times New Roman';">NA</td>
</tr>
<tr class="even" data-grouplength="2">
<td colspan="7" style="font-family: 'Times New Roman'; font-weight: bold"><strong>Statistical Tests</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em; font-family: 'Times New Roman';" data-indentlevel="1">t-test (patent intensity)</td>
<td style="text-align: right; font-family: 'Times New Roman';">NA</td>
<td style="text-align: right; font-family: 'Times New Roman';">NA</td>
<td style="text-align: right; font-family: 'Times New Roman';">NA</td>
<td style="text-align: right; font-family: 'Times New Roman';">NA</td>
<td style="text-align: right; font-family: 'Times New Roman';">NA</td>
<td style="text-align: right; font-family: 'Times New Roman';">0.061</td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em; font-family: 'Times New Roman';" data-indentlevel="1">Wilcoxon (sales growth)</td>
<td style="text-align: right; font-family: 'Times New Roman';">NA</td>
<td style="text-align: right; font-family: 'Times New Roman';">NA</td>
<td style="text-align: right; font-family: 'Times New Roman';">NA</td>
<td style="text-align: right; font-family: 'Times New Roman';">NA</td>
<td style="text-align: right; font-family: 'Times New Roman';">NA</td>
<td style="text-align: right; font-family: 'Times New Roman';">0.125</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Firms in the top 20% of R&amp;D-intensive countries did not show significantly higher patent intensity or sales growth compared to others. The t-test (p = 0.061) and Wilcoxon test (p = 0.125) both suggest no statistically significant differences, implying that the impact of country-level R&amp;D intensity on firm outcomes may be weaker or less direct.</p>
<p>These empirical results highlight a notable contrast between industry- and country-level effects of R&amp;D intensity. While firms in top R&amp;D-intensive industries exhibit significantly higher innovation output and sales growth, no such relationship is observed at the country level. This suggests that the transmission of R&amp;D to firm performance may be more strongly shaped by industry-specific technological dynamics than by broader national R&amp;D environments.</p>
</section>
</section>
<section id="ols" class="level2">
<h2 class="anchored" data-anchor-id="ols">OLS</h2>
<p>1.R&amp;D intensity</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>panel_data <span class="ot">&lt;-</span> merged_data <span class="sc">%&gt;%</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(company, year) <span class="sc">%&gt;%</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(company) <span class="sc">%&gt;%</span></span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">size_lag1  =</span> dplyr<span class="sc">::</span><span class="fu">lag</span>(sales_million, <span class="at">order_by =</span> year)</span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">year_lag1   =</span> dplyr<span class="sc">::</span><span class="fu">lag</span>(year, <span class="at">order_by =</span> year)</span>
<span id="cb68-9"><a href="#cb68-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb68-10"><a href="#cb68-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb68-11"><a href="#cb68-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">rd_lag1     =</span> dplyr<span class="sc">::</span><span class="fu">lag</span>(rd_intensity_percent, <span class="at">order_by =</span> year)</span>
<span id="cb68-12"><a href="#cb68-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb68-13"><a href="#cb68-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() </span>
<span id="cb68-14"><a href="#cb68-14" aria-hidden="true" tabindex="-1"></a>panel_data<span class="ot">&lt;-</span>panel_data <span class="sc">|&gt;</span> </span>
<span id="cb68-15"><a href="#cb68-15" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(</span>
<span id="cb68-16"><a href="#cb68-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">growth =</span> <span class="fu">log</span>(sales_million) <span class="sc">-</span> <span class="fu">log</span>(size_lag1)</span>
<span id="cb68-17"><a href="#cb68-17" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb68-18"><a href="#cb68-18" aria-hidden="true" tabindex="-1"></a>panel_data <span class="ot">&lt;-</span> panel_data <span class="sc">%&gt;%</span></span>
<span id="cb68-19"><a href="#cb68-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(company) <span class="sc">%&gt;%</span></span>
<span id="cb68-20"><a href="#cb68-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">growth_lag1 =</span> dplyr<span class="sc">::</span><span class="fu">lag</span>(growth, <span class="at">order_by =</span> year)) <span class="sc">%&gt;%</span></span>
<span id="cb68-21"><a href="#cb68-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb68-22"><a href="#cb68-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-23"><a href="#cb68-23" aria-hidden="true" tabindex="-1"></a>ols_model <span class="ot">&lt;-</span> <span class="fu">feols</span>(</span>
<span id="cb68-24"><a href="#cb68-24" aria-hidden="true" tabindex="-1"></a>  growth <span class="sc">~</span> rd_lag1 <span class="sc">+</span> growth_lag1 <span class="sc">+</span> size_lag1 <span class="sc">|</span> icb_sector <span class="sc">+</span> country <span class="sc">+</span> year,</span>
<span id="cb68-25"><a href="#cb68-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> panel_data)</span>
<span id="cb68-26"><a href="#cb68-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-27"><a href="#cb68-27" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ols_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: growth
Observations: 3,227
Fixed-effects: icb_sector: 37,  country: 17,  year: 8
Standard-errors: Clustered (icb_sector) 
                Estimate  Std. Error   t value   Pr(&gt;|t|)    
rd_lag1      0.000021546 0.000004801   4.48814 7.0940e-05 ***
growth_lag1 -0.554269660 0.042579439 -13.01731 3.5070e-15 ***
size_lag1   -0.000000550 0.000000324  -1.69806 9.8126e-02 .  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.438075     Adj. R2: 0.420507
                 Within R2: 0.42887 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">msummary</span>(</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(<span class="st">"OLS Model"</span> <span class="ot">=</span> ols_model),</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">coef_map =</span> <span class="fu">c</span>(</span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">rd_lag1 =</span> <span class="st">"Lagged R&amp;D Intensity"</span>,</span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">growth_lag1 =</span> <span class="st">"Lagged Sales Growth"</span>,</span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">size_lag1 =</span> <span class="st">"Lagged Firm Size"</span></span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">stars =</span> <span class="fu">c</span>(<span class="st">'*'</span> <span class="ot">=</span> <span class="fl">0.1</span>, <span class="st">'**'</span> <span class="ot">=</span> <span class="fl">0.05</span>, <span class="st">'***'</span> <span class="ot">=</span> <span class="fl">0.01</span>),</span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">fmt =</span> <span class="st">"%.7f"</span>,</span>
<span id="cb70-10"><a href="#cb70-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">gof_omit =</span> <span class="st">"^(?!n|R2).*"</span>,  </span>
<span id="cb70-11"><a href="#cb70-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">output =</span> <span class="st">"kableExtra"</span></span>
<span id="cb70-12"><a href="#cb70-12" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb70-13"><a href="#cb70-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> <span class="cn">FALSE</span>, <span class="at">position =</span> <span class="st">"center"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb70-14"><a href="#cb70-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>, <span class="at">extra_css =</span> <span class="st">"font-family: 'Times New Roman';"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb70-15"><a href="#cb70-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">extra_css =</span> <span class="st">"font-family: 'Times New Roman';"</span>)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; font-family: 'Times New Roman';"></th>
<th data-quarto-table-cell-role="th" style="text-align: center; font-weight: bold; font-family: 'Times New Roman';">OLS Model</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; font-family: 'Times New Roman';">Lagged R&amp;D Intensity</td>
<td style="text-align: center; font-family: 'Times New Roman';">0.0000215***</td>
</tr>
<tr class="even">
<td style="text-align: left; font-family: 'Times New Roman';"></td>
<td style="text-align: center; font-family: 'Times New Roman';">(0.0000048)</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-family: 'Times New Roman';">Lagged Sales Growth</td>
<td style="text-align: center; font-family: 'Times New Roman';">-0.5542697***</td>
</tr>
<tr class="even">
<td style="text-align: left; font-family: 'Times New Roman';"></td>
<td style="text-align: center; font-family: 'Times New Roman';">(0.0425794)</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-family: 'Times New Roman';">Lagged Firm Size</td>
<td style="text-align: center; font-family: 'Times New Roman';">-0.0000006*</td>
</tr>
<tr class="even">
<td style="text-align: left; box-shadow: 0px 1.5pxfont-family;"></td>
<td style="text-align: center; box-shadow: 0px 1.5pxfont-family;">(0.0000003)</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-family: 'Times New Roman';">R2</td>
<td style="text-align: center; font-family: 'Times New Roman';">0.432</td>
</tr>
<tr class="even">
<td style="text-align: left; font-family: 'Times New Roman';">R2 Adj.</td>
<td style="text-align: center; font-family: 'Times New Roman';">0.421</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-family: 'Times New Roman';">R2 Within</td>
<td style="text-align: center; font-family: 'Times New Roman';">0.429</td>
</tr>
<tr class="even">
<td style="text-align: left; font-family: 'Times New Roman';">R2 Within Adj.</td>
<td style="text-align: center; font-family: 'Times New Roman';">0.428</td>
</tr>
</tbody><tfoot>
<tr class="odd">
<td style="text-align: left; padding: 0;"><sup></sup> * p &lt; 0.1, ** p &lt; 0.05, *** p &lt; 0.01</td>
<td style="text-align: center;"></td>
</tr>
</tfoot>

</table>


</div>
</div>
<p>The OLS regression results show that lagged R&amp;D intensity has a positive and statistically significant effect on firm-level sales growth (coefficient = 0.0000215, p &lt; 0.001). This means that a 1 percentage point increase in R&amp;D intensity leads to an approximate 0.00215% increase in sales growth. Although the magnitude is small, the effect is meaningful in a log-linear model and may accumulate over time.</p>
<p>In contrast, lagged firm growth is significantly negative (0.55), indicating a mean-reversion effectfirms that grew faster in the previous period tend to slow down subsequently. Lagged firm size also shows a weakly negative effect on growth, though it is not statistically significant at the 5% level.</p>
<p>The model includes industry, country, and year fixed effects, and explains approximately 42% of the variation in firm growth, with standard errors clustered at the industry level.</p>
<p>2.R&amp;D growth</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>panel_data1 <span class="ot">&lt;-</span> merged_data <span class="sc">%&gt;%</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(company, year) <span class="sc">%&gt;%</span></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a> <span class="fu">group_by</span>(company) <span class="sc">%&gt;%</span></span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a>   <span class="at">size_lag1   =</span> dplyr<span class="sc">::</span><span class="fu">lag</span>(sales_million, <span class="at">order_by =</span> year),</span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">year_lag1   =</span> dplyr<span class="sc">::</span><span class="fu">lag</span>(year, <span class="at">order_by =</span> year),</span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">rd_lag1     =</span> dplyr<span class="sc">::</span><span class="fu">lag</span>(rd_growth_1y_percent, <span class="at">order_by =</span> year) </span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb71-9"><a href="#cb71-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb71-10"><a href="#cb71-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb71-11"><a href="#cb71-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">growth =</span> <span class="fu">log</span>(sales_million) <span class="sc">-</span> <span class="fu">log</span>(size_lag1)</span>
<span id="cb71-12"><a href="#cb71-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb71-13"><a href="#cb71-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(company) <span class="sc">%&gt;%</span></span>
<span id="cb71-14"><a href="#cb71-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb71-15"><a href="#cb71-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">growth_lag1 =</span> dplyr<span class="sc">::</span><span class="fu">lag</span>(growth, <span class="at">order_by =</span> year)</span>
<span id="cb71-16"><a href="#cb71-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb71-17"><a href="#cb71-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb71-18"><a href="#cb71-18" aria-hidden="true" tabindex="-1"></a>ols_model_growth <span class="ot">&lt;-</span> <span class="fu">feols</span>(</span>
<span id="cb71-19"><a href="#cb71-19" aria-hidden="true" tabindex="-1"></a>  growth <span class="sc">~</span> rd_lag1 <span class="sc">+</span> growth_lag1 <span class="sc">+</span> size_lag1 <span class="sc">|</span> icb_sector <span class="sc">+</span> country <span class="sc">+</span> year,</span>
<span id="cb71-20"><a href="#cb71-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> panel_data1)</span>
<span id="cb71-21"><a href="#cb71-21" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ols_model_growth)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: growth
Observations: 3,227
Fixed-effects: icb_sector: 37,  country: 17,  year: 8
Standard-errors: Clustered (icb_sector) 
                Estimate  Std. Error   t value   Pr(&gt;|t|)    
rd_lag1      0.000290008 0.000232090   1.24955 2.1953e-01    
growth_lag1 -0.571456436 0.040798252 -14.00689 3.8322e-16 ***
size_lag1   -0.000000555 0.000000331  -1.67563 1.0248e-01    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.441417     Adj. R2: 0.411631
                 Within R2: 0.420123</code></pre>
</div>
</div>
<p>3.R&amp;D log level</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>panel_data2 <span class="ot">&lt;-</span> merged_data <span class="sc">%&gt;%</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(company, year) <span class="sc">%&gt;%</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(company) <span class="sc">%&gt;%</span></span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">size_lag1   =</span> dplyr<span class="sc">::</span><span class="fu">lag</span>(sales_million, <span class="at">order_by =</span> year),</span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">year_lag1   =</span> dplyr<span class="sc">::</span><span class="fu">lag</span>(year, <span class="at">order_by =</span> year),</span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">rd_log      =</span> <span class="fu">log1p</span>(rd_million),  </span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">rd_lag1     =</span> dplyr<span class="sc">::</span><span class="fu">lag</span>(rd_log, <span class="at">order_by =</span> year)  </span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb73-10"><a href="#cb73-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb73-11"><a href="#cb73-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb73-12"><a href="#cb73-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">growth =</span> <span class="fu">log</span>(sales_million) <span class="sc">-</span> <span class="fu">log</span>(size_lag1)</span>
<span id="cb73-13"><a href="#cb73-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb73-14"><a href="#cb73-14" aria-hidden="true" tabindex="-1"></a> <span class="fu">group_by</span>(company) <span class="sc">%&gt;%</span></span>
<span id="cb73-15"><a href="#cb73-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb73-16"><a href="#cb73-16" aria-hidden="true" tabindex="-1"></a>   <span class="at">growth_lag1 =</span> dplyr<span class="sc">::</span><span class="fu">lag</span>(growth, <span class="at">order_by =</span> year)</span>
<span id="cb73-17"><a href="#cb73-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb73-18"><a href="#cb73-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb73-19"><a href="#cb73-19" aria-hidden="true" tabindex="-1"></a>ols_model_log <span class="ot">&lt;-</span> <span class="fu">feols</span>(</span>
<span id="cb73-20"><a href="#cb73-20" aria-hidden="true" tabindex="-1"></a> growth <span class="sc">~</span> rd_lag1 <span class="sc">+</span> growth_lag1 <span class="sc">+</span> size_lag1 <span class="sc">|</span> icb_sector <span class="sc">+</span> country <span class="sc">+</span> year,</span>
<span id="cb73-21"><a href="#cb73-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> panel_data2)</span>
<span id="cb73-22"><a href="#cb73-22" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ols_model_log)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: growth
Observations: 3,227
Fixed-effects: icb_sector: 37,  country: 17,  year: 8
Standard-errors: Clustered (icb_sector) 
                Estimate  Std. Error   t value   Pr(&gt;|t|)    
rd_lag1      0.007455416 0.005912447   1.26097 2.1543e-01    
growth_lag1 -0.571002055 0.041078843 -13.90015 4.8403e-16 ***
size_lag1   -0.000000796 0.000000438  -1.81569 7.7755e-02 .  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.441498     Adj. R2: 0.411414
                 Within R2: 0.419909</code></pre>
</div>
</div>
</section>
<section id="ols-iv" class="level2">
<h2 class="anchored" data-anchor-id="ols-iv">OLS-IV</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>panel_data <span class="ot">&lt;-</span> panel_data <span class="sc">%&gt;%</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(company) <span class="sc">%&gt;%</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(year, <span class="at">.by_group =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">patent_lag1 =</span> dplyr<span class="sc">::</span><span class="fu">lag</span>(patent_intensity_sales, <span class="at">order_by =</span> year)</span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a>iv_model <span class="ot">&lt;-</span> <span class="fu">feols</span>(</span>
<span id="cb75-10"><a href="#cb75-10" aria-hidden="true" tabindex="-1"></a>  growth <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> growth_lag1 <span class="sc">+</span> size_lag1 <span class="sc">|</span> icb_sector <span class="sc">+</span> country <span class="sc">+</span> year <span class="sc">|</span> rd_lag1 <span class="sc">~</span> patent_lag1,</span>
<span id="cb75-11"><a href="#cb75-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> panel_data</span>
<span id="cb75-12"><a href="#cb75-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb75-13"><a href="#cb75-13" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(iv_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>TSLS estimation - Dep. Var.: growth
                  Endo.    : rd_lag1
                  Instr.   : patent_lag1
Second stage: Dep. Var.: growth
Observations: 3,227
Fixed-effects: icb_sector: 37,  country: 17,  year: 8
Standard-errors: Clustered (icb_sector) 
                Estimate  Std. Error   t value   Pr(&gt;|t|)    
fit_rd_lag1  0.000026596 0.000013741   1.93556 6.0806e-02 .  
growth_lag1 -0.550267035 0.041183904 -13.36122 1.6045e-15 ***
size_lag1   -0.000000547 0.000000320  -1.70815 9.6220e-02 .  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.438268     Adj. R2: 0.419995
                 Within R2: 0.428366
F-test (1st stage), rd_lag1: stat = 30,168.7, p &lt; 2.2e-16 , on 1 and 3,200 DoF.
                 Wu-Hausman: stat =     26.5, p = 2.749e-7, on 1 and 3,163 DoF.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">msummary</span>(</span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'First Stage'</span> <span class="ot">=</span> iv_model<span class="sc">$</span>iv_first_stage[[<span class="dv">1</span>]],</span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Second Stage'</span> <span class="ot">=</span> iv_model</span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">coef_map =</span> <span class="fu">c</span>(</span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">patent_lag1 =</span> <span class="st">'Lagged Patents'</span>,</span>
<span id="cb77-8"><a href="#cb77-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">fit_rd_lag1 =</span> <span class="st">'Predicted R&amp;D'</span></span>
<span id="cb77-9"><a href="#cb77-9" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb77-10"><a href="#cb77-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">stars =</span> <span class="fu">c</span>(<span class="st">'*'</span> <span class="ot">=</span> .<span class="dv">1</span>, <span class="st">'**'</span> <span class="ot">=</span> .<span class="dv">05</span>, <span class="st">'***'</span> <span class="ot">=</span> .<span class="dv">01</span>),</span>
<span id="cb77-11"><a href="#cb77-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">fmt =</span> <span class="st">"%.7f"</span>,</span>
<span id="cb77-12"><a href="#cb77-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">gof_omit =</span> <span class="st">"^(?!n|R2).*"</span>,</span>
<span id="cb77-13"><a href="#cb77-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">output =</span> <span class="st">"kableExtra"</span></span>
<span id="cb77-14"><a href="#cb77-14" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb77-15"><a href="#cb77-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> <span class="cn">FALSE</span>, <span class="at">position =</span> <span class="st">"center"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb77-16"><a href="#cb77-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>, <span class="at">extra_css =</span> <span class="st">"font-family: 'Times New Roman';"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb77-17"><a href="#cb77-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">extra_css =</span> <span class="st">"font-family: 'Times New Roman';"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; font-family: 'Times New Roman';"></th>
<th data-quarto-table-cell-role="th" style="text-align: center; font-weight: bold; font-family: 'Times New Roman';">First Stage</th>
<th data-quarto-table-cell-role="th" style="text-align: center; font-weight: bold; font-family: 'Times New Roman';">Second Stage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; font-family: 'Times New Roman';">Lagged Patents</td>
<td style="text-align: center; font-family: 'Times New Roman';">501.4033193***</td>
<td style="text-align: center; font-family: 'Times New Roman';"></td>
</tr>
<tr class="even">
<td style="text-align: left; font-family: 'Times New Roman';"></td>
<td style="text-align: center; font-family: 'Times New Roman';">(22.1108079)</td>
<td style="text-align: center; font-family: 'Times New Roman';"></td>
</tr>
<tr class="odd">
<td style="text-align: left; font-family: 'Times New Roman';">Predicted R&amp;D</td>
<td style="text-align: center; font-family: 'Times New Roman';"></td>
<td style="text-align: center; font-family: 'Times New Roman';">0.0000266*</td>
</tr>
<tr class="even">
<td style="text-align: left; box-shadow: 0px 1.5pxfont-family;"></td>
<td style="text-align: center; box-shadow: 0px 1.5pxfont-family;"></td>
<td style="text-align: center; box-shadow: 0px 1.5pxfont-family;">(0.0000137)</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-family: 'Times New Roman';">R2</td>
<td style="text-align: center; font-family: 'Times New Roman';">0.911</td>
<td style="text-align: center; font-family: 'Times New Roman';">0.431</td>
</tr>
<tr class="even">
<td style="text-align: left; font-family: 'Times New Roman';">R2 Adj.</td>
<td style="text-align: center; font-family: 'Times New Roman';">0.909</td>
<td style="text-align: center; font-family: 'Times New Roman';">0.420</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-family: 'Times New Roman';">R2 Within</td>
<td style="text-align: center; font-family: 'Times New Roman';">0.908</td>
<td style="text-align: center; font-family: 'Times New Roman';">0.428</td>
</tr>
<tr class="even">
<td style="text-align: left; font-family: 'Times New Roman';">R2 Within Adj.</td>
<td style="text-align: center; font-family: 'Times New Roman';">0.908</td>
<td style="text-align: center; font-family: 'Times New Roman';">0.428</td>
</tr>
</tbody><tfoot>
<tr class="odd">
<td style="text-align: left; padding: 0;"><sup></sup> * p &lt; 0.1, ** p &lt; 0.05, *** p &lt; 0.01</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
</tfoot>

</table>


</div>
</div>
<p>The 2SLS regression addresses potential endogeneity in lagged R&amp;D intensity (rd_lag1) by using lagged patent intensity (patent_lag1) as an instrument. The first-stage F-statistic is very high (30,168.7, p &lt; 0.001), confirming that the instrument is highly relevant. The Wu-Hausman test rejects the null of exogeneity (p &lt; 0.001), justifying the need for instrumental variable estimation.</p>
<p>In the second stage, the coefficient on fitted R&amp;D intensity (fit_rd_lag1) is 0.0000266, which remains positive and marginally significant (p = 0.0608). This suggests that a 1 percentage point increase in R&amp;D intensity leads to an estimated 0.00266% increase in firm sales growth.</p>
<p>Lagged firm growth again shows a strong negative effect (0.55), reinforcing the earlier finding of mean reversion, and firm size remains weakly negative and not statistically significant at conventional levels.</p>
<p>Overall, the IV results provide additional support for a positive, though modest, causal effect of R&amp;D intensity on firm-level sales growth, and strengthen confidence in the interpretation of R&amp;D as a productive investment.</p>
</section>
<section id="gmm" class="level2">
<h2 class="anchored" data-anchor-id="gmm">GMM</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>merged_data <span class="ot">&lt;-</span> merged_data <span class="sc">%&gt;%</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">company =</span> <span class="fu">as.factor</span>(company),</span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">year =</span> <span class="fu">as.integer</span>(year))</span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>merged_data<span class="sc">$</span>patent_intensity_sales[<span class="sc">!</span><span class="fu">is.finite</span>(merged_data<span class="sc">$</span>patent_intensity_sales)] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a>pdata <span class="ot">&lt;-</span> <span class="fu">pdata.frame</span>(merged_data, <span class="at">index =</span> <span class="fu">c</span>(<span class="st">"company"</span>, <span class="st">"year"</span>))</span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a>pdata <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(pdata)</span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-9"><a href="#cb78-9" aria-hidden="true" tabindex="-1"></a>panel_ols <span class="ot">&lt;-</span> <span class="fu">plm</span>(</span>
<span id="cb78-10"><a href="#cb78-10" aria-hidden="true" tabindex="-1"></a>  sales_growth_1y_percent <span class="sc">~</span> <span class="fu">lag</span>(sales_growth_1y_percent, <span class="dv">1</span>) <span class="sc">+</span> <span class="fu">lag</span>(rd_intensity_percent, <span class="dv">1</span>) <span class="sc">+</span> <span class="fu">lag</span>(sales_million, <span class="dv">1</span>),</span>
<span id="cb78-11"><a href="#cb78-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> pdata,</span>
<span id="cb78-12"><a href="#cb78-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">model =</span> <span class="st">"pooling"</span>)</span>
<span id="cb78-13"><a href="#cb78-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-14"><a href="#cb78-14" aria-hidden="true" tabindex="-1"></a>panel_within <span class="ot">&lt;-</span> <span class="fu">plm</span>(</span>
<span id="cb78-15"><a href="#cb78-15" aria-hidden="true" tabindex="-1"></a>  sales_growth_1y_percent <span class="sc">~</span> <span class="fu">lag</span>(sales_growth_1y_percent, <span class="dv">1</span>) <span class="sc">+</span> <span class="fu">lag</span>(rd_intensity_percent, <span class="dv">1</span>) <span class="sc">+</span> <span class="fu">lag</span>(sales_million, <span class="dv">1</span>),</span>
<span id="cb78-16"><a href="#cb78-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> pdata,</span>
<span id="cb78-17"><a href="#cb78-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">model =</span> <span class="st">"within"</span>)</span>
<span id="cb78-18"><a href="#cb78-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-19"><a href="#cb78-19" aria-hidden="true" tabindex="-1"></a>panel_ahsiao <span class="ot">&lt;-</span> <span class="fu">plm</span>(</span>
<span id="cb78-20"><a href="#cb78-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">diff</span>(sales_growth_1y_percent) <span class="sc">~</span> <span class="fu">lag</span>(<span class="fu">diff</span>(sales_growth_1y_percent), <span class="dv">1</span>) <span class="sc">-</span> <span class="dv">1</span> <span class="sc">|</span> <span class="fu">lag</span>(sales_growth_1y_percent, <span class="dv">2</span>),</span>
<span id="cb78-21"><a href="#cb78-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> panel_data,</span>
<span id="cb78-22"><a href="#cb78-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">model =</span> <span class="st">"pooling"</span>)</span>
<span id="cb78-23"><a href="#cb78-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-24"><a href="#cb78-24" aria-hidden="true" tabindex="-1"></a>gmm_one_step <span class="ot">&lt;-</span> <span class="fu">pgmm</span>(</span>
<span id="cb78-25"><a href="#cb78-25" aria-hidden="true" tabindex="-1"></a>  sales_growth_1y_percent <span class="sc">~</span> <span class="fu">lag</span>(sales_growth_1y_percent, <span class="dv">1</span>) <span class="sc">+</span> <span class="fu">lag</span>(sales_million, <span class="dv">1</span>)<span class="sc">+</span><span class="fu">lag</span>(rd_intensity_percent, <span class="dv">1</span>) <span class="sc">|</span> <span class="fu">lag</span>(rd_intensity_percent, <span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>)<span class="sc">+</span><span class="fu">lag</span>(patent_intensity_sales, <span class="dv">1</span>),</span>
<span id="cb78-26"><a href="#cb78-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> pdata,</span>
<span id="cb78-27"><a href="#cb78-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">effect =</span> <span class="st">"individual"</span>,</span>
<span id="cb78-28"><a href="#cb78-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">model =</span> <span class="st">"onestep"</span>,</span>
<span id="cb78-29"><a href="#cb78-29" aria-hidden="true" tabindex="-1"></a>  <span class="at">transformation =</span> <span class="st">"d"</span>)</span>
<span id="cb78-30"><a href="#cb78-30" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(gmm_one_step)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Oneway (individual) effect One-step model Difference GMM 

Call:
pgmm(formula = sales_growth_1y_percent ~ lag(sales_growth_1y_percent, 
    1) + lag(sales_million, 1) + lag(rd_intensity_percent, 1) | 
    lag(rd_intensity_percent, 2:3) + lag(patent_intensity_sales, 
        1), data = pdata, effect = "individual", model = "onestep", 
    transformation = "d")

Unbalanced Panel: n = 417, T = 6-10, N = 4102

Number of Observations Used: 3175
Residuals:
     Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
-20066.28     -6.87     -0.44     12.76      5.22  44586.86 

Coefficients:
                                   Estimate  Std. Error   z-value  Pr(&gt;|z|)    
lag(sales_growth_1y_percent, 1) -2.5258e-01  3.3744e-03  -74.8519 &lt; 2.2e-16 ***
lag(sales_million, 1)           -4.2645e-04  1.6100e-04   -2.6488  0.008077 ** 
lag(rd_intensity_percent, 1)    -4.1794e-03  1.7512e-05 -238.6625 &lt; 2.2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Sargan test: chisq(22) = 13.64649 (p-value = 0.91355)
Autocorrelation test (1): normal = -1.005585 (p-value = 0.31462)
Autocorrelation test (2): normal = -1.049661 (p-value = 0.29387)
Wald test for coefficients: chisq(3) = 170400.5 (p-value = &lt; 2.22e-16)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>gmm_two_step <span class="ot">&lt;-</span> <span class="fu">pgmm</span>(</span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>  sales_growth_1y_percent <span class="sc">~</span> <span class="fu">lag</span>(sales_growth_1y_percent, <span class="dv">1</span>) <span class="sc">+</span> <span class="fu">lag</span>(sales_million, <span class="dv">1</span>)<span class="sc">+</span><span class="fu">lag</span>(rd_intensity_percent, <span class="dv">1</span>) <span class="sc">|</span> <span class="fu">lag</span>(rd_intensity_percent, <span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>)<span class="sc">+</span><span class="fu">lag</span>(patent_intensity_sales, <span class="dv">1</span>),</span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> pdata,</span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">effect =</span> <span class="st">"individual"</span>,</span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">model =</span> <span class="st">"twosteps"</span>,</span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">transformation =</span> <span class="st">"d"</span>)</span>
<span id="cb80-7"><a href="#cb80-7" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(gmm_two_step)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Oneway (individual) effect Two-steps model Difference GMM 

Call:
pgmm(formula = sales_growth_1y_percent ~ lag(sales_growth_1y_percent, 
    1) + lag(sales_million, 1) + lag(rd_intensity_percent, 1) | 
    lag(rd_intensity_percent, 2:3) + lag(patent_intensity_sales, 
        1), data = pdata, effect = "individual", model = "twosteps", 
    transformation = "d")

Unbalanced Panel: n = 417, T = 6-10, N = 4102

Number of Observations Used: 3175
Residuals:
     Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
-33706.15     -6.99      0.00     11.71      6.93  44582.68 

Coefficients:
                                   Estimate  Std. Error z-value Pr(&gt;|z|)  
lag(sales_growth_1y_percent, 1)  0.23303833  0.75600086  0.3083  0.75789  
lag(sales_million, 1)           -0.00105653  0.00060885 -1.7353  0.08269 .
lag(rd_intensity_percent, 1)    -0.01148273  0.01129316 -1.0168  0.30925  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Sargan test: chisq(22) = 1.172502 (p-value = 1)
Autocorrelation test (1): normal = -1.308245 (p-value = 0.19079)
Autocorrelation test (2): normal = 0.8344466 (p-value = 0.40403)
Wald test for coefficients: chisq(3) = 7129.701 (p-value = &lt; 2.22e-16)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>sys_one_step <span class="ot">&lt;-</span> <span class="fu">pgmm</span>(</span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>  sales_growth_1y_percent <span class="sc">~</span> <span class="fu">lag</span>(sales_growth_1y_percent, <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">lag</span>(sales_million, <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">lag</span>(rd_intensity_percent, <span class="dv">1</span>)</span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span><span class="fu">lag</span>(rd_intensity_percent,    <span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>) <span class="sc">+</span><span class="fu">lag</span>(patent_intensity_sales, <span class="dv">1</span>)</span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span> <span class="fu">lag</span>(sales_million, <span class="dv">1</span>),</span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">data   =</span> pdata,</span>
<span id="cb82-8"><a href="#cb82-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">effect =</span> <span class="st">"individual"</span>,</span>
<span id="cb82-9"><a href="#cb82-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">model  =</span> <span class="st">"onestep"</span>,</span>
<span id="cb82-10"><a href="#cb82-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">transformation =</span> <span class="st">"ld"</span>,         </span>
<span id="cb82-11"><a href="#cb82-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">collapse        =</span> <span class="cn">TRUE</span>    </span>
<span id="cb82-12"><a href="#cb82-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb82-13"><a href="#cb82-13" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(sys_one_step)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Oneway (individual) effect One-step model System GMM 

Call:
pgmm(formula = sales_growth_1y_percent ~ lag(sales_growth_1y_percent, 
    1) + lag(sales_million, 1) + lag(rd_intensity_percent, 1) | 
    lag(rd_intensity_percent, 2:3) + lag(patent_intensity_sales, 
        1) | lag(sales_million, 1), data = pdata, effect = "individual", 
    model = "onestep", collapse = TRUE, transformation = "ld")

Unbalanced Panel: n = 417, T = 6-10, N = 4102

Number of Observations Used: 6805
Residuals:
     Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
-27383.07     -4.21      1.43     19.63      8.13  44592.61 

Coefficients:
                                  Estimate Std. Error z-value Pr(&gt;|z|)    
lag(sales_growth_1y_percent, 1) 6.8871e-02 4.5694e-02  1.5072  0.13176    
lag(sales_million, 1)           2.2074e-05 9.8135e-06  2.2494  0.02449 *  
lag(rd_intensity_percent, 1)    4.0570e-03 9.3439e-05 43.4190  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Sargan test: chisq(4) = 30.35958 (p-value = 4.135e-06)
Autocorrelation test (1): normal = -0.4428925 (p-value = 0.65784)
Autocorrelation test (2): normal = NaN (p-value = NA)
Wald test for coefficients: chisq(3) = 98659.1 (p-value = &lt; 2.22e-16)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>sys_two_step <span class="ot">&lt;-</span> <span class="fu">pgmm</span>(</span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>  sales_growth_1y_percent <span class="sc">~</span> <span class="fu">lag</span>(sales_growth_1y_percent, <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">lag</span>(sales_million, <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">lag</span>(rd_intensity_percent, <span class="dv">1</span>)</span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span><span class="fu">lag</span>(patent_intensity_sales, <span class="dv">1</span>)<span class="sc">+</span><span class="fu">lag</span>(rd_intensity_percent, <span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>)</span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span> <span class="fu">lag</span>(sales_million, <span class="dv">1</span>),</span>
<span id="cb84-7"><a href="#cb84-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">data            =</span> pdata,</span>
<span id="cb84-8"><a href="#cb84-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">effect          =</span> <span class="st">"individual"</span>,</span>
<span id="cb84-9"><a href="#cb84-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">model           =</span> <span class="st">"twosteps"</span>,   </span>
<span id="cb84-10"><a href="#cb84-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">transformation  =</span> <span class="st">"ld"</span>,         </span>
<span id="cb84-11"><a href="#cb84-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">collapse        =</span> <span class="cn">TRUE</span>          </span>
<span id="cb84-12"><a href="#cb84-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb84-13"><a href="#cb84-13" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(sys_two_step)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Oneway (individual) effect Two-steps model System GMM 

Call:
pgmm(formula = sales_growth_1y_percent ~ lag(sales_growth_1y_percent, 
    1) + lag(sales_million, 1) + lag(rd_intensity_percent, 1) | 
    lag(patent_intensity_sales, 1) + lag(rd_intensity_percent, 
        2:3) | lag(sales_million, 1), data = pdata, effect = "individual", 
    model = "twosteps", collapse = TRUE, transformation = "ld")

Unbalanced Panel: n = 417, T = 6-10, N = 4102

Number of Observations Used: 6805
Residuals:
     Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
-27380.85     -4.37      1.31     19.49      8.05  44592.61 

Coefficients:
                                  Estimate Std. Error z-value  Pr(&gt;|z|)    
lag(sales_growth_1y_percent, 1) 6.8784e-02 4.5683e-02  1.5057  0.132152    
lag(sales_million, 1)           4.5866e-05 1.6904e-05  2.7133  0.006661 ** 
lag(rd_intensity_percent, 1)    4.0566e-03 9.3510e-05 43.3812 &lt; 2.2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Sargan test: chisq(4) = 19.32952 (p-value = 0.00067702)
Autocorrelation test (1): normal = -0.3956354 (p-value = 0.69237)
Autocorrelation test (2): normal = NaN (p-value = NA)
Wald test for coefficients: chisq(3) = 71446.44 (p-value = &lt; 2.22e-16)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>s <span class="ot">&lt;-</span> <span class="fu">summary</span>(gmm_two_step)</span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Windmeijer </span></span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>sd_robust_ols <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">vcovHC</span>(panel_ols)[<span class="dv">1</span>])</span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>sd_robust_within <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">vcovHC</span>(panel_within)[<span class="dv">1</span>])</span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a>sd_robust_one_step <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">vcovHC</span>(gmm_one_step)[<span class="dv">1</span>])</span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a>sd_robust_two_steps <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">vcovHC</span>(gmm_two_step)[<span class="dv">1</span>])</span>
<span id="cb86-7"><a href="#cb86-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-8"><a href="#cb86-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Arellano-Bond </span></span>
<span id="cb86-9"><a href="#cb86-9" aria-hidden="true" tabindex="-1"></a>m1_one_step <span class="ot">&lt;-</span> <span class="fu">mtest</span>(gmm_one_step, <span class="at">order =</span> <span class="dv">1</span>)</span>
<span id="cb86-10"><a href="#cb86-10" aria-hidden="true" tabindex="-1"></a>m2_one_step <span class="ot">&lt;-</span> <span class="fu">mtest</span>(gmm_one_step, <span class="at">order =</span> <span class="dv">2</span>)</span>
<span id="cb86-11"><a href="#cb86-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-12"><a href="#cb86-12" aria-hidden="true" tabindex="-1"></a>m1_two_steps <span class="ot">&lt;-</span> s<span class="sc">$</span>m1<span class="sc">$</span>p.value</span>
<span id="cb86-13"><a href="#cb86-13" aria-hidden="true" tabindex="-1"></a>m2_two_steps <span class="ot">&lt;-</span> s<span class="sc">$</span>m2<span class="sc">$</span>p.value</span>
<span id="cb86-14"><a href="#cb86-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-15"><a href="#cb86-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Sargan-Hansen </span></span>
<span id="cb86-16"><a href="#cb86-16" aria-hidden="true" tabindex="-1"></a>sargan_one_step <span class="ot">&lt;-</span> <span class="fu">sargan</span>(gmm_one_step)</span>
<span id="cb86-17"><a href="#cb86-17" aria-hidden="true" tabindex="-1"></a>sargan_two_steps <span class="ot">&lt;-</span> <span class="fu">sargan</span>(gmm_two_step)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>results_table_long <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Statistic =</span> <span class="fu">c</span>(</span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"AR(1) coefficient estimate"</span>,</span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Standard Error"</span>,</span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Robust Standard Error"</span>,</span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Arellano-Bond test p-value&lt;br&gt;(lag&amp;nbsp;1)"</span>,</span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Arellano-Bond test p-value&lt;br&gt;(lag&amp;nbsp;2)"</span>,</span>
<span id="cb87-8"><a href="#cb87-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Sargan-Hansen test"</span></span>
<span id="cb87-9"><a href="#cb87-9" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb87-10"><a href="#cb87-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">OLS     =</span> <span class="fu">c</span>(<span class="fu">coef</span>(panel_ols)[[<span class="st">"lag(sales_growth_1y_percent, 1)"</span>]],</span>
<span id="cb87-11"><a href="#cb87-11" aria-hidden="true" tabindex="-1"></a>              <span class="fu">sqrt</span>(<span class="fu">diag</span>(<span class="fu">vcov</span>(panel_ols)))[<span class="dv">1</span>],</span>
<span id="cb87-12"><a href="#cb87-12" aria-hidden="true" tabindex="-1"></a>              sd_robust_ols, <span class="st">""</span>, <span class="st">""</span>, <span class="st">""</span>),</span>
<span id="cb87-13"><a href="#cb87-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">Within  =</span> <span class="fu">c</span>(<span class="fu">coef</span>(panel_within)[[<span class="st">"lag(sales_growth_1y_percent, 1)"</span>]],</span>
<span id="cb87-14"><a href="#cb87-14" aria-hidden="true" tabindex="-1"></a>              <span class="fu">sqrt</span>(<span class="fu">diag</span>(<span class="fu">vcov</span>(panel_within)))[<span class="dv">1</span>],</span>
<span id="cb87-15"><a href="#cb87-15" aria-hidden="true" tabindex="-1"></a>              sd_robust_within, <span class="st">""</span>, <span class="st">""</span>, <span class="st">""</span>),</span>
<span id="cb87-16"><a href="#cb87-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Anderson-Hsiao</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="fu">coef</span>(panel_ahsiao)[<span class="dv">1</span>],</span>
<span id="cb87-17"><a href="#cb87-17" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">sqrt</span>(<span class="fu">diag</span>(<span class="fu">vcov</span>(panel_ahsiao)))[<span class="dv">1</span>],</span>
<span id="cb87-18"><a href="#cb87-18" aria-hidden="true" tabindex="-1"></a>                       <span class="st">""</span>, <span class="st">""</span>, <span class="st">""</span>, <span class="st">""</span>),</span>
<span id="cb87-19"><a href="#cb87-19" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">1step Difference-GMM</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="fu">coef</span>(gmm_one_step)[[<span class="st">"lag(sales_growth_1y_percent, 1)"</span>]],</span>
<span id="cb87-20"><a href="#cb87-20" aria-hidden="true" tabindex="-1"></a>                             <span class="fu">sqrt</span>(<span class="fu">diag</span>(<span class="fu">vcov</span>(gmm_one_step)))[<span class="dv">1</span>],</span>
<span id="cb87-21"><a href="#cb87-21" aria-hidden="true" tabindex="-1"></a>                             sd_robust_one_step,</span>
<span id="cb87-22"><a href="#cb87-22" aria-hidden="true" tabindex="-1"></a>                             m1_one_step<span class="sc">$</span>p.value,</span>
<span id="cb87-23"><a href="#cb87-23" aria-hidden="true" tabindex="-1"></a>                             m2_one_step<span class="sc">$</span>p.value,</span>
<span id="cb87-24"><a href="#cb87-24" aria-hidden="true" tabindex="-1"></a>                             sargan_one_step<span class="sc">$</span>p.value),</span>
<span id="cb87-25"><a href="#cb87-25" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">2steps Difference-GMM</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="fu">coef</span>(gmm_two_step)[[<span class="st">"lag(sales_growth_1y_percent, 1)"</span>]],</span>
<span id="cb87-26"><a href="#cb87-26" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">sqrt</span>(<span class="fu">diag</span>(<span class="fu">vcov</span>(gmm_two_step)))[<span class="dv">1</span>],</span>
<span id="cb87-27"><a href="#cb87-27" aria-hidden="true" tabindex="-1"></a>                              sd_robust_two_steps,</span>
<span id="cb87-28"><a href="#cb87-28" aria-hidden="true" tabindex="-1"></a>                              m1_two_steps,</span>
<span id="cb87-29"><a href="#cb87-29" aria-hidden="true" tabindex="-1"></a>                              m2_two_steps,</span>
<span id="cb87-30"><a href="#cb87-30" aria-hidden="true" tabindex="-1"></a>                              sargan_two_steps<span class="sc">$</span>p.value),</span>
<span id="cb87-31"><a href="#cb87-31" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">1step System-GMM</span><span class="st">`</span>      <span class="ot">=</span> <span class="fu">c</span>(<span class="fu">coef</span>(sys_one_step)[[<span class="st">"lag(sales_growth_1y_percent, 1)"</span>]],</span>
<span id="cb87-32"><a href="#cb87-32" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">sqrt</span>(<span class="fu">diag</span>(<span class="fu">vcov</span>(sys_one_step)))[<span class="dv">1</span>],</span>
<span id="cb87-33"><a href="#cb87-33" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">sqrt</span>(<span class="fu">vcovHC</span>(sys_one_step))[<span class="dv">1</span>],            </span>
<span id="cb87-34"><a href="#cb87-34" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">mtest</span>(sys_one_step, <span class="at">order =</span> <span class="dv">1</span>)<span class="sc">$</span>p.value,</span>
<span id="cb87-35"><a href="#cb87-35" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">mtest</span>(sys_one_step, <span class="at">order =</span> <span class="dv">2</span>)<span class="sc">$</span>p.value,</span>
<span id="cb87-36"><a href="#cb87-36" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">sargan</span>(sys_one_step)<span class="sc">$</span>p.value),</span>
<span id="cb87-37"><a href="#cb87-37" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">2steps System-GMM</span><span class="st">`</span>     <span class="ot">=</span> <span class="fu">c</span>(<span class="fu">coef</span>(sys_two_step)[[<span class="st">"lag(sales_growth_1y_percent, 1)"</span>]],</span>
<span id="cb87-38"><a href="#cb87-38" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">sqrt</span>(<span class="fu">diag</span>(<span class="fu">vcov</span>(sys_two_step)))[<span class="dv">1</span>],</span>
<span id="cb87-39"><a href="#cb87-39" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">sqrt</span>(<span class="fu">vcovHC</span>(sys_two_step))[<span class="dv">1</span>],</span>
<span id="cb87-40"><a href="#cb87-40" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">mtest</span>(sys_two_step, <span class="at">order =</span> <span class="dv">1</span>)<span class="sc">$</span>p.value,</span>
<span id="cb87-41"><a href="#cb87-41" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">mtest</span>(sys_two_step, <span class="at">order =</span> <span class="dv">2</span>)<span class="sc">$</span>p.value,</span>
<span id="cb87-42"><a href="#cb87-42" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">sargan</span>(sys_two_step)<span class="sc">$</span>p.value)</span>
<span id="cb87-43"><a href="#cb87-43" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb87-44"><a href="#cb87-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-45"><a href="#cb87-45" aria-hidden="true" tabindex="-1"></a>results_table_long <span class="ot">&lt;-</span> results_table_long <span class="sc">|&gt;</span></span>
<span id="cb87-46"><a href="#cb87-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="sc">-</span><span class="dv">1</span>,   </span>
<span id="cb87-47"><a href="#cb87-47" aria-hidden="true" tabindex="-1"></a>                <span class="sc">~</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(.x),</span>
<span id="cb87-48"><a href="#cb87-48" aria-hidden="true" tabindex="-1"></a>                          <span class="st">""</span>,                       </span>
<span id="cb87-49"><a href="#cb87-49" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">sprintf</span>(<span class="st">"%.4f"</span>, <span class="fu">as.numeric</span>(.x))))) <span class="sc">%&gt;%</span> </span>
<span id="cb87-50"><a href="#cb87-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="sc">~</span> <span class="fu">gsub</span>(<span class="st">"^NA$"</span>, <span class="st">""</span>, .x)))        </span>
<span id="cb87-51"><a href="#cb87-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-52"><a href="#cb87-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-53"><a href="#cb87-53" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(results_table_long)[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="st">" "</span></span>
<span id="cb87-54"><a href="#cb87-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-55"><a href="#cb87-55" aria-hidden="true" tabindex="-1"></a>align_vec <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"l"</span>, <span class="fu">rep</span>(<span class="st">"c"</span>, <span class="fu">ncol</span>(results_table_long) <span class="sc">-</span> <span class="dv">1</span>))</span>
<span id="cb87-56"><a href="#cb87-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-57"><a href="#cb87-57" aria-hidden="true" tabindex="-1"></a>results_table_long <span class="sc">%&gt;%</span> </span>
<span id="cb87-58"><a href="#cb87-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="st">"html"</span>,</span>
<span id="cb87-59"><a href="#cb87-59" aria-hidden="true" tabindex="-1"></a>        <span class="at">escape    =</span> <span class="cn">FALSE</span>,</span>
<span id="cb87-60"><a href="#cb87-60" aria-hidden="true" tabindex="-1"></a>        <span class="at">align     =</span> align_vec,</span>
<span id="cb87-61"><a href="#cb87-61" aria-hidden="true" tabindex="-1"></a>        <span class="at">col.names =</span> <span class="cn">NULL</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb87-62"><a href="#cb87-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic_2</span>(<span class="at">full_width =</span> <span class="cn">FALSE</span>, <span class="at">html_font =</span> <span class="st">"Times New Roman"</span>, <span class="at">font_size =</span> <span class="dv">14</span>) <span class="sc">%&gt;%</span></span>
<span id="cb87-63"><a href="#cb87-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">1</span>, <span class="at">width =</span> <span class="st">"5cm"</span>, <span class="at">extra_css =</span> <span class="st">"font-family: 'Times New Roman'; text-align: left;"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb87-64"><a href="#cb87-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">2</span><span class="sc">:</span><span class="fu">ncol</span>(results_table_long), <span class="at">extra_css =</span> <span class="st">"font-family: 'Times New Roman'; text-align: center;"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb87-65"><a href="#cb87-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_header_above</span>(</span>
<span id="cb87-66"><a href="#cb87-66" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="st">" "</span> <span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb87-67"><a href="#cb87-67" aria-hidden="true" tabindex="-1"></a>      <span class="st">"OLS"</span>  <span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb87-68"><a href="#cb87-68" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Within"</span> <span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb87-69"><a href="#cb87-69" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Anderson-Hsiao"</span> <span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb87-70"><a href="#cb87-70" aria-hidden="true" tabindex="-1"></a>      <span class="st">"1step Difference-GMM"</span> <span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb87-71"><a href="#cb87-71" aria-hidden="true" tabindex="-1"></a>      <span class="st">"2steps Difference-GMM"</span> <span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb87-72"><a href="#cb87-72" aria-hidden="true" tabindex="-1"></a>      <span class="st">"1step System-GMM"</span> <span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb87-73"><a href="#cb87-73" aria-hidden="true" tabindex="-1"></a>      <span class="st">"2steps System-GMM"</span> <span class="ot">=</span> <span class="dv">1</span>),</span>
<span id="cb87-74"><a href="#cb87-74" aria-hidden="true" tabindex="-1"></a>    <span class="at">bold =</span> <span class="cn">TRUE</span>,</span>
<span id="cb87-75"><a href="#cb87-75" aria-hidden="true" tabindex="-1"></a>    <span class="at">align =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="lightable-classic-2 caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<colgroup>
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; empty-cells: hide;"></th>
<th data-quarto-table-cell-role="th" style="text-align: center; padding-bottom: 0; padding-left: 3px; padding-right: 3px; font-weight: bold;"><div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
OLS
</div></th>
<th data-quarto-table-cell-role="th" style="text-align: center; padding-bottom: 0; padding-left: 3px; padding-right: 3px; font-weight: bold;"><div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
Within
</div></th>
<th data-quarto-table-cell-role="th" style="text-align: center; padding-bottom: 0; padding-left: 3px; padding-right: 3px; font-weight: bold;"><div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
Anderson-Hsiao
</div></th>
<th data-quarto-table-cell-role="th" style="text-align: center; padding-bottom: 0; padding-left: 3px; padding-right: 3px; font-weight: bold;"><div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
1step Difference-GMM
</div></th>
<th data-quarto-table-cell-role="th" style="text-align: center; padding-bottom: 0; padding-left: 3px; padding-right: 3px; font-weight: bold;"><div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
2steps Difference-GMM
</div></th>
<th data-quarto-table-cell-role="th" style="text-align: center; padding-bottom: 0; padding-left: 3px; padding-right: 3px; font-weight: bold;"><div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
1step System-GMM
</div></th>
<th data-quarto-table-cell-role="th" style="text-align: center; padding-bottom: 0; padding-left: 3px; padding-right: 3px; font-weight: bold;"><div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
2steps System-GMM
</div></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; width: 5cm; font-family: 'Times New Roman';">AR(1) coefficient estimate</td>
<td style="text-align: center; font-family: 'Times New Roman';">-0.0088</td>
<td style="text-align: center; font-family: 'Times New Roman';">-0.2469</td>
<td style="text-align: center; font-family: 'Times New Roman';">-0.0027</td>
<td style="text-align: center; font-family: 'Times New Roman';">-0.2526</td>
<td style="text-align: center; font-family: 'Times New Roman';">0.2330</td>
<td style="text-align: center; font-family: 'Times New Roman';">0.0689</td>
<td style="text-align: center; font-family: 'Times New Roman';">0.0688</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 5cm; font-family: 'Times New Roman';">Standard Error</td>
<td style="text-align: center; font-family: 'Times New Roman';">15.3368</td>
<td style="text-align: center; font-family: 'Times New Roman';">0.0359</td>
<td style="text-align: center; font-family: 'Times New Roman';">0.0286</td>
<td style="text-align: center; font-family: 'Times New Roman';">0.0000</td>
<td style="text-align: center; font-family: 'Times New Roman';">0.4275</td>
<td style="text-align: center; font-family: 'Times New Roman';">0.0000</td>
<td style="text-align: center; font-family: 'Times New Roman';">0.0010</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 5cm; font-family: 'Times New Roman';">Robust Standard Error</td>
<td style="text-align: center; font-family: 'Times New Roman';">16.0115</td>
<td style="text-align: center; font-family: 'Times New Roman';">0.0025</td>
<td style="text-align: center; font-family: 'Times New Roman';"></td>
<td style="text-align: center; font-family: 'Times New Roman';">0.0034</td>
<td style="text-align: center; font-family: 'Times New Roman';">0.7560</td>
<td style="text-align: center; font-family: 'Times New Roman';">0.0457</td>
<td style="text-align: center; font-family: 'Times New Roman';">0.0457</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 5cm; font-family: 'Times New Roman';">Arellano-Bond test p-value<br>
(lag&nbsp;1)</td>
<td style="text-align: center; font-family: 'Times New Roman';"></td>
<td style="text-align: center; font-family: 'Times New Roman';"></td>
<td style="text-align: center; font-family: 'Times New Roman';"></td>
<td style="text-align: center; font-family: 'Times New Roman';">0.3146</td>
<td style="text-align: center; font-family: 'Times New Roman';">0.1908</td>
<td style="text-align: center; font-family: 'Times New Roman';">0.6576</td>
<td style="text-align: center; font-family: 'Times New Roman';">0.6922</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 5cm; font-family: 'Times New Roman';">Arellano-Bond test p-value<br>
(lag&nbsp;2)</td>
<td style="text-align: center; font-family: 'Times New Roman';"></td>
<td style="text-align: center; font-family: 'Times New Roman';"></td>
<td style="text-align: center; font-family: 'Times New Roman';"></td>
<td style="text-align: center; font-family: 'Times New Roman';">0.2938</td>
<td style="text-align: center; font-family: 'Times New Roman';">0.4040</td>
<td style="text-align: center; font-family: 'Times New Roman';"></td>
<td style="text-align: center; font-family: 'Times New Roman';"></td>
</tr>
<tr class="even">
<td style="text-align: left; width: 5cm; font-family: 'Times New Roman';">Sargan-Hansen test</td>
<td style="text-align: center; font-family: 'Times New Roman';"></td>
<td style="text-align: center; font-family: 'Times New Roman';"></td>
<td style="text-align: center; font-family: 'Times New Roman';"></td>
<td style="text-align: center; font-family: 'Times New Roman';">0.9135</td>
<td style="text-align: center; font-family: 'Times New Roman';">1.0000</td>
<td style="text-align: center; font-family: 'Times New Roman';">0.0000</td>
<td style="text-align: center; font-family: 'Times New Roman';">0.0007</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="lp-ols" class="level2">
<h2 class="anchored" data-anchor-id="lp-ols">LP-OLS</h2>
<p><span class="math display">\[
\text{growth}_{i,t+h} = \alpha_{i,h} + \beta_{i,h} \cdot \text{RD}_{i,t} + \varepsilon_{i,t+h}
\]</span></p>
<p>1.use LP package:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>merged_data1 <span class="ot">&lt;-</span> merged_data <span class="sc">%&gt;%</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">company =</span> <span class="fu">as.factor</span>(company),</span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">year =</span> <span class="fu">as.factor</span>(year),</span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">country =</span> <span class="fu">as.factor</span>(country),</span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">icb_sector =</span> <span class="fu">as.factor</span>(icb_sector))</span>
<span id="cb88-7"><a href="#cb88-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-8"><a href="#cb88-8" aria-hidden="true" tabindex="-1"></a>contemp_data <span class="ot">&lt;-</span> <span class="fu">model.matrix</span>(<span class="sc">~</span>  year <span class="sc">+</span> country <span class="sc">+</span> icb_sector, <span class="at">data =</span> merged_data1)[, <span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb88-9"><a href="#cb88-9" aria-hidden="true" tabindex="-1"></a>contemp_data <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(contemp_data)</span>
<span id="cb88-10"><a href="#cb88-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-11"><a href="#cb88-11" aria-hidden="true" tabindex="-1"></a>endog_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb88-12"><a href="#cb88-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">rd =</span> merged_data<span class="sc">$</span>rd_intensity_percent,</span>
<span id="cb88-13"><a href="#cb88-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">growth =</span> merged_data<span class="sc">$</span>sales_growth_1y_percent)</span>
<span id="cb88-14"><a href="#cb88-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-15"><a href="#cb88-15" aria-hidden="true" tabindex="-1"></a>exog_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb88-16"><a href="#cb88-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">sales_lag  =</span> merged_data1<span class="sc">$</span>sales_million)</span>
<span id="cb88-17"><a href="#cb88-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-18"><a href="#cb88-18" aria-hidden="true" tabindex="-1"></a>results_lp <span class="ot">&lt;-</span> <span class="fu">lp_lin</span>(</span>
<span id="cb88-19"><a href="#cb88-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">endog_data     =</span> endog_data,</span>
<span id="cb88-20"><a href="#cb88-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">lags_endog_lin =</span> <span class="dv">0</span>,</span>
<span id="cb88-21"><a href="#cb88-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">shock_type     =</span> <span class="dv">1</span>,</span>
<span id="cb88-22"><a href="#cb88-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">trend          =</span> <span class="dv">0</span>,</span>
<span id="cb88-23"><a href="#cb88-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">confint        =</span> <span class="fl">1.96</span>,</span>
<span id="cb88-24"><a href="#cb88-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">hor            =</span> <span class="dv">5</span>,</span>
<span id="cb88-25"><a href="#cb88-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">exog_data      =</span> exog_data,</span>
<span id="cb88-26"><a href="#cb88-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">lags_exog      =</span> <span class="dv">1</span>,</span>
<span id="cb88-27"><a href="#cb88-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">contemp_data   =</span> contemp_data</span>
<span id="cb88-28"><a href="#cb88-28" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="2" type="1">
<li>step by step</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>panel_lp_ols <span class="ot">&lt;-</span> merged_data <span class="sc">%&gt;%</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(company, year) <span class="sc">%&gt;%</span></span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(company) <span class="sc">%&gt;%</span></span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">rd_lag1    =</span> dplyr<span class="sc">::</span><span class="fu">lag</span>(rd_intensity_percent, <span class="dv">1</span>),</span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">sales_lag1 =</span> dplyr<span class="sc">::</span><span class="fu">lag</span>(sales_million, <span class="dv">1</span>),</span>
<span id="cb89-7"><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb89-8"><a href="#cb89-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">sales_0 =</span> dplyr<span class="sc">::</span><span class="fu">lead</span>(sales_million, <span class="dv">0</span>),</span>
<span id="cb89-9"><a href="#cb89-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">sales_1 =</span> dplyr<span class="sc">::</span><span class="fu">lead</span>(sales_million, <span class="dv">1</span>),</span>
<span id="cb89-10"><a href="#cb89-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">sales_2 =</span> dplyr<span class="sc">::</span><span class="fu">lead</span>(sales_million, <span class="dv">2</span>),</span>
<span id="cb89-11"><a href="#cb89-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb89-12"><a href="#cb89-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">growth_lead_0 =</span> <span class="fu">log</span>(sales_0) <span class="sc">-</span> <span class="fu">log</span>(sales_lag1),</span>
<span id="cb89-13"><a href="#cb89-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">growth_lead_1 =</span> <span class="fu">log</span>(sales_1) <span class="sc">-</span> <span class="fu">log</span>(sales_lag1),</span>
<span id="cb89-14"><a href="#cb89-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">growth_lead_2 =</span> <span class="fu">log</span>(sales_2) <span class="sc">-</span> <span class="fu">log</span>(sales_lag1)</span>
<span id="cb89-15"><a href="#cb89-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb89-16"><a href="#cb89-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>model_lp_h0 <span class="ot">&lt;-</span> <span class="fu">feols</span>(</span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>  growth_lead_0 <span class="sc">~</span> rd_lag1 <span class="sc">+</span> sales_lag1 <span class="sc">|</span> icb_sector <span class="sc">+</span> country <span class="sc">+</span> year,</span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> panel_lp_ols,</span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">cluster =</span> <span class="sc">~</span> company)</span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a>model_lp_h1 <span class="ot">&lt;-</span> <span class="fu">feols</span>(</span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a>  growth_lead_1 <span class="sc">~</span> rd_lag1 <span class="sc">+</span> sales_lag1 <span class="sc">|</span> icb_sector <span class="sc">+</span> country <span class="sc">+</span> year,</span>
<span id="cb90-8"><a href="#cb90-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> panel_lp_ols,</span>
<span id="cb90-9"><a href="#cb90-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">cluster =</span> <span class="sc">~</span> company)</span>
<span id="cb90-10"><a href="#cb90-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-11"><a href="#cb90-11" aria-hidden="true" tabindex="-1"></a>model_lp_h2 <span class="ot">&lt;-</span> <span class="fu">feols</span>(</span>
<span id="cb90-12"><a href="#cb90-12" aria-hidden="true" tabindex="-1"></a>  growth_lead_2 <span class="sc">~</span> rd_lag1 <span class="sc">+</span> sales_lag1 <span class="sc">|</span> icb_sector <span class="sc">+</span> country <span class="sc">+</span> year,</span>
<span id="cb90-13"><a href="#cb90-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> panel_lp_ols,</span>
<span id="cb90-14"><a href="#cb90-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">cluster =</span> <span class="sc">~</span> company)</span>
<span id="cb90-15"><a href="#cb90-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-16"><a href="#cb90-16" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model_lp_h0)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: growth_lead_0
Observations: 3,677
Fixed-effects: icb_sector: 37,  country: 17,  year: 9
Standard-errors: Clustered (company) 
            Estimate Std. Error  t value  Pr(&gt;|t|)    
rd_lag1     6.54e-06   2.21e-06  2.95748 0.0032784 ** 
sales_lag1 -1.06e-06   3.44e-07 -3.07181 0.0022674 ** 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.617458     Adj. R2: 0.15406 
                 Within R2: 0.158605</code></pre>
</div>
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model_lp_h1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: growth_lead_1
Observations: 3,259
Fixed-effects: icb_sector: 37,  country: 17,  year: 8
Standard-errors: Clustered (company) 
            Estimate Std. Error  t value   Pr(&gt;|t|)    
rd_lag1     4.55e-06   3.47e-07 13.12340  &lt; 2.2e-16 ***
sales_lag1 -1.30e-06   3.87e-07 -3.35706 0.00086021 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.484184     Adj. R2: 0.150619
                 Within R2: 0.14468 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model_lp_h2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: growth_lead_2
Observations: 2,843
Fixed-effects: icb_sector: 37,  country: 17,  year: 7
Standard-errors: Clustered (company) 
            Estimate Std. Error  t value   Pr(&gt;|t|)    
rd_lag1     6.91e-06  2.211e-06  3.12412 0.00190821 ** 
sales_lag1 -2.01e-06  5.860e-07 -3.42455 0.00067697 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.66419     Adj. R2: 0.195384
                Within R2: 0.191895</code></pre>
</div>
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>extract_ci <span class="ot">&lt;-</span> <span class="cf">function</span>(model) {</span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>  ci <span class="ot">&lt;-</span> <span class="fu">confint</span>(model, <span class="at">level =</span> <span class="fl">0.90</span>)</span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>  est <span class="ot">&lt;-</span> <span class="fu">coef</span>(model)[<span class="st">"rd_lag1"</span>]</span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(</span>
<span id="cb96-5"><a href="#cb96-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">estimate =</span> est,</span>
<span id="cb96-6"><a href="#cb96-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">conf_low =</span> ci[<span class="st">"rd_lag1"</span>, <span class="dv">1</span>],</span>
<span id="cb96-7"><a href="#cb96-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">conf_high =</span> ci[<span class="st">"rd_lag1"</span>, <span class="dv">2</span>] )}</span>
<span id="cb96-8"><a href="#cb96-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-9"><a href="#cb96-9" aria-hidden="true" tabindex="-1"></a>irf_ols_df <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(</span>
<span id="cb96-10"><a href="#cb96-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">extract_ci</span>(model_lp_h0) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">horizon =</span> <span class="dv">0</span>),</span>
<span id="cb96-11"><a href="#cb96-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">extract_ci</span>(model_lp_h1) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">horizon =</span> <span class="dv">1</span>),</span>
<span id="cb96-12"><a href="#cb96-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">extract_ci</span>(model_lp_h2) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">horizon =</span> <span class="dv">2</span>))</span>
<span id="cb96-13"><a href="#cb96-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-14"><a href="#cb96-14" aria-hidden="true" tabindex="-1"></a>plot_ols <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(irf_ols_df, <span class="fu">aes</span>(<span class="at">x =</span> horizon, <span class="at">y =</span> estimate)) <span class="sc">+</span></span>
<span id="cb96-15"><a href="#cb96-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_ribbon</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> conf_low, <span class="at">ymax =</span> conf_high),</span>
<span id="cb96-16"><a href="#cb96-16" aria-hidden="true" tabindex="-1"></a>              <span class="at">fill =</span> <span class="st">"#a6bddb"</span>, <span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb96-17"><a href="#cb96-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"#045a8d"</span>, <span class="at">size =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb96-18"><a href="#cb96-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="fl">2.8</span>, <span class="at">color =</span> <span class="st">"#045a8d"</span>) <span class="sc">+</span></span>
<span id="cb96-19"><a href="#cb96-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(</span>
<span id="cb96-20"><a href="#cb96-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">label_number</span>(<span class="at">accuracy =</span> <span class="fl">0.000001</span>)(estimate)),</span>
<span id="cb96-21"><a href="#cb96-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">1.5</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>,</span>
<span id="cb96-22"><a href="#cb96-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">5</span>, <span class="at">fontface =</span> <span class="st">"bold"</span>, <span class="at">color =</span> <span class="st">"#045a8d"</span></span>
<span id="cb96-23"><a href="#cb96-23" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb96-24"><a href="#cb96-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"gray40"</span>) <span class="sc">+</span></span>
<span id="cb96-25"><a href="#cb96-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fl">0.1</span>)) <span class="sc">+</span> </span>
<span id="cb96-26"><a href="#cb96-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">label_number</span>(<span class="at">accuracy =</span> <span class="fl">0.000001</span>)) <span class="sc">+</span></span>
<span id="cb96-27"><a href="#cb96-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">clip =</span> <span class="st">"off"</span>) <span class="sc">+</span></span>
<span id="cb96-28"><a href="#cb96-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb96-29"><a href="#cb96-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"OLS: R&amp;D on Sales Growth"</span>,</span>
<span id="cb96-30"><a href="#cb96-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Local Projection OLS Estimates (90% CI)"</span>,</span>
<span id="cb96-31"><a href="#cb96-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Horizon (h)"</span>,</span>
<span id="cb96-32"><a href="#cb96-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"IRF Estimate"</span></span>
<span id="cb96-33"><a href="#cb96-33" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb96-34"><a href="#cb96-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb96-35"><a href="#cb96-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb96-36"><a href="#cb96-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">15</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb96-37"><a href="#cb96-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb96-38"><a href="#cb96-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb96-39"><a href="#cb96-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">11</span>),</span>
<span id="cb96-40"><a href="#cb96-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"gray85"</span>),</span>
<span id="cb96-41"><a href="#cb96-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb96-42"><a href="#cb96-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">10</span>, <span class="dv">20</span>))</span>
<span id="cb96-43"><a href="#cb96-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-44"><a href="#cb96-44" aria-hidden="true" tabindex="-1"></a>plot_ols</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="merged_data_EU_files/figure-html/unnamed-chunk-57-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>irf_ols_df <span class="sc">%&gt;%</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">IRF Estimate</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sprintf</span>(<span class="st">"%.8f"</span>, estimate),</span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">CI Lower</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sprintf</span>(<span class="st">"%.8f"</span>, conf_low),</span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">CI Upper</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sprintf</span>(<span class="st">"%.8f"</span>, conf_high)</span>
<span id="cb97-6"><a href="#cb97-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb97-7"><a href="#cb97-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="at">Horizon =</span> horizon, <span class="st">`</span><span class="at">IRF Estimate</span><span class="st">`</span>, <span class="st">`</span><span class="at">CI Lower</span><span class="st">`</span>, <span class="st">`</span><span class="at">CI Upper</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb97-8"><a href="#cb97-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">flextable</span>() <span class="sc">%&gt;%</span></span>
<span id="cb97-9"><a href="#cb97-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_header_labels</span>(</span>
<span id="cb97-10"><a href="#cb97-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">Horizon =</span> <span class="st">"Horizon (h)"</span>,</span>
<span id="cb97-11"><a href="#cb97-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">IRF Estimate</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"IRF Estimate"</span>,</span>
<span id="cb97-12"><a href="#cb97-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">CI Lower</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"90% CI Lower"</span>,</span>
<span id="cb97-13"><a href="#cb97-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">CI Upper</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"90% CI Upper"</span></span>
<span id="cb97-14"><a href="#cb97-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb97-15"><a href="#cb97-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autofit</span>() <span class="sc">%&gt;%</span></span>
<span id="cb97-16"><a href="#cb97-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_booktabs</span>() <span class="sc">%&gt;%</span></span>
<span id="cb97-17"><a href="#cb97-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fontsize</span>(<span class="at">size =</span> <span class="dv">11</span>, <span class="at">part =</span> <span class="st">"all"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb97-18"><a href="#cb97-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bold</span>(<span class="at">part =</span> <span class="st">"header"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb97-19"><a href="#cb97-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">align</span>(<span class="at">align =</span> <span class="st">"center"</span>, <span class="at">part =</span> <span class="st">"all"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb97-20"><a href="#cb97-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">font</span>(<span class="at">fontname =</span> <span class="st">"Times New Roman"</span>, <span class="at">part =</span> <span class="st">"all"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="tabwid"><style>.cl-219a03ae{}.cl-2182defe{font-family:'Times New Roman';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-2182df12{font-family:'Times New Roman';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-218b4c92{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-218b8f54{width:1.041in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-218b8f72{width:1.168in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-218b8f7c{width:1.245in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-218b8f86{width:1.041in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-218b8f90{width:1.168in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-218b8f9a{width:1.245in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-218b8f9b{width:1.041in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-218b8fa4{width:1.168in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-218b8fae{width:1.245in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-218b8faf{width:1.041in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-218b8fb8{width:1.168in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-218b8fc2{width:1.245in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-219a03ae"><thead><tr style="overflow-wrap:break-word;"><th class="cl-218b8f54"><p class="cl-218b4c92"><span class="cl-2182defe">Horizon (h)</span></p></th><th class="cl-218b8f72"><p class="cl-218b4c92"><span class="cl-2182defe">IRF Estimate</span></p></th><th class="cl-218b8f7c"><p class="cl-218b4c92"><span class="cl-2182defe">90% CI Lower</span></p></th><th class="cl-218b8f7c"><p class="cl-218b4c92"><span class="cl-2182defe">90% CI Upper</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-218b8f86"><p class="cl-218b4c92"><span class="cl-2182df12">0</span></p></td><td class="cl-218b8f90"><p class="cl-218b4c92"><span class="cl-2182df12">0.00000654</span></p></td><td class="cl-218b8f9a"><p class="cl-218b4c92"><span class="cl-2182df12">0.00000289</span></p></td><td class="cl-218b8f9a"><p class="cl-218b4c92"><span class="cl-2182df12">0.00001018</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-218b8f9b"><p class="cl-218b4c92"><span class="cl-2182df12">1</span></p></td><td class="cl-218b8fa4"><p class="cl-218b4c92"><span class="cl-2182df12">0.00000455</span></p></td><td class="cl-218b8fae"><p class="cl-218b4c92"><span class="cl-2182df12">0.00000398</span></p></td><td class="cl-218b8fae"><p class="cl-218b4c92"><span class="cl-2182df12">0.00000512</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-218b8faf"><p class="cl-218b4c92"><span class="cl-2182df12">2</span></p></td><td class="cl-218b8fb8"><p class="cl-218b4c92"><span class="cl-2182df12">0.00000691</span></p></td><td class="cl-218b8fc2"><p class="cl-218b4c92"><span class="cl-2182df12">0.00000326</span></p></td><td class="cl-218b8fc2"><p class="cl-218b4c92"><span class="cl-2182df12">0.00001055</span></p></td></tr></tbody></table></div>
</div>
</div>
</section>
<section id="lp-2sls" class="level2">
<h2 class="anchored" data-anchor-id="lp-2sls">LP-2SLS</h2>
<ol type="1">
<li>use LP package</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">007</span>)</span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>tmp_df <span class="ot">&lt;-</span> merged_data1 <span class="sc">%&gt;%</span></span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a>    rd_intensity_percent,</span>
<span id="cb98-5"><a href="#cb98-5" aria-hidden="true" tabindex="-1"></a>    patent_intensity_sales,</span>
<span id="cb98-6"><a href="#cb98-6" aria-hidden="true" tabindex="-1"></a>    sales_growth_1y_percent,</span>
<span id="cb98-7"><a href="#cb98-7" aria-hidden="true" tabindex="-1"></a>    sales_million,</span>
<span id="cb98-8"><a href="#cb98-8" aria-hidden="true" tabindex="-1"></a>    year, country, icb_sector</span>
<span id="cb98-9"><a href="#cb98-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb98-10"><a href="#cb98-10" aria-hidden="true" tabindex="-1"></a>valid_idx <span class="ot">&lt;-</span> <span class="fu">complete.cases</span>(tmp_df)</span>
<span id="cb98-11"><a href="#cb98-11" aria-hidden="true" tabindex="-1"></a>merged_clean <span class="ot">&lt;-</span> merged_data1[valid_idx, ]</span>
<span id="cb98-12"><a href="#cb98-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-13"><a href="#cb98-13" aria-hidden="true" tabindex="-1"></a>endog_data_clean <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb98-14"><a href="#cb98-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">growth =</span> merged_clean<span class="sc">$</span>sales_growth_1y_percent,</span>
<span id="cb98-15"><a href="#cb98-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">rd =</span> merged_clean<span class="sc">$</span>rd_intensity_percent</span>
<span id="cb98-16"><a href="#cb98-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb98-17"><a href="#cb98-17" aria-hidden="true" tabindex="-1"></a>shock_clean <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb98-18"><a href="#cb98-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">rd =</span> merged_clean<span class="sc">$</span>rd_intensity_percent</span>
<span id="cb98-19"><a href="#cb98-19" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb98-20"><a href="#cb98-20" aria-hidden="true" tabindex="-1"></a>instrum_clean <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb98-21"><a href="#cb98-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">patent =</span> merged_clean<span class="sc">$</span>patent_intensity_sales</span>
<span id="cb98-22"><a href="#cb98-22" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb98-23"><a href="#cb98-23" aria-hidden="true" tabindex="-1"></a>exog_data_clean <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb98-24"><a href="#cb98-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">sales =</span> merged_clean<span class="sc">$</span>sales_million</span>
<span id="cb98-25"><a href="#cb98-25" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb98-26"><a href="#cb98-26" aria-hidden="true" tabindex="-1"></a>contemp_data_clean <span class="ot">&lt;-</span> <span class="fu">model.matrix</span>(</span>
<span id="cb98-27"><a href="#cb98-27" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span> year <span class="sc">+</span> country <span class="sc">+</span> icb_sector,</span>
<span id="cb98-28"><a href="#cb98-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> merged_clean</span>
<span id="cb98-29"><a href="#cb98-29" aria-hidden="true" tabindex="-1"></a>)[, <span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb98-30"><a href="#cb98-30" aria-hidden="true" tabindex="-1"></a>contemp_data_clean <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(contemp_data_clean)</span>
<span id="cb98-31"><a href="#cb98-31" aria-hidden="true" tabindex="-1"></a>results_lp_iv <span class="ot">&lt;-</span> <span class="fu">lp_lin_iv</span>(</span>
<span id="cb98-32"><a href="#cb98-32" aria-hidden="true" tabindex="-1"></a>  <span class="at">endog_data     =</span> endog_data_clean,</span>
<span id="cb98-33"><a href="#cb98-33" aria-hidden="true" tabindex="-1"></a>  <span class="at">shock          =</span> shock_clean,</span>
<span id="cb98-34"><a href="#cb98-34" aria-hidden="true" tabindex="-1"></a>  <span class="at">instrum        =</span> instrum_clean,</span>
<span id="cb98-35"><a href="#cb98-35" aria-hidden="true" tabindex="-1"></a>  <span class="at">use_twosls     =</span> <span class="cn">TRUE</span>,         </span>
<span id="cb98-36"><a href="#cb98-36" aria-hidden="true" tabindex="-1"></a>  <span class="at">lags_endog_lin =</span> <span class="dv">0</span>,           </span>
<span id="cb98-37"><a href="#cb98-37" aria-hidden="true" tabindex="-1"></a>  <span class="at">trend          =</span> <span class="dv">0</span>,            </span>
<span id="cb98-38"><a href="#cb98-38" aria-hidden="true" tabindex="-1"></a>  <span class="at">confint        =</span> <span class="fl">1.96</span>,</span>
<span id="cb98-39"><a href="#cb98-39" aria-hidden="true" tabindex="-1"></a>  <span class="at">hor            =</span> <span class="dv">5</span>,            </span>
<span id="cb98-40"><a href="#cb98-40" aria-hidden="true" tabindex="-1"></a>  <span class="at">contemp_data   =</span> contemp_data_clean,</span>
<span id="cb98-41"><a href="#cb98-41" aria-hidden="true" tabindex="-1"></a>  <span class="at">exog_data      =</span> exog_data_clean,</span>
<span id="cb98-42"><a href="#cb98-42" aria-hidden="true" tabindex="-1"></a>  <span class="at">lags_exog      =</span> <span class="dv">1</span>)</span>
<span id="cb98-43"><a href="#cb98-43" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(results_lp_iv)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$`Endog. Variable: growth`
        R-sqrd. Adj. R-sqrd.    F-stat      p-value
h 1 0.010662663 -0.005145333 0.6745107 9.790593e-01
h 2 0.011046926 -0.004758816 0.6989185 9.682880e-01
h 3 0.010552486 -0.005265046 0.6671386 9.816678e-01
h 4 0.043231244  0.027932359 2.8257774 6.956642e-13
h 5 0.008585987 -0.007270783 0.5414714 9.990206e-01

$`Endog. Variable: rd`
       R-sqrd.  Adj. R-sqrd.       F-stat   p-value
h 1 1.00000000  1.0000000000 4.780601e+31 0.0000000
h 2 0.01471474 -0.0010323763 9.344403e-01 0.6262270
h 3 0.01521666 -0.0005263145 9.665683e-01 0.5532846
h 4 0.01529865 -0.0004468792 9.716187e-01 0.5417378
h 5 0.01497522 -0.0007793595 9.505312e-01 0.5898748</code></pre>
</div>
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>mean_array <span class="ot">&lt;-</span> results_lp_iv<span class="sc">$</span>irf_lin_mean</span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>df_iv <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">Horizon  =</span> <span class="dv">0</span><span class="sc">:</span>(<span class="fu">dim</span>(mean_array)[<span class="dv">2</span>] <span class="sc">-</span> <span class="dv">1</span>),</span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">Estimate =</span> <span class="fu">round</span>(mean_array[<span class="dv">1</span>, ], <span class="dv">5</span>),</span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">CI_Lower =</span> <span class="fu">round</span>(results_lp_iv<span class="sc">$</span>irf_lin_low[<span class="dv">1</span>, ], <span class="dv">5</span>),</span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">CI_Upper =</span> <span class="fu">round</span>(results_lp_iv<span class="sc">$</span>irf_lin_up[<span class="dv">1</span>, ], <span class="dv">5</span>)</span>
<span id="cb100-8"><a href="#cb100-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb100-9"><a href="#cb100-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-10"><a href="#cb100-10" aria-hidden="true" tabindex="-1"></a>df_iv <span class="sc">%&gt;%</span></span>
<span id="cb100-11"><a href="#cb100-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">%&gt;%</span></span>
<span id="cb100-12"><a href="#cb100-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_header</span>(</span>
<span id="cb100-13"><a href="#cb100-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Impulse Response of R&amp;D Shock on Firm Growth"</span>,</span>
<span id="cb100-14"><a href="#cb100-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Local Projections IV Estimation (95% CI)"</span></span>
<span id="cb100-15"><a href="#cb100-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb100-16"><a href="#cb100-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_number</span>(</span>
<span id="cb100-17"><a href="#cb100-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">c</span>(Estimate, CI_Lower, CI_Upper),</span>
<span id="cb100-18"><a href="#cb100-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">decimals =</span> <span class="dv">5</span></span>
<span id="cb100-19"><a href="#cb100-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb100-20"><a href="#cb100-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(</span>
<span id="cb100-21"><a href="#cb100-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">Horizon  =</span> <span class="st">"Horizon (h)"</span>,</span>
<span id="cb100-22"><a href="#cb100-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">Estimate =</span> <span class="st">"IRF Estimate"</span>,</span>
<span id="cb100-23"><a href="#cb100-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">CI_Lower =</span> <span class="st">"Lower 95% CI"</span>,</span>
<span id="cb100-24"><a href="#cb100-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">CI_Upper =</span> <span class="st">"Upper 95% CI"</span></span>
<span id="cb100-25"><a href="#cb100-25" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb100-26"><a href="#cb100-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_style</span>(</span>
<span id="cb100-27"><a href="#cb100-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">style =</span> <span class="fu">list</span>(</span>
<span id="cb100-28"><a href="#cb100-28" aria-hidden="true" tabindex="-1"></a>      <span class="fu">cell_text</span>(<span class="at">weight =</span> <span class="st">"bold"</span>)</span>
<span id="cb100-29"><a href="#cb100-29" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb100-30"><a href="#cb100-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">locations =</span> <span class="fu">cells_column_labels</span>(<span class="fu">everything</span>())</span>
<span id="cb100-31"><a href="#cb100-31" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb100-32"><a href="#cb100-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">opt_table_font</span>(<span class="at">font =</span> <span class="fu">google_font</span>(<span class="st">"Roboto"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb100-33"><a href="#cb100-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_options</span>(</span>
<span id="cb100-34"><a href="#cb100-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">table.border.top.color =</span> <span class="st">"gray"</span>,</span>
<span id="cb100-35"><a href="#cb100-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">table.border.bottom.color =</span> <span class="st">"gray"</span>,</span>
<span id="cb100-36"><a href="#cb100-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">column_labels.background.color =</span> <span class="st">"white"</span>,</span>
<span id="cb100-37"><a href="#cb100-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">table_body.hlines.color =</span> <span class="st">"gray90"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="jsgbozvhxc" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
#jsgbozvhxc table {
  font-family: Roboto, system-ui, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#jsgbozvhxc thead, #jsgbozvhxc tbody, #jsgbozvhxc tfoot, #jsgbozvhxc tr, #jsgbozvhxc td, #jsgbozvhxc th {
  border-style: none;
}

#jsgbozvhxc p {
  margin: 0;
  padding: 0;
}

#jsgbozvhxc .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #BEBEBE;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #BEBEBE;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#jsgbozvhxc .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#jsgbozvhxc .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#jsgbozvhxc .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#jsgbozvhxc .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jsgbozvhxc .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jsgbozvhxc .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jsgbozvhxc .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#jsgbozvhxc .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#jsgbozvhxc .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#jsgbozvhxc .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#jsgbozvhxc .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#jsgbozvhxc .gt_spanner_row {
  border-bottom-style: hidden;
}

#jsgbozvhxc .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#jsgbozvhxc .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#jsgbozvhxc .gt_from_md > :first-child {
  margin-top: 0;
}

#jsgbozvhxc .gt_from_md > :last-child {
  margin-bottom: 0;
}

#jsgbozvhxc .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #E5E5E5;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#jsgbozvhxc .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#jsgbozvhxc .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#jsgbozvhxc .gt_row_group_first td {
  border-top-width: 2px;
}

#jsgbozvhxc .gt_row_group_first th {
  border-top-width: 2px;
}

#jsgbozvhxc .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jsgbozvhxc .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#jsgbozvhxc .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#jsgbozvhxc .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jsgbozvhxc .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jsgbozvhxc .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#jsgbozvhxc .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#jsgbozvhxc .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#jsgbozvhxc .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jsgbozvhxc .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jsgbozvhxc .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jsgbozvhxc .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jsgbozvhxc .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jsgbozvhxc .gt_left {
  text-align: left;
}

#jsgbozvhxc .gt_center {
  text-align: center;
}

#jsgbozvhxc .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#jsgbozvhxc .gt_font_normal {
  font-weight: normal;
}

#jsgbozvhxc .gt_font_bold {
  font-weight: bold;
}

#jsgbozvhxc .gt_font_italic {
  font-style: italic;
}

#jsgbozvhxc .gt_super {
  font-size: 65%;
}

#jsgbozvhxc .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#jsgbozvhxc .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#jsgbozvhxc .gt_indent_1 {
  text-indent: 5px;
}

#jsgbozvhxc .gt_indent_2 {
  text-indent: 10px;
}

#jsgbozvhxc .gt_indent_3 {
  text-indent: 15px;
}

#jsgbozvhxc .gt_indent_4 {
  text-indent: 20px;
}

#jsgbozvhxc .gt_indent_5 {
  text-indent: 25px;
}

#jsgbozvhxc .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#jsgbozvhxc div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading header">
<th colspan="4" class="gt_heading gt_title gt_font_normal">Impulse Response of R&amp;D Shock on Firm Growth</th>
</tr>
<tr class="gt_heading even">
<th colspan="4" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border">Local Projections IV Estimation (95% CI)</th>
</tr>
<tr class="gt_col_headings header">
<th id="Horizon" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="font-weight: bold" scope="col">Horizon (h)</th>
<th id="Estimate" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="font-weight: bold" scope="col">IRF Estimate</th>
<th id="CI_Lower" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="font-weight: bold" scope="col">Lower 95% CI</th>
<th id="CI_Upper" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="font-weight: bold" scope="col">Upper 95% CI</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="Horizon">0</td>
<td class="gt_row gt_right" headers="Estimate">0.00010</td>
<td class="gt_row gt_right" headers="CI_Lower">0.00026</td>
<td class="gt_row gt_right" headers="CI_Upper">0.00005</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="Horizon">1</td>
<td class="gt_row gt_right" headers="Estimate">0.00016</td>
<td class="gt_row gt_right" headers="CI_Lower">0.00045</td>
<td class="gt_row gt_right" headers="CI_Upper">0.00078</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="Horizon">2</td>
<td class="gt_row gt_right" headers="Estimate">0.00010</td>
<td class="gt_row gt_right" headers="CI_Lower">0.00031</td>
<td class="gt_row gt_right" headers="CI_Upper">0.00010</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="Horizon">3</td>
<td class="gt_row gt_right" headers="Estimate">0.00279</td>
<td class="gt_row gt_right" headers="CI_Lower">0.00359</td>
<td class="gt_row gt_right" headers="CI_Upper">0.00917</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="Horizon">4</td>
<td class="gt_row gt_right" headers="Estimate">0.00007</td>
<td class="gt_row gt_right" headers="CI_Lower">0.00025</td>
<td class="gt_row gt_right" headers="CI_Upper">0.00010</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<ol start="2" type="1">
<li>step by step</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>panel_lp_2sls <span class="ot">&lt;-</span> merged_data <span class="sc">%&gt;%</span></span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(company, year) <span class="sc">%&gt;%</span></span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(company) <span class="sc">%&gt;%</span></span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb101-5"><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">rd_lag1          =</span> dplyr<span class="sc">::</span><span class="fu">lag</span>(rd_intensity_percent, <span class="dv">1</span>),</span>
<span id="cb101-6"><a href="#cb101-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">sales_lag1       =</span> dplyr<span class="sc">::</span><span class="fu">lag</span>(sales_million, <span class="dv">1</span>),</span>
<span id="cb101-7"><a href="#cb101-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">patent_lag1      =</span> dplyr<span class="sc">::</span><span class="fu">lag</span>(patent_intensity_sales, <span class="dv">1</span>),</span>
<span id="cb101-8"><a href="#cb101-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb101-9"><a href="#cb101-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">sales_0          =</span> dplyr<span class="sc">::</span><span class="fu">lead</span>(sales_million, <span class="dv">0</span>),</span>
<span id="cb101-10"><a href="#cb101-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">sales_1          =</span> dplyr<span class="sc">::</span><span class="fu">lead</span>(sales_million, <span class="dv">1</span>),</span>
<span id="cb101-11"><a href="#cb101-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">sales_2          =</span> dplyr<span class="sc">::</span><span class="fu">lead</span>(sales_million, <span class="dv">2</span>),</span>
<span id="cb101-12"><a href="#cb101-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb101-13"><a href="#cb101-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">growth_lead_0    =</span> <span class="fu">log</span>(sales_0) <span class="sc">-</span> <span class="fu">log</span>(sales_lag1),</span>
<span id="cb101-14"><a href="#cb101-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">growth_lead_1    =</span> <span class="fu">log</span>(sales_1) <span class="sc">-</span> <span class="fu">log</span>(sales_lag1),</span>
<span id="cb101-15"><a href="#cb101-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">growth_lead_2    =</span> <span class="fu">log</span>(sales_2) <span class="sc">-</span> <span class="fu">log</span>(sales_lag1)</span>
<span id="cb101-16"><a href="#cb101-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb101-17"><a href="#cb101-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb101-18"><a href="#cb101-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-19"><a href="#cb101-19" aria-hidden="true" tabindex="-1"></a>lp_2sls_h0 <span class="ot">&lt;-</span> <span class="fu">feols</span>(</span>
<span id="cb101-20"><a href="#cb101-20" aria-hidden="true" tabindex="-1"></a>  growth_lead_0 <span class="sc">~</span> sales_lag1 <span class="sc">|</span> icb_sector <span class="sc">+</span> country <span class="sc">+</span> year <span class="sc">|</span> rd_lag1 <span class="sc">~</span> patent_lag1,</span>
<span id="cb101-21"><a href="#cb101-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> panel_lp_2sls,<span class="at">cluster =</span> <span class="sc">~</span> company)</span>
<span id="cb101-22"><a href="#cb101-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-23"><a href="#cb101-23" aria-hidden="true" tabindex="-1"></a>lp_2sls_h1 <span class="ot">&lt;-</span> <span class="fu">feols</span>(</span>
<span id="cb101-24"><a href="#cb101-24" aria-hidden="true" tabindex="-1"></a>  growth_lead_1 <span class="sc">~</span> sales_lag1 <span class="sc">|</span> icb_sector <span class="sc">+</span> country <span class="sc">+</span> year <span class="sc">|</span> rd_lag1 <span class="sc">~</span> patent_lag1,</span>
<span id="cb101-25"><a href="#cb101-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> panel_lp_2sls,<span class="at">cluster =</span> <span class="sc">~</span> company)</span>
<span id="cb101-26"><a href="#cb101-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-27"><a href="#cb101-27" aria-hidden="true" tabindex="-1"></a>lp_2sls_h2 <span class="ot">&lt;-</span> <span class="fu">feols</span>(</span>
<span id="cb101-28"><a href="#cb101-28" aria-hidden="true" tabindex="-1"></a>  growth_lead_2 <span class="sc">~</span> sales_lag1 <span class="sc">|</span> icb_sector <span class="sc">+</span> country <span class="sc">+</span> year <span class="sc">|</span> rd_lag1 <span class="sc">~</span> patent_lag1,</span>
<span id="cb101-29"><a href="#cb101-29" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> panel_lp_2sls,<span class="at">cluster =</span> <span class="sc">~</span> company)</span>
<span id="cb101-30"><a href="#cb101-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-31"><a href="#cb101-31" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(lp_2sls_h0)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>TSLS estimation - Dep. Var.: growth_lead_0
                  Endo.    : rd_lag1
                  Instr.   : patent_lag1
Second stage: Dep. Var.: growth_lead_0
Observations: 3,677
Fixed-effects: icb_sector: 37,  country: 17,  year: 9
Standard-errors: Clustered (company) 
             Estimate Std. Error  t value  Pr(&gt;|t|)    
fit_rd_lag1  7.38e-06  2.838e-06  2.60012 0.0096509 ** 
sales_lag1  -1.05e-06  3.400e-07 -3.07487 0.0022448 ** 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.618415     Adj. R2: 0.151434
                 Within R2: 0.155994
F-test (1st stage), rd_lag1: stat = 40,367.6, p &lt; 2.2e-16, on 1 and 3,614 DoF.
                 Wu-Hausman: stat =    129.7, p &lt; 2.2e-16, on 1 and 3,613 DoF.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(lp_2sls_h1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>TSLS estimation - Dep. Var.: growth_lead_1
                  Endo.    : rd_lag1
                  Instr.   : patent_lag1
Second stage: Dep. Var.: growth_lead_1
Observations: 3,259
Fixed-effects: icb_sector: 37,  country: 17,  year: 8
Standard-errors: Clustered (company) 
             Estimate Std. Error  t value  Pr(&gt;|t|)    
fit_rd_lag1  4.66e-06   2.71e-07 17.21276 &lt; 2.2e-16 ***
sales_lag1  -1.30e-06   3.87e-07 -3.35503 0.0008664 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.484207     Adj. R2: 0.150538
                 Within R2: 0.144598
F-test (1st stage), rd_lag1: stat = 35,822.4    , p &lt; 2.2e-16 , on 1 and 3,197 DoF.
                 Wu-Hausman: stat =      3.40665, p = 0.065026, on 1 and 3,196 DoF.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(lp_2sls_h2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>TSLS estimation - Dep. Var.: growth_lead_2
                  Endo.    : rd_lag1
                  Instr.   : patent_lag1
Second stage: Dep. Var.: growth_lead_2
Observations: 2,843
Fixed-effects: icb_sector: 37,  country: 17,  year: 7
Standard-errors: Clustered (company) 
             Estimate Std. Error  t value   Pr(&gt;|t|)    
fit_rd_lag1  8.06e-06  3.122e-06  2.58274 0.01014256 *  
sales_lag1  -1.99e-06  5.820e-07 -3.41432 0.00070219 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.666357     Adj. R2: 0.190123
                 Within R2: 0.186612
F-test (1st stage), rd_lag1: stat = 29,994.6, p &lt; 2.2e-16, on 1 and 2,782 DoF.
                 Wu-Hausman: stat =    210.9, p &lt; 2.2e-16, on 1 and 2,781 DoF.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="fu">etable</span>(lp_2sls_h0, lp_2sls_h1, lp_2sls_h2,</span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">headers =</span> <span class="fu">c</span>(<span class="st">"H=0"</span>, <span class="st">"H=1"</span>, <span class="st">"H=2"</span>),</span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">dict =</span> <span class="fu">c</span>(<span class="at">rd_lag1 =</span> <span class="st">"Lagged R&amp;D Intensity"</span>,</span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">sales_lag1 =</span> <span class="st">"Lagged Sales"</span>,</span>
<span id="cb107-5"><a href="#cb107-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">patent_lag1 =</span> <span class="st">"Patent Intensity (IV)"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                               lp_2sls_h0           lp_2sls_h1
                                      H=0                  H=1
Dependent Var.:             growth_lead_0        growth_lead_1
                                                              
Lagged R&amp;D Intensity  7.38e-6** (2.84e-6) 4.66e-6*** (2.71e-7)
Lagged Sales         -1.05e-6** (3.41e-7) -1.3e-6*** (3.87e-7)
Fixed-Effects:       -------------------- --------------------
icb_sector                            Yes                  Yes
country                               Yes                  Yes
year                                  Yes                  Yes
____________________ ____________________ ____________________
S.E.: Clustered               by: company          by: company
Observations                        3,677                3,259
R2                                0.16575              0.16644
Within R2                         0.15599              0.14460

                                lp_2sls_h2
                                       H=2
Dependent Var.:              growth_lead_2
                                          
Lagged R&amp;D Intensity    8.06e-6* (3.12e-6)
Lagged Sales         -1.99e-6*** (5.82e-7)
Fixed-Effects:       ---------------------
icb_sector                             Yes
country                                Yes
year                                   Yes
____________________ _____________________
S.E.: Clustered                by: company
Observations                         2,843
R2                                 0.20722
Within R2                          0.18661
---
Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>extract_ci <span class="ot">&lt;-</span> <span class="cf">function</span>(model) {</span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>  est_name <span class="ot">&lt;-</span> <span class="st">"fit_rd_lag1"</span></span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a>  ci <span class="ot">&lt;-</span> <span class="fu">confint</span>(model, <span class="at">level =</span> <span class="fl">0.90</span>)</span>
<span id="cb109-4"><a href="#cb109-4" aria-hidden="true" tabindex="-1"></a>  est <span class="ot">&lt;-</span> <span class="fu">coef</span>(model)[est_name]</span>
<span id="cb109-5"><a href="#cb109-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(</span>
<span id="cb109-6"><a href="#cb109-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">estimate =</span> est,</span>
<span id="cb109-7"><a href="#cb109-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">conf_low =</span> ci[est_name, <span class="dv">1</span>],</span>
<span id="cb109-8"><a href="#cb109-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">conf_high =</span> ci[est_name, <span class="dv">2</span>])}</span>
<span id="cb109-9"><a href="#cb109-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-10"><a href="#cb109-10" aria-hidden="true" tabindex="-1"></a>irf_2sls_df <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(</span>
<span id="cb109-11"><a href="#cb109-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">extract_ci</span>(lp_2sls_h0) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">horizon =</span> <span class="dv">0</span>),</span>
<span id="cb109-12"><a href="#cb109-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">extract_ci</span>(lp_2sls_h1) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">horizon =</span> <span class="dv">1</span>),</span>
<span id="cb109-13"><a href="#cb109-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">extract_ci</span>(lp_2sls_h2) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">horizon =</span> <span class="dv">2</span>))</span>
<span id="cb109-14"><a href="#cb109-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-15"><a href="#cb109-15" aria-hidden="true" tabindex="-1"></a>plot_2sls <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(irf_2sls_df, <span class="fu">aes</span>(<span class="at">x =</span> horizon, <span class="at">y =</span> estimate)) <span class="sc">+</span></span>
<span id="cb109-16"><a href="#cb109-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_ribbon</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> conf_low, <span class="at">ymax =</span> conf_high),</span>
<span id="cb109-17"><a href="#cb109-17" aria-hidden="true" tabindex="-1"></a>              <span class="at">fill =</span> <span class="st">"#66c2a5"</span>, <span class="at">alpha =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb109-18"><a href="#cb109-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"#238b45"</span>, <span class="at">size =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb109-19"><a href="#cb109-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="fl">2.8</span>, <span class="at">color =</span> <span class="st">"#238b45"</span>) <span class="sc">+</span></span>
<span id="cb109-20"><a href="#cb109-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(</span>
<span id="cb109-21"><a href="#cb109-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">label_number</span>(<span class="at">accuracy =</span> <span class="fl">0.000001</span>)(estimate)),</span>
<span id="cb109-22"><a href="#cb109-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">1.5</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>,</span>
<span id="cb109-23"><a href="#cb109-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">5</span>, <span class="at">fontface =</span> <span class="st">"bold"</span>, <span class="at">color =</span> <span class="st">"#238b45"</span>) <span class="sc">+</span></span>
<span id="cb109-24"><a href="#cb109-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"gray40"</span>) <span class="sc">+</span></span>
<span id="cb109-25"><a href="#cb109-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fl">0.1</span>)) <span class="sc">+</span>  </span>
<span id="cb109-26"><a href="#cb109-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">label_number</span>(<span class="at">accuracy =</span> <span class="fl">0.000001</span>)) <span class="sc">+</span></span>
<span id="cb109-27"><a href="#cb109-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">clip =</span> <span class="st">"off"</span>) <span class="sc">+</span></span>
<span id="cb109-28"><a href="#cb109-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb109-29"><a href="#cb109-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"2SLS: R&amp;D on Sales Growth"</span>,</span>
<span id="cb109-30"><a href="#cb109-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Local Projection IV Estimates (90% CI)"</span>,</span>
<span id="cb109-31"><a href="#cb109-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Horizon (h)"</span>,</span>
<span id="cb109-32"><a href="#cb109-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"IRF Estimate"</span>) <span class="sc">+</span></span>
<span id="cb109-33"><a href="#cb109-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb109-34"><a href="#cb109-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb109-35"><a href="#cb109-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">15</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb109-36"><a href="#cb109-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb109-37"><a href="#cb109-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb109-38"><a href="#cb109-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">11</span>),</span>
<span id="cb109-39"><a href="#cb109-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"gray85"</span>),</span>
<span id="cb109-40"><a href="#cb109-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb109-41"><a href="#cb109-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">10</span>, <span class="dv">20</span>))</span>
<span id="cb109-42"><a href="#cb109-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-43"><a href="#cb109-43" aria-hidden="true" tabindex="-1"></a>plot_2sls</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="merged_data_EU_files/figure-html/unnamed-chunk-60-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>irf_2sls_df <span class="sc">%&gt;%</span></span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">IRF Estimate</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sprintf</span>(<span class="st">"%.8f"</span>, estimate),</span>
<span id="cb110-4"><a href="#cb110-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">CI Lower</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sprintf</span>(<span class="st">"%.8f"</span>, conf_low),</span>
<span id="cb110-5"><a href="#cb110-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">CI Upper</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sprintf</span>(<span class="st">"%.8f"</span>, conf_high)</span>
<span id="cb110-6"><a href="#cb110-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb110-7"><a href="#cb110-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="at">Horizon =</span> horizon, <span class="st">`</span><span class="at">IRF Estimate</span><span class="st">`</span>, <span class="st">`</span><span class="at">CI Lower</span><span class="st">`</span>, <span class="st">`</span><span class="at">CI Upper</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb110-8"><a href="#cb110-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">flextable</span>() <span class="sc">%&gt;%</span></span>
<span id="cb110-9"><a href="#cb110-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_header_labels</span>(</span>
<span id="cb110-10"><a href="#cb110-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">Horizon =</span> <span class="st">"Horizon (h)"</span>,</span>
<span id="cb110-11"><a href="#cb110-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">IRF Estimate</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"IRF Estimate"</span>,</span>
<span id="cb110-12"><a href="#cb110-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">CI Lower</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"90% CI Lower"</span>,</span>
<span id="cb110-13"><a href="#cb110-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">CI Upper</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"90% CI Upper"</span></span>
<span id="cb110-14"><a href="#cb110-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb110-15"><a href="#cb110-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autofit</span>() <span class="sc">%&gt;%</span></span>
<span id="cb110-16"><a href="#cb110-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_booktabs</span>() <span class="sc">%&gt;%</span></span>
<span id="cb110-17"><a href="#cb110-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fontsize</span>(<span class="at">size =</span> <span class="dv">11</span>, <span class="at">part =</span> <span class="st">"all"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb110-18"><a href="#cb110-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bold</span>(<span class="at">part =</span> <span class="st">"header"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb110-19"><a href="#cb110-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">align</span>(<span class="at">align =</span> <span class="st">"center"</span>, <span class="at">part =</span> <span class="st">"all"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb110-20"><a href="#cb110-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">font</span>(<span class="at">fontname =</span> <span class="st">"Times New Roman"</span>, <span class="at">part =</span> <span class="st">"all"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="tabwid"><style>.cl-4ab54d5c{}.cl-4a9afc0e{font-family:'Times New Roman';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4a9afc22{font-family:'Times New Roman';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4aa62f7a{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4aa67642{width:1.041in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4aa67656{width:1.168in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4aa67660{width:1.245in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4aa6766a{width:1.041in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4aa6766b{width:1.168in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4aa67674{width:1.245in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4aa67675{width:1.041in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4aa6767e{width:1.168in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4aa67688{width:1.245in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4aa67689{width:1.041in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4aa67692{width:1.168in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4aa67693{width:1.245in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-4ab54d5c"><thead><tr style="overflow-wrap:break-word;"><th class="cl-4aa67642"><p class="cl-4aa62f7a"><span class="cl-4a9afc0e">Horizon (h)</span></p></th><th class="cl-4aa67656"><p class="cl-4aa62f7a"><span class="cl-4a9afc0e">IRF Estimate</span></p></th><th class="cl-4aa67660"><p class="cl-4aa62f7a"><span class="cl-4a9afc0e">90% CI Lower</span></p></th><th class="cl-4aa67660"><p class="cl-4aa62f7a"><span class="cl-4a9afc0e">90% CI Upper</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-4aa6766a"><p class="cl-4aa62f7a"><span class="cl-4a9afc22">0</span></p></td><td class="cl-4aa6766b"><p class="cl-4aa62f7a"><span class="cl-4a9afc22">0.00000738</span></p></td><td class="cl-4aa67674"><p class="cl-4aa62f7a"><span class="cl-4a9afc22">0.00000270</span></p></td><td class="cl-4aa67674"><p class="cl-4aa62f7a"><span class="cl-4a9afc22">0.00001206</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-4aa67675"><p class="cl-4aa62f7a"><span class="cl-4a9afc22">1</span></p></td><td class="cl-4aa6767e"><p class="cl-4aa62f7a"><span class="cl-4a9afc22">0.00000466</span></p></td><td class="cl-4aa67688"><p class="cl-4aa62f7a"><span class="cl-4a9afc22">0.00000421</span></p></td><td class="cl-4aa67688"><p class="cl-4aa62f7a"><span class="cl-4a9afc22">0.00000511</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-4aa67689"><p class="cl-4aa62f7a"><span class="cl-4a9afc22">2</span></p></td><td class="cl-4aa67692"><p class="cl-4aa62f7a"><span class="cl-4a9afc22">0.00000806</span></p></td><td class="cl-4aa67693"><p class="cl-4aa62f7a"><span class="cl-4a9afc22">0.00000292</span></p></td><td class="cl-4aa67693"><p class="cl-4aa62f7a"><span class="cl-4a9afc22">0.00001321</span></p></td></tr></tbody></table></div>
</div>
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>plot_ols<span class="sc">+</span>plot_2sls</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="merged_data_EU_files/figure-html/unnamed-chunk-60-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="lp-gmm" class="level2">
<h2 class="anchored" data-anchor-id="lp-gmm">LP-GMM</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a>contemp_mat <span class="ot">&lt;-</span> <span class="fu">model.matrix</span>(</span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span> icb_sector <span class="sc">+</span> country <span class="sc">+</span> year,</span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> merged_clean</span>
<span id="cb112-4"><a href="#cb112-4" aria-hidden="true" tabindex="-1"></a>)[, <span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb112-5"><a href="#cb112-5" aria-hidden="true" tabindex="-1"></a>contemp_df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(contemp_mat)</span>
<span id="cb112-6"><a href="#cb112-6" aria-hidden="true" tabindex="-1"></a>endog_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb112-7"><a href="#cb112-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">sales_growth =</span> merged_clean<span class="sc">$</span>sales_growth_1y_percent</span>
<span id="cb112-8"><a href="#cb112-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb112-9"><a href="#cb112-9" aria-hidden="true" tabindex="-1"></a>shock_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb112-10"><a href="#cb112-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">rd_shock =</span> merged_clean<span class="sc">$</span>rd_intensity_percent</span>
<span id="cb112-11"><a href="#cb112-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb112-12"><a href="#cb112-12" aria-hidden="true" tabindex="-1"></a>l_exog_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb112-13"><a href="#cb112-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">sales =</span> merged_clean<span class="sc">$</span>sales_million)</span>
<span id="cb112-14"><a href="#cb112-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-15"><a href="#cb112-15" aria-hidden="true" tabindex="-1"></a>data_set_df <span class="ot">&lt;-</span> merged_clean <span class="sc">%&gt;%</span></span>
<span id="cb112-16"><a href="#cb112-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb112-17"><a href="#cb112-17" aria-hidden="true" tabindex="-1"></a>    company, </span>
<span id="cb112-18"><a href="#cb112-18" aria-hidden="true" tabindex="-1"></a>    year, </span>
<span id="cb112-19"><a href="#cb112-19" aria-hidden="true" tabindex="-1"></a>    sales_growth_1y_percent,  </span>
<span id="cb112-20"><a href="#cb112-20" aria-hidden="true" tabindex="-1"></a>    rd_intensity_percent,      </span>
<span id="cb112-21"><a href="#cb112-21" aria-hidden="true" tabindex="-1"></a>    patent_intensity_sales,    </span>
<span id="cb112-22"><a href="#cb112-22" aria-hidden="true" tabindex="-1"></a>    sales_million,                </span>
<span id="cb112-23"><a href="#cb112-23" aria-hidden="true" tabindex="-1"></a>    icb_sector,                </span>
<span id="cb112-24"><a href="#cb112-24" aria-hidden="true" tabindex="-1"></a>    country,</span>
<span id="cb112-25"><a href="#cb112-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">everything</span>())</span>
<span id="cb112-26"><a href="#cb112-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-27"><a href="#cb112-27" aria-hidden="true" tabindex="-1"></a>results_lp_gmm <span class="ot">&lt;-</span> <span class="fu">lp_lin_panel</span>(</span>
<span id="cb112-28"><a href="#cb112-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">data_set        =</span> data_set_df,</span>
<span id="cb112-29"><a href="#cb112-29" aria-hidden="true" tabindex="-1"></a>  <span class="at">data_sample     =</span> <span class="st">"Full"</span>,</span>
<span id="cb112-30"><a href="#cb112-30" aria-hidden="true" tabindex="-1"></a>  <span class="at">endog_data      =</span> <span class="st">"sales_growth_1y_percent"</span>,</span>
<span id="cb112-31"><a href="#cb112-31" aria-hidden="true" tabindex="-1"></a>  <span class="at">cumul_mult      =</span> <span class="cn">FALSE</span>,</span>
<span id="cb112-32"><a href="#cb112-32" aria-hidden="true" tabindex="-1"></a>  <span class="at">shock           =</span> <span class="st">"rd_intensity_percent"</span>,</span>
<span id="cb112-33"><a href="#cb112-33" aria-hidden="true" tabindex="-1"></a>  <span class="at">diff_shock      =</span> <span class="cn">TRUE</span>,</span>
<span id="cb112-34"><a href="#cb112-34" aria-hidden="true" tabindex="-1"></a>  <span class="at">iv_reg          =</span> <span class="cn">FALSE</span>,</span>
<span id="cb112-35"><a href="#cb112-35" aria-hidden="true" tabindex="-1"></a>  <span class="at">instrum         =</span> <span class="st">"patent_intensity_sales"</span>,</span>
<span id="cb112-36"><a href="#cb112-36" aria-hidden="true" tabindex="-1"></a>  <span class="at">panel_model     =</span> <span class="st">"within"</span>,</span>
<span id="cb112-37"><a href="#cb112-37" aria-hidden="true" tabindex="-1"></a>  <span class="at">panel_effect    =</span> <span class="st">"individual"</span>,</span>
<span id="cb112-38"><a href="#cb112-38" aria-hidden="true" tabindex="-1"></a>  <span class="at">robust_cov      =</span> <span class="cn">NULL</span>,</span>
<span id="cb112-39"><a href="#cb112-39" aria-hidden="true" tabindex="-1"></a>  <span class="at">use_gmm         =</span> <span class="cn">TRUE</span>,</span>
<span id="cb112-40"><a href="#cb112-40" aria-hidden="true" tabindex="-1"></a>  <span class="at">gmm_model       =</span> <span class="st">"twosteps"</span>,</span>
<span id="cb112-41"><a href="#cb112-41" aria-hidden="true" tabindex="-1"></a>  <span class="at">gmm_effect      =</span> <span class="st">"individual"</span>,  </span>
<span id="cb112-42"><a href="#cb112-42" aria-hidden="true" tabindex="-1"></a>  <span class="at">gmm_transformation =</span> <span class="st">"d"</span>,</span>
<span id="cb112-43"><a href="#cb112-43" aria-hidden="true" tabindex="-1"></a>  <span class="at">c_exog_data     =</span> <span class="cn">NULL</span>,</span>
<span id="cb112-44"><a href="#cb112-44" aria-hidden="true" tabindex="-1"></a>  <span class="at">l_exog_data     =</span> <span class="st">"sales_million"</span>,</span>
<span id="cb112-45"><a href="#cb112-45" aria-hidden="true" tabindex="-1"></a>  <span class="at">lags_exog_data  =</span> <span class="dv">1</span>,</span>
<span id="cb112-46"><a href="#cb112-46" aria-hidden="true" tabindex="-1"></a>  <span class="at">c_fd_exog_data  =</span> <span class="cn">NULL</span>,</span>
<span id="cb112-47"><a href="#cb112-47" aria-hidden="true" tabindex="-1"></a>  <span class="at">l_fd_exog_data  =</span> <span class="cn">NULL</span>,</span>
<span id="cb112-48"><a href="#cb112-48" aria-hidden="true" tabindex="-1"></a>  <span class="at">lags_fd_exog_data =</span> <span class="cn">NaN</span>,</span>
<span id="cb112-49"><a href="#cb112-49" aria-hidden="true" tabindex="-1"></a>  <span class="at">confint         =</span> <span class="fl">1.96</span>,</span>
<span id="cb112-50"><a href="#cb112-50" aria-hidden="true" tabindex="-1"></a>  <span class="at">hor             =</span> <span class="dv">5</span>)</span>
<span id="cb112-51"><a href="#cb112-51" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(results_lp_gmm<span class="sc">$</span>reg_outputs[[<span class="dv">1</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Oneway (individual) effect Two-steps model Difference GMM 

Call:
plm::pgmm(formula = gmm_formula, data = yx_data, effect = specs$gmm_effect, 
    model = specs$gmm_model, transformation = specs$gmm_transformation, 
    index = c("cross_id", "date_id"))

Unbalanced Panel: n = 417, T = 7-9, N = 3718

Number of Observations Used: 2851
Residuals:
     Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
-16641.71     -6.34      0.00     16.72      6.39  44574.49 

Coefficients:
                         Estimate  Std. Error    z-value Pr(&gt;|z|)    
drd_intensity_percent -0.07227210  0.00004188 -1725.7123  &lt; 2e-16 ***
sales_million_lag_1   -0.00139802  0.00072407    -1.9308  0.05351 .  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Sargan test: chisq(28) = 46.16588 (p-value = 0.016752)
Autocorrelation test (1): normal = -1.034348 (p-value = 0.30097)
Autocorrelation test (2): normal = 0.9901801 (p-value = 0.32209)
Wald test for coefficients: chisq(2) = 3397710 (p-value = &lt; 2.22e-16)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="co">#summary(results_lp_gmm$reg_outputs[[2]])</span></span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(results_lp_gmm<span class="sc">$</span>reg_outputs[[<span class="dv">3</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Oneway (individual) effect Two-steps model Difference GMM 

Call:
plm::pgmm(formula = gmm_formula, data = yx_data, effect = specs$gmm_effect, 
    model = specs$gmm_model, transformation = specs$gmm_transformation, 
    index = c("cross_id", "date_id"))

Unbalanced Panel: n = 417, T = 5-7, N = 2884

Number of Observations Used: 2018
Residuals:
    Min.  1st Qu.   Median     Mean  3rd Qu.     Max. 
-2219.73    -6.64     0.00    21.89     7.12 44584.60 

Coefficients:
                         Estimate  Std. Error z-value  Pr(&gt;|z|)    
drd_intensity_percent  0.00256584  0.00047544  5.3968 6.786e-08 ***
sales_million_lag_1   -0.00060660  0.00080247 -0.7559    0.4497    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Sargan test: chisq(15) = 19.88466 (p-value = 0.1764)
Autocorrelation test (1): normal = -1.69731 (p-value = 0.089638)
Autocorrelation test (2): normal = -1.18176 (p-value = 0.2373)
Wald test for coefficients: chisq(2) = 29.67428 (p-value = 3.6001e-07)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="co">#summary(results_lp_gmm$reg_outputs[[4]])</span></span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a><span class="co">#summary(results_lp_gmm$reg_outputs[[5]])</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a>gmm_pvals <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Horizon  =</span> <span class="fu">paste0</span>(<span class="st">"h = "</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>),</span>
<span id="cb117-3"><a href="#cb117-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Sargan_p =</span> <span class="fu">rep</span>(<span class="cn">NA_real_</span>, <span class="dv">5</span>),</span>
<span id="cb117-4"><a href="#cb117-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">AB1_p    =</span> <span class="fu">rep</span>(<span class="cn">NA_real_</span>, <span class="dv">5</span>),</span>
<span id="cb117-5"><a href="#cb117-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">AB2_p    =</span> <span class="fu">rep</span>(<span class="cn">NA_real_</span>, <span class="dv">5</span>),</span>
<span id="cb117-6"><a href="#cb117-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb117-7"><a href="#cb117-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-8"><a href="#cb117-8" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (h <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) {</span>
<span id="cb117-9"><a href="#cb117-9" aria-hidden="true" tabindex="-1"></a>  mod_h <span class="ot">&lt;-</span> results_lp_gmm<span class="sc">$</span>reg_outputs[[h]]</span>
<span id="cb117-10"><a href="#cb117-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb117-11"><a href="#cb117-11" aria-hidden="true" tabindex="-1"></a>  sargan_pval <span class="ot">&lt;-</span> <span class="fu">tryCatch</span>({</span>
<span id="cb117-12"><a href="#cb117-12" aria-hidden="true" tabindex="-1"></a>    plm<span class="sc">::</span><span class="fu">sargan</span>(mod_h)<span class="sc">$</span>p.value</span>
<span id="cb117-13"><a href="#cb117-13" aria-hidden="true" tabindex="-1"></a>  }, <span class="at">error =</span> <span class="cf">function</span>(e) { <span class="cn">NA_real_</span> })</span>
<span id="cb117-14"><a href="#cb117-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb117-15"><a href="#cb117-15" aria-hidden="true" tabindex="-1"></a>  ab1_pval <span class="ot">&lt;-</span> <span class="fu">tryCatch</span>({</span>
<span id="cb117-16"><a href="#cb117-16" aria-hidden="true" tabindex="-1"></a>    plm<span class="sc">::</span><span class="fu">mtest</span>(mod_h, <span class="at">order =</span> <span class="dv">1</span>)<span class="sc">$</span>p.value</span>
<span id="cb117-17"><a href="#cb117-17" aria-hidden="true" tabindex="-1"></a>  }, <span class="at">error =</span> <span class="cf">function</span>(e) { <span class="cn">NA_real_</span> })</span>
<span id="cb117-18"><a href="#cb117-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb117-19"><a href="#cb117-19" aria-hidden="true" tabindex="-1"></a>  ab2_pval <span class="ot">&lt;-</span> <span class="fu">tryCatch</span>({</span>
<span id="cb117-20"><a href="#cb117-20" aria-hidden="true" tabindex="-1"></a>    plm<span class="sc">::</span><span class="fu">mtest</span>(mod_h, <span class="at">order =</span> <span class="dv">2</span>)<span class="sc">$</span>p.value</span>
<span id="cb117-21"><a href="#cb117-21" aria-hidden="true" tabindex="-1"></a>  }, <span class="at">error =</span> <span class="cf">function</span>(e) { <span class="cn">NA_real_</span> })</span>
<span id="cb117-22"><a href="#cb117-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb117-23"><a href="#cb117-23" aria-hidden="true" tabindex="-1"></a>  gmm_pvals<span class="sc">$</span>Sargan_p[h] <span class="ot">&lt;-</span> sargan_pval</span>
<span id="cb117-24"><a href="#cb117-24" aria-hidden="true" tabindex="-1"></a>  gmm_pvals<span class="sc">$</span>AB1_p[h]    <span class="ot">&lt;-</span> ab1_pval</span>
<span id="cb117-25"><a href="#cb117-25" aria-hidden="true" tabindex="-1"></a>  gmm_pvals<span class="sc">$</span>AB2_p[h]    <span class="ot">&lt;-</span> ab2_pval}</span>
<span id="cb117-26"><a href="#cb117-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-27"><a href="#cb117-27" aria-hidden="true" tabindex="-1"></a>gmm_pvals_fmt <span class="ot">&lt;-</span> gmm_pvals <span class="sc">%&gt;%</span></span>
<span id="cb117-28"><a href="#cb117-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb117-29"><a href="#cb117-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">Sargan_p =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(Sargan_p), <span class="st">""</span>, <span class="fu">sprintf</span>(<span class="st">"%.4f"</span>, Sargan_p)),</span>
<span id="cb117-30"><a href="#cb117-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">AB1_p    =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(AB1_p),    <span class="st">""</span>, <span class="fu">sprintf</span>(<span class="st">"%.4f"</span>, AB1_p)),</span>
<span id="cb117-31"><a href="#cb117-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">AB2_p    =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(AB2_p),    <span class="st">""</span>, <span class="fu">sprintf</span>(<span class="st">"%.4f"</span>, AB2_p)))</span>
<span id="cb117-32"><a href="#cb117-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-33"><a href="#cb117-33" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(gmm_pvals_fmt) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Horizon"</span>, <span class="st">"Sargan p-value"</span>, <span class="st">"AB(1) p-value"</span>, <span class="st">"AB(2) p-value"</span>)</span>
<span id="cb117-34"><a href="#cb117-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-35"><a href="#cb117-35" aria-hidden="true" tabindex="-1"></a>gmm_pvals_fmt <span class="sc">%&gt;%</span></span>
<span id="cb117-36"><a href="#cb117-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="st">"html"</span>,</span>
<span id="cb117-37"><a href="#cb117-37" aria-hidden="true" tabindex="-1"></a>        <span class="at">escape    =</span> <span class="cn">FALSE</span>,</span>
<span id="cb117-38"><a href="#cb117-38" aria-hidden="true" tabindex="-1"></a>        <span class="at">align     =</span> <span class="fu">c</span>(<span class="st">"l"</span>, <span class="st">"c"</span>, <span class="st">"c"</span>, <span class="st">"c"</span>),</span>
<span id="cb117-39"><a href="#cb117-39" aria-hidden="true" tabindex="-1"></a>        <span class="at">row.names =</span> <span class="cn">FALSE</span>,</span>
<span id="cb117-40"><a href="#cb117-40" aria-hidden="true" tabindex="-1"></a>        <span class="at">caption   =</span> <span class="st">"LP-GMM Twosteps DIF-GMM: Horizon = 1-5 "</span></span>
<span id="cb117-41"><a href="#cb117-41" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb117-42"><a href="#cb117-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic_2</span>(<span class="at">full_width =</span> <span class="cn">FALSE</span>, <span class="at">html_font =</span> <span class="st">"Times New Roman"</span>, <span class="at">font_size =</span> <span class="dv">14</span>) <span class="sc">%&gt;%</span></span>
<span id="cb117-43"><a href="#cb117-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>, <span class="at">extra_css =</span> <span class="st">"font-family: 'Times New Roman';"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb117-44"><a href="#cb117-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">1</span>, <span class="at">width =</span> <span class="st">"2.5cm"</span>, <span class="at">extra_css =</span> <span class="st">"font-family: 'Times New Roman'; text-align: left;"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb117-45"><a href="#cb117-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">width =</span> <span class="st">"2cm"</span>, <span class="at">extra_css =</span> <span class="st">"font-family: 'Times New Roman'; text-align: center;"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="lightable-classic-2 caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<caption>LP-GMM Twosteps DIF-GMM: Horizon = 1-5</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; font-family: 'Times New Roman';">Horizon</th>
<th data-quarto-table-cell-role="th" style="text-align: center; font-weight: bold; font-family: 'Times New Roman';">Sargan p-value</th>
<th data-quarto-table-cell-role="th" style="text-align: center; font-weight: bold; font-family: 'Times New Roman';">AB(1) p-value</th>
<th data-quarto-table-cell-role="th" style="text-align: center; font-weight: bold; font-family: 'Times New Roman';">AB(2) p-value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; width: 2.5cm; font-family: 'Times New Roman';">h = 1</td>
<td style="text-align: center; width: 2cm; font-family: 'Times New Roman';">0.0168</td>
<td style="text-align: center; width: 2cm; font-family: 'Times New Roman';">0.3010</td>
<td style="text-align: center; width: 2cm; font-family: 'Times New Roman';">0.3221</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 2.5cm; font-family: 'Times New Roman';">h = 2</td>
<td style="text-align: center; width: 2cm; font-family: 'Times New Roman';">0.0312</td>
<td style="text-align: center; width: 2cm; font-family: 'Times New Roman';">0.3540</td>
<td style="text-align: center; width: 2cm; font-family: 'Times New Roman';">0.2850</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 2.5cm; font-family: 'Times New Roman';">h = 3</td>
<td style="text-align: center; width: 2cm; font-family: 'Times New Roman';">0.1764</td>
<td style="text-align: center; width: 2cm; font-family: 'Times New Roman';">0.0896</td>
<td style="text-align: center; width: 2cm; font-family: 'Times New Roman';">0.2373</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 2.5cm; font-family: 'Times New Roman';">h = 4</td>
<td style="text-align: center; width: 2cm; font-family: 'Times New Roman';">0.3168</td>
<td style="text-align: center; width: 2cm; font-family: 'Times New Roman';">0.2763</td>
<td style="text-align: center; width: 2cm; font-family: 'Times New Roman';">0.2474</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 2.5cm; font-family: 'Times New Roman';">h = 5</td>
<td style="text-align: center; width: 2cm; font-family: 'Times New Roman';">0.2356</td>
<td style="text-align: center; width: 2cm; font-family: 'Times New Roman';">0.9237</td>
<td style="text-align: center; width: 2cm; font-family: 'Times New Roman';">0.3190</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="summary-table" class="level2">
<h2 class="anchored" data-anchor-id="summary-table">Summary Table</h2>
<p>1.Three indicators of OLS</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="fu">etable</span>(ols_model, ols_model_growth, ols_model_log,</span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">dict =</span> <span class="fu">c</span>(<span class="at">rd_lag1 =</span> <span class="st">"R&amp;D (lagged)"</span>,</span>
<span id="cb118-3"><a href="#cb118-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">growth_lag1 =</span> <span class="st">"Lagged Growth"</span>,</span>
<span id="cb118-4"><a href="#cb118-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">size_lag1 =</span> <span class="st">"Lagged Size"</span>),</span>
<span id="cb118-5"><a href="#cb118-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">headers =</span> <span class="fu">c</span>(<span class="st">"Intensity"</span>, <span class="st">"Growth"</span>, <span class="st">"Log Level"</span>),</span>
<span id="cb118-6"><a href="#cb118-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Comparison of R&amp;D Measures in OLS Regressions"</span>,</span>
<span id="cb118-7"><a href="#cb118-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">tex =</span> <span class="cn">FALSE</span>)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                          ols_model    ols_model_growth       ols_model_log
                          Intensity              Growth           Log Level
Dependent Var.:              growth              growth              growth
                                                                           
R&amp;D (lagged)    2.15e-5*** (4.8e-6)     0.0003 (0.0002)     0.0075 (0.0059)
Lagged Growth   -0.5543*** (0.0426) -0.5715*** (0.0408) -0.5710*** (0.0411)
Lagged Size      -5.5e-7. (3.24e-7)  -5.55e-7 (3.31e-7) -7.96e-7. (4.38e-7)
Fixed-Effects:  ------------------- ------------------- -------------------
icb_sector                      Yes                 Yes                 Yes
country                         Yes                 Yes                 Yes
year                            Yes                 Yes                 Yes
_______________ ___________________ ___________________ ___________________
S.E.: Clustered      by: icb_sector      by: icb_sector      by: icb_sector
Observations                  3,227               3,227               3,227
R2                          0.43164             0.42294             0.42273
Within R2                   0.42887             0.42012             0.41991
---
Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>